//		Customizable Magic weapon Generator
//		By: Dawgy

//		To use

[TYPEDEF t_MagicWeap_Prefix_Range_Accurate] 
ON=@EQUIP 
	SRC.ARCHERY=<EVAL ((SRC.ARCHERY)+20)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)+25)> 
ON=@UNEQUIP 
	SRC.ARCHERY=<EVAL ((SRC.ARCHERY)-20)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)-25)> 

[TYPEDEF t_MagicWeap_Prefix_Range_Quite_Accurate] 
ON=@EQUIP 
	SRC.ARCHERY=<EVAL ((SRC.ARCHERY)+30)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)+35)> 
ON=@UNEQUIP 
	SRC.ARCHERY=<EVAL ((SRC.ARCHERY)-30)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)-35)> 

[TYPEDEF t_MagicWeap_Prefix_Range_Exceedingly_Accurate] 
ON=@EQUIP 
	SRC.ARCHERY=<EVAL ((SRC.ARCHERY)+40)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)+45)> 
ON=@UNEQUIP 
	SRC.ARCHERY=<EVAL ((SRC.ARCHERY)-40)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)-45)> 

[TYPEDEF t_MagicWeap_Prefix_Range_Excellently_Accurate] 
ON=@EQUIP 
	SRC.ARCHERY=<EVAL ((SRC.ARCHERY)+50)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)+60)> 
ON=@UNEQUIP 
	SRC.ARCHERY=<EVAL ((SRC.ARCHERY)-50)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)-60)> 

[TYPEDEF t_MagicWeap_Prefix_Sword_Deadly] 
ON=@EQUIP 
	SRC.SWORDSMANSHIP=<EVAL ((SRC.SWORDSMANSHIP)+20)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)+25)> 
ON=@UNEQUIP 
	SRC.SWORDSMANSHIP=<EVAL ((SRC.SWORDSMANSHIP)-20)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)-25)> 

[TYPEDEF t_MagicWeap_Prefix_Sword_Quite_Deadly] 
ON=@EQUIP 
	SRC.SWORDSMANSHIP=<EVAL ((SRC.SWORDSMANSHIP)+30)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)+35)> 
ON=@UNEQUIP 
	SRC.SWORDSMANSHIP=<EVAL ((SRC.SWORDSMANSHIP)-30)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)-35)> 

[TYPEDEF t_MagicWeap_Prefix_Sword_Exceedingly_Deadly] 
ON=@EQUIP 
	SRC.SWORDSMANSHIP=<EVAL ((SRC.SWORDSMANSHIP)+40)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)+45)> 
ON=@UNEQUIP 
	SRC.SWORDSMANSHIP=<EVAL ((SRC.SWORDSMANSHIP)-40)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)-45)> 

[TYPEDEF t_MagicWeap_Prefix_Sword_Excellently_Deadly] 
ON=@EQUIP 
	SRC.SWORDSMANSHIP=<EVAL ((SRC.SWORDSMANSHIP)+50)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)+60)> 
ON=@UNEQUIP 
	SRC.SWORDSMANSHIP=<EVAL ((SRC.SWORDSMANSHIP)-50)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)-60)> 

[TYPEDEF t_MagicWeap_Prefix_Mace_Hard] 
ON=@EQUIP 
	SRC.MACEFIGHTING=<EVAL ((SRC.MACEFIGHTING)+20)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)+25)> 
ON=@UNEQUIP 
	SRC.MACEFIGHTING=<EVAL ((SRC.MACEFIGHTING)-20)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)-25)> 

[TYPEDEF t_MagicWeap_Prefix_Mace_Quite_Hard] 
ON=@EQUIP 
	SRC.MACEFIGHTING=<EVAL ((SRC.MACEFIGHTING)+30)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)+35)> 
ON=@UNEQUIP 
	SRC.MACEFIGHTING=<EVAL ((SRC.MACEFIGHTING)-30)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)-35)> 

[TYPEDEF t_MagicWeap_Prefix_Mace_Exceedingly_Hard] 
ON=@EQUIP 
	SRC.MACEFIGHTING=<EVAL ((SRC.MACEFIGHTING)+40)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)+45)> 
ON=@UNEQUIP 
	SRC.MACEFIGHTING=<EVAL ((SRC.MACEFIGHTING)-40)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)-45)> 

[TYPEDEF t_MagicWeap_Prefix_Mace_Excellently_Hard] 
ON=@EQUIP 
	SRC.MACEFIGHTING=<EVAL ((SRC.MACEFIGHTING)+50)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)+60)> 
ON=@UNEQUIP 
	SRC.MACEFIGHTING=<EVAL ((SRC.MACEFIGHTING)-50)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)-60)> 

[TYPEDEF t_MagicWeap_Prefix_Fence_Pointy] 
ON=@EQUIP 
	SRC.FENCING=<EVAL ((SRC.FENCING)+20)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)+25)> 
ON=@UNEQUIP 
	SRC.FENCING=<EVAL ((SRC.FENCING)-20)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)-25)> 

[TYPEDEF t_MagicWeap_Prefix_Fence_Quite_Pointy] 
ON=@EQUIP 
	SRC.FENCING=<EVAL ((SRC.FENCING)+30)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)+35)> 
ON=@UNEQUIP 
	SRC.FENCING=<EVAL ((SRC.FENCING)-30)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)-35)> 

[TYPEDEF t_MagicWeap_Prefix_Fence_Exceedingly_Pointy] 
ON=@EQUIP 
	SRC.FENCING=<EVAL ((SRC.FENCING)+40)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)+45)> 
ON=@UNEQUIP 
	SRC.FENCING=<EVAL ((SRC.FENCING)-40)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)-45)> 

[TYPEDEF t_MagicWeap_Prefix_Fence_Excellently_Pointy] 
ON=@EQUIP 
	SRC.FENCING=<EVAL ((SRC.FENCING)+50)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)+60)> 
ON=@UNEQUIP 
	SRC.FENCING=<EVAL ((SRC.FENCING)-50)> 
	SRC.TACTICS=<EVAL ((SRC.TACTICS)-60)> 

[TYPEDEF t_MagicWeap_Suffix_theFox] 
ON=@EQUIP 
SRC.MAXHITS=<EVAL ((SRC.MAXHITS)+3)> 
ON=@UNEQUIP 
SRC.MAXHITS=<EVAL ((SRC.MAXHITS)-3)> 

[TYPEDEF t_MagicWeap_Suffix_sex0r] 
ON=@EQUIP 
SRC.MAXHITS=<EVAL ((SRC.MAXHITS)+5)> 
ON=@UNEQUIP 
SRC.MAXHITS=<EVAL ((SRC.MAXHITS)-5)> 

[DEFNAMES BowsPrefix]	// Accurate: Least | Quite Accurate : Better | Exceedingly : Best | Excellently : Bestest (hoho)
Accurate_Name										Accurate
Accurate_Color										41
Accurate_Events									t_MagicWeap_Prefix_Range_Accurate

Quite_Accurate_Name								Quite Accurate
Quite_Accurate_Color								42
Quite_Accurate_Events							t_MagicWeap_Prefix_Range_Quite_Accurate

Exceedingly_Accurate_Name						Exceedingly Accurate
Exceedingly_Accurate_Color						43
Exceedingly_Accurate_Events					t_MagicWeap_Prefix_Range_Exceedingly_Accurate

Excellently_Accurate_Name						Excellently Accurate
Excellently_Accurate_Color						44
Excellently_Accurate_Events					t_MagicWeap_Prefix_Range_Excellently_Accurate

[DEFNAMES SwordsPreFix]
Deadly_Name											Deadly
Deadly_Color										024
Deadly_Events										t_MagicWeap_Prefix_Sword_Deadly

Quite_Deadly_Name									Quite Deadly
Quite_Deadly_Color								025
Quite_Deadly_Events								t_MagicWeap_Prefix_Sword_Quite_Deadly

Exceedingly_Deadly_Name							Exceedingly Deadly
Exceedingly_Deadly_Color						026
Exceedingly_Deadly_Events						t_MagicWeap_Prefix_Sword_Exceedingly_Deadly

Excellently_Deadly_Name							Excellently Deadly
Excellently_Deadly_Color						027
Excellently_Deadly_Events						t_MagicWeap_Prefix_Sword_Excellently_Deadly

[DEFNAMES AxePreFix]								// Axes use Swordsmanship, some of these are the same as the sword prefixes, apart from name and color.
Sharp_Name											Sharp
Sharp_Color											034
Sharp_Events										t_MagicWeap_Prefix_Sword_Deadly

Quite_Sharp_Name									Quite Sharp
Quite_Sharp_Color									035
Quite_Sharp_Events								t_MagicWeap_Prefix_Sword_Quite_Deadly

Exceedingly_Sharp_Name							Exceedingly Sharp
Exceedingly_Sharp_Color							036
Exceedingly_Sharp_Events						t_MagicWeap_Prefix_Sword_Exceedingly_Deadly

Excellently_Sharp_Name							Excellently Sharp
Excellently_Sharp_Color							037
Excellently_Sharp_Events						t_MagicWeap_Prefix_Sword_Excellently_Deadly

[DEFNAMES MacePreFix]
Hard_Name											Hard
Hard_Color											054
Hard_Events											t_MagicWeap_Prefix_Mace_Hard

Quite_Hard_Name									Quite Hard
Quite_Hard_Color									055
Quite_Hard_Events									t_MagicWeap_Prefix_Mace_Quite_Hard

Exceedingly_Hard_Name							Exceedingly Hard
Exceedingly_Hard_Color							056
Exceedingly_Hard_Events							t_MagicWeap_Prefix_Mace_Exceedingly_Hard

Excellently_Hard_Name							Excellently Hard
Excellently_Hard_Color							057
Excellently_Hard_Events							t_MagicWeap_Prefix_Mace_Excellently_Hard

[DEFNAMES FencingPreFix]
Pointy_Name											Pointy
Pointy_Color										064
Pointy_Events										t_MagicWeap_Prefix_Fence_Pointy

Quite_Pointy_Name									Quite Pointy
Quite_Pointy_Color								065
Quite_Pointy_Events								t_MagicWeap_Prefix_Fence_Quite_Pointy

Exceedingly_Pointy_Name							Exceedingly Pointy
Exceedingly_Pointy_Color						066
Exceedingly_Pointy_Events						t_MagicWeap_Prefix_Fence_Exceedingly_Pointy

Excellently_Pointy_Name							Excellently Pointy
Excellently_Pointy_Color						067
Excellently_Pointy_Events						t_MagicWeap_Prefix_Fence_Excellently_Pointy

[DEFNAMES WeaponSuffixes]
sex0r_Name											of sex0r
sex0r_Color											79
sex0r_Events										t_MagicWeap_Suffix_sex0r

theFox_Name											of the Fox
theFox_Color										60
theFox_Events										t_MagicWeap_Suffix_theFox

[DEFNAMES BowPrefixArrays]
p_bow_count			4			// How many types are there
p_bow_array[0]		Accurate
p_bow_array[1]		Quite_Accurate
p_bow_array[2]		Exceedingly_Accurate
p_bow_array[3]		Excellently_Accurate

[DEFNAMES SwordPrefixArrays]
p_sword_count		4			// How many types are there
p_sword_array[0]	Deadly
p_sword_array[1]  Quite_Deadly
p_sword_array[2]	Exceedingly_Deadly
p_sword_array[3]	Excellently_Deadly	

[DEFNAMES AxePrefixArrays]
p_axe_count			4			// How many types are there
p_axe_array[0]		Sharp
p_axe_array[1]		Quite_Sharp
p_axe_array[2]		Exceedingly_Sharp
p_axe_array[3]		Excellently_Sharp

[DEFNAMES MacePrefixArrays]
p_mace_count		4			// How many types are there
p_mace_array[0]	Hard
p_mace_array[1]	Quite_Hard
p_mace_array[2]	Exceedingly_Hard
p_mace_array[3]	Excellently_Hard	

[DEFNAMES MacePrefixArrays]
p_fence_count		4			// How many types are there
p_fence_array[0]	Pointy
p_fence_array[1]	Quite_Pointy
p_fence_array[2]	Exceedingly_Pointy
p_fence_array[3]	Excellently_Pointy

[DEFNAMES W_SuffixArrays]	// Suffixes are for any weapon
s_count			2				// How many types are there
s_array[0]		theFox
s_array[1]		sex0r

[DEFNAMES Settings]
randomizer			3				// If higher, there is a lesser chance of getting an item with both a suffix and a prefix
chance_of_swag		3				// If higher, there is a lesser chance of the weapon turning up on the corpse.

[DEFNAMES WEAPONGROUPS] // Grouped(mainly) by SKILL USED!
RND_AXE              { i_axe_exec 1 i_axe_battle 1 i_hatchet 1 i_axe 1 i_axe_double 1 i_axe_two_hand 1 } // SWORDSMANSHIP
RND_FENCING				{ i_spear_short 1 i_spear 1 i_war_fork 1 i_dagger 1 i_kryss 1 }
RND_MACE             { i_club 1 i_mace_war 1 i_mace 1 i_maul 1 i_hammer_war 1 i_axe_war 1 i_hammer_pick 1 }
RND_SWORD            { i_bardiche 1 i_cutlass 1 i_halberd 1 i_katana 1 i_sword_broad 1 i_sword_long 1 i_sword_long_b 1 i_sword_viking 1 i_scimitar 1 }
RND_STAFF            { i_staff_gnarled 1 i_staff_quarter 1 i_staff_black 1 } // MACEFIGHTING
RND_BOW		         { i_bow 1 i_crossbow 1 i_crossbow_heavy 1 }

[Function f_special] //usage f_special(type of *fix->( 1 = Prefix | 2 = Suffix),type of item) EX. f_special(1,bow) ..Suffixes do not need a second argument, as they work for every weapon
if (<ARGV[0]>==1)
//	say "<ARGV[1]> Prefix"
	f_prefix(<p_<ARGV[1]>_array[<rand(p_<ARGV[1]>_count)>]>)
elif (<ARGV[0]>==2)
//	say "<ARGV[0]> Suffix"
	f_suffix(<s_array[<rand(s_count)>]>)
endif
//f_suffix(<s_bow_array[<rand(s_bow_count)>]>)

[Function f_Prefix]// Usage .f_Prefix(Name), For example if your prefix Defnames are "Accurate_Name, Accurate_Color ect.ect., Use .f_Prefix(Accurate)
NAME="<?<ARGV[0]>_Name?> <?NAME?>" 
COLOR=<?<ARGV[0]>_Color?>
EVENTS=+<?<ARGV[0]>_Events?>
return 1 

[Function f_Suffix]// Usage .f_Suffix(Name), see above
NAME="<?NAME?> <?<ARGV[0]>_Name?> " 
COLOR=<?<ARGV[0]>_Color?>
EVENTS=+<?<ARGV[0]>_Events?>
return 1 

[Function f_magic_weapon] // Usage f_magic_weapon(#) 0=Random 1=Sword 2=Bow 3=Axe 4=Mace 5=Fencing weapons
Var.x=<ARGV[0]>
	if (<Var.x>==0)
		var.x=<eval(rand(3)+1)>
	endif
	if (<Var.x>==1)
		src.newitem=RND_SWORD
		var.y=<rand(randomizer)>
			if (<var.y>==1)				//Randomizer
				act.f_special(1,sword)
			endif
		var.z=<rand(randomizer)>
			if (<var.y>!=1)				//If there is no prefix, there is definatly a suffix
				var.z=1
			endif
			if (<var.z>==1)
				act.f_special(2)
			endif
		act.bounce
	endif
	if (<Var.x>==2)						// Rinse and repeat.
		src.newitem=RND_BOW
		var.y=<rand(randomizer)>
			if (<var.y>==1)
				act.f_special(1,bow)
			endif
		var.z=<rand(randomizer)>
			if (<var.y>!=1)
				var.z=1
			endif
			if (<var.z>==1)
				act.f_special(2)
			endif
		act.bounce
	endif
	if (<Var.x>==3)
		src.newitem=RND_AXE
		var.y=<rand(randomizer)>
			if (<var.y>==1)
				act.f_special(1,axe)
			endif
		var.z=<rand(randomizer)>
			if (<var.y>!=1)
				var.z=1
			endif
			if (<var.z>==1)
				act.f_special(2)
			endif
		act.bounce
	endif
		if (<Var.x>==4)
		src.newitem=RND_MACE
		var.y=<rand(randomizer)>
			if (<var.y>==1)
				act.f_special(1,mace)
			endif
		var.z=<rand(randomizer)>
			if (<var.y>!=1)
				var.z=1
			endif
			if (<var.z>==1)
				act.f_special(2)
			endif
		act.bounce
	endif
			if (<Var.x>==5)
		src.newitem=RND_FENCING
		var.y=<rand(randomizer)>
			if (<var.y>==1)
				act.f_special(1,fence)
			endif
		var.z=<rand(randomizer)>
			if (<var.y>!=1)
				var.z=1
			endif
			if (<var.z>==1)
				act.f_special(2)
			endif
		act.bounce
	endif


// Put one of these events on your monsters

[EVENTS E_RANDOM_MWEAPON]
ON=@DEATH
var.x=<rand(chance_of_swag)>
if (<var.x>==1)
	f_magic_weapon(0)
endif

[EVENTS E_SWORD_MWEAPON]
ON=@DEATH
var.x=<rand(chance_of_swag)>
if (<var.x>==1)
	f_magic_weapon(1)
endif

[EVENTS E_BOW_MWEAPON]
ON=@DEATH
var.x=<rand(chance_of_swag)>
if (<var.x>==1)
	f_magic_weapon(2)
endif

[EVENTS E_AXE_MWEAPON]
ON=@DEATH
var.x=<rand(chance_of_swag)>
if (<var.x>==1)
	f_magic_weapon(3)
endif

[EVENTS E_MACE_MWEAPON]
ON=@DEATH
var.x=<rand(chance_of_swag)>
if (<var.x>==1)
	f_magic_weapon(4)
endif

[EVENTS E_FENCING_MWEAPON]
ON=@DEATH
var.x=<rand(chance_of_swag)>
if (<var.x>==1)
	f_magic_weapon(5)
endif

[CHARDEF C_Test_Guy]
ID=C_ORC
NAME=Mr. Bungle
on=@create
EVENTS=+E_RANDOM_MWEAPON