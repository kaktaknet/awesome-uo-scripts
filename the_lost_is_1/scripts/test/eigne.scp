//Created by Aron & Illuminatic @ Alarias
[ITEMDEF i_Titel_Vergabe]
Name=Titelvergabe
ID=0edc
TYPE=0
CATEGORY=Eigene
SUBSECTION=Optionen
DESCRIPTION=Titelvergabe

ON=@CREATE
ATTR=0010

ON=@DCLICK
DIALOG d_Titel_Vergabe
Return 1

[DIALOG d_Titel_Vergabe]
130,130
resizepic 0 0 3600 140 105
text 25 15 955 0
text 25 45 955 1
text 25 65 955 2
button 110 50 2362 2361 1 0 1 
button 110 70 2362 2361 1 0 2 

[DIALOG d_Titel_Vergabe TEXT]
Titel Menu
Anschalten
Ausschalten


[DIALOG d_Titel_Vergabe BUTTON]
on=1
IF (STRMATCH(<src.title>,.))
SRC.TITLE=<src.tag.title>
SRC.Message Dein Titel wurde eingestellt!
Return 1
on=2 
IF ! (STRMATCH(<src.title>,.))
src.tag.title=<src.title>
SRC.TITLE=.
SRC.Message Dein Titel wurde abgestellt!
Return 1

[ITEMDEF i_check_stone]
ID=0edd
NAME=Check Vendor
TYPE=t_normal

CATEGORY=Ferals Stuff
SUBSECTION=Misc
DESCRIPTION=Check system

ON=@CLICK
MESSAGE <NAME>
RETURN 1

ON=@DCLICK
MENU=menu_check_stone
RETURN 1

[MENU menu_check_stone] 
Please choose your amount. You must have the required amount of gold in your pack. 

ON=0 Cashiers Check (5000)
IF (<SRC.RESTEST 5000 i_gold> )
SRC.CONSUME 5000 i_gold
SRC.NEWITEM=i_cashiers_check
SRC.ACT.MORE=<MORE>+5000
SRC.ACT.BOUNCE
MESSAGE Thank You <SRC.NAME>
RETURN 1
ELSE
VAR.GPN=(5000-<SRC.FINDLAYER(layer_pack).RESCOUNT i_gold> )
MESSAGE You Require <EVAL <VAR.GPN>> More Gold Pieces <SRC.NAME>!
RETURN 1
ENDIF

ON=0 Cashiers Check (10000)
IF (<SRC.RESTEST 10000 i_gold> )
SRC.CONSUME 10000 i_gold
SRC.NEWITEM=i_cashiers_check
SRC.ACT.MORE=<MORE>+10000
SRC.ACT.BOUNCE
MESSAGE Thank You <SRC.NAME>
RETURN 1
ELSE
VAR.GPN=(10000-<SRC.FINDLAYER(layer_pack).RESCOUNT i_gold> )
MESSAGE You Require <EVAL <VAR.GPN>> More Gold Pieces <SRC.NAME>!
RETURN 1
ENDIF

ON=0 Cashiers Check (25000)
IF (<SRC.RESTEST 25000 i_gold> )
SRC.CONSUME 25000 i_gold
SRC.NEWITEM=i_cashiers_check
SRC.ACT.MORE=<MORE>+25000
SRC.ACT.BOUNCE
MESSAGE Thank You <SRC.NAME>
RETURN 1
ELSE
VAR.GPN=(25000-<SRC.FINDLAYER(layer_pack).RESCOUNT i_gold> )
MESSAGE You Require <EVAL <VAR.GPN>> More Gold Pieces <SRC.NAME>!
RETURN 1
ENDIF

ON=0 Cashiers Check (50000)
IF (<SRC.RESTEST 50000 i_gold> )
SRC.CONSUME 50000 i_gold
SRC.NEWITEM=i_cashiers_check
SRC.ACT.MORE=<MORE>+50000
SRC.ACT.BOUNCE
MESSAGE Thank You <SRC.NAME>
RETURN 1
ELSE
VAR.GPN=(50000-<SRC.FINDLAYER(layer_pack).RESCOUNT i_gold> )
MESSAGE You Require <EVAL <VAR.GPN>> More Gold Pieces <SRC.NAME>!
RETURN 1
ENDIF

ON=0 Access Your Bank Box
SRC.BANKSELF
RETURN 1


[ITEMDEF i_cashiers_check]
ID=i_deed
NAME=Cashiers Check
WEIGHT=0

ON=@CREATE
COLOR=0594
ATTR=004 //newbied

ON=@CLICK
MESSAGE <NAME> <MORE>
RETURN 1

ON=@DCLICK
SRC.NEWITEM=i_gold
SRC.ACT.AMOUNT=<MORE>
SRC.ACT.BOUNCE
REMOVE
SRC.SYSMESSAGE You Have Cashed the Check.
RETURN 1



[ITEMDEF i_runebook]
NAME=runebook
ID=i_spellbook
RESOURCES=1 i_scroll_recall, 1 i_scroll_gate_travel, 1 i_rune_marker, 8 i_scroll_blank
TYPE=t_eq_script

ON=@Create
TIMER 0
COLOR 545
TYPE t_rune
ATTR attr_newbie
TAG.RUNE1NAME Empty
TAG.RUNE2NAME Empty
TAG.RUNE3NAME Empty
TAG.RUNE4NAME Empty
TAG.RUNE5NAME Empty
TAG.RUNE6NAME Empty
TAG.RUNE7NAME Empty
TAG.RUNE8NAME Empty
TAG.RUNE9NAME Empty
TAG.RUNE10NAME Empty
TAG.RUNE11NAME Empty
TAG.RUNE12NAME Empty
TAG.RUNE13NAME Empty
TAG.RUNE14NAME Empty
TAG.RUNE15NAME Empty
TAG.RUNE16NAME Empty
TAG.RUNE1POS 
TAG.RUNE2POS 
TAG.RUNE3POS 
TAG.RUNE4POS 
TAG.RUNE5POS 
TAG.RUNE6POS 
TAG.RUNE7POS 
TAG.RUNE8POS 
TAG.RUNE9POS 
TAG.RUNE10POS 
TAG.RUNE11POS 
TAG.RUNE12POS 
TAG.RUNE13POS 
TAG.RUNE14POS 
TAG.RUNE15POS 
TAG.RUNE16POS 
TAG.RUNEM1 0
TAG.RUNEM2 0
TAG.RUNEM3 0
TAG.RUNEM4 0
TAG.RUNEM5 0
TAG.RUNEM6 0
TAG.RUNEM7 0
TAG.RUNEM8 0
TAG.RUNEM9 0
TAG.RUNEM10 0
TAG.RUNEM11 0
TAG.RUNEM12 0
TAG.RUNEM13 0
TAG.RUNEM14 0
TAG.RUNEM15 0
TAG.RUNEM16 0
TAG.BOX1RECALL 0 2
TAG.BOX1GATE 0 2
TAG.BOX2RECALL 0 2
TAG.BOX2GATE 0 2
TAG.BOX3RECALL 0 3
TAG.BOX3GATE 0 3
TAG.BOX4RECALL 0 3
TAG.BOX4GATE 0 3
TAG.BOX5RECALL 0 4
TAG.BOX5GATE 0 4
TAG.BOX6RECALL 0 4
TAG.BOX6GATE 0 4
TAG.BOX7RECALL 0 5
TAG.BOX7GATE 0 5
TAG.BOX8RECALL 0 5
TAG.BOX8GATE 0 5
TAG.BOX9RECALL 0 6
TAG.BOX9GATE 0 6
TAG.BOX10RECALL 0 6
TAG.BOX10GATE 0 6
TAG.BOX11RECALL 0 7
TAG.BOX11GATE 0 7
TAG.BOX12RECALL 0 7
TAG.BOX12GATE 0 7
TAG.BOX13RECALL 0 8
TAG.BOX13GATE 0 8
TAG.BOX14RECALL 0 8
TAG.BOX14GATE 0 8
TAG.BOX15RECALL 0 9
TAG.BOX15GATE 0 9
TAG.BOX16RECALL 0 9
TAG.BOX16GATE 0 9
TAG.RECALL1 0 2
TAG.RECALL2 0 2
TAG.RECALL3 0 3
TAG.RECALL4 0 3
TAG.RECALL5 0 4
TAG.RECALL6 0 4
TAG.RECALL7 0 5
TAG.RECALL8 0 5
TAG.RECALL9 0 6
TAG.RECALL10 0 6
TAG.RECALL11 0 7
TAG.RECALL12 0 7
TAG.RECALL13 0 8
TAG.RECALL14 0 8
TAG.RECALL15 0 9
TAG.RECALL16 0 9
TAG.RUNEID1 0
TAG.RUNEID2 0
TAG.RUNEID3 0
TAG.RUNEID4 0
TAG.RUNEID5 0
TAG.RUNEID6 0
TAG.RUNEID7 0
TAG.RUNEID8 0
TAG.RUNEID9 0
TAG.RUNEID10 0
TAG.RUNEID11 0
TAG.RUNEID12 0
TAG.RUNEID13 0
TAG.RUNEID14 0
TAG.RUNEID15 0
TAG.RUNEID16 0
TAG.DROPRUNE1 60994 60994 0 2
TAG.DEFAULT1 60994 60994 0 2
TAG.DROPRUNE2 60994 60994 0 2
TAG.DEFAULT2 60994 60994 0 2
TAG.DROPRUNE3 60994 60994 0 3
TAG.DEFAULT3 60994 60994 0 3
TAG.DROPRUNE4 60994 60994 0 3
TAG.DEFAULT4 60994 60994 0 3
TAG.DROPRUNE5 60994 60994 0 4
TAG.DEFAULT5 60994 60994 0 4
TAG.DROPRUNE6 60994 60994 0 4
TAG.DEFAULT6 60994 60994 0 4
TAG.DROPRUNE7 60994 60994 0 5
TAG.DEFAULT7 60994 60994 0 5
TAG.DROPRUNE8 60994 60994 0 5
TAG.DEFAULT8 60994 60994 0 5
TAG.DROPRUNE9 60994 60994 0 6
TAG.DEFAULT9 60994 60994 0 6
TAG.DROPRUNE10 60994 60994 0 6
TAG.DEFAULT10 60994 60994 0 6
TAG.DROPRUNE11 60994 60994 0 7
TAG.DEFAULT11 60994 60994 0 7
TAG.DROPRUNE12 60994 60994 0 7
TAG.DEFAULT12 60994 60994 0 7
TAG.DROPRUNE13 60994 60994 0 8
TAG.DEFAULT13 60994 60994 0 8
TAG.DROPRUNE14 60994 60994 0 8
TAG.DEFAULT14 60994 60994 0 8
TAG.DROPRUNE15 60994 60994 0 9
TAG.DEFAULT15 60994 60994 0 9
TAG.DROPRUNE16 60994 60994 0 9
TAG.DEFAULT16 60994 60994 0 9

ON=@Click
MESSAGE <NAME>
MESSAGE a runebook
RETURN 1

ON=@DClick
DIALOG d_runebook
RETURN 1


ON=@Targon_Char
SRC.SYSMESSAGE That is not a rune.
RETURN 1

ON=@Targon_Item
IF !(<SRC.TARG.BASEID>==i_rune_marker)
SRC.SYSMESSAGE That is not a recall rune.
RETURN 1
ELSEIF (<EVAL <SRC.TARG.MOREP>>==0)
SRC.SYSMESSAGE This rune does not have a marked location. 
RETURN 1
ELSEIF (<TAG.RUNEID1>==0)
SRC.SYSMESSAGE <SRC.TARG.NAME>
TAG.RUNEM1 0<SRC.TARG.MORE2>
TAG.RUNEID1 1
TAG.BOX1GATE 1 0 21
TAG.RECALL1 1 0 2
TAG.BOX1RECALL 1 0 20
TAG.DEFAULT1 2361 2361 1 0 52
TAG.DROPRUNE1 2438 2437 1 0 53
TAG.RUNE1NAME <SRC.TARG.NAME>
TAG.RUNE1POS <SRC.TARG.MOREP>
TAG.DROPTEXT1 Drop rune
TAG.DEFAULTTEXT1 Set default
SRC.TARG.REMOVE
RETURN 1
ELSEIF (<TAG.RUNEID2>==0)
SRC.SYSMESSAGE <SRC.TARG.NAME>
TAG.RUNEM2 0<SRC.TARG.MORE2>
TAG.RUNEID2 1
TAG.BOX2GATE 1 0 23
TAG.RECALL2 1 0 3
TAG.BOX2RECALL 1 0 22
TAG.DEFAULT2 2361 2361 1 0 54
TAG.DROPRUNE2 2438 2437 1 0 55
TAG.RUNE2NAME <SRC.TARG.NAME>
TAG.RUNE2POS <SRC.TARG.MOREP>
TAG.DROPTEXT2 Drop rune
TAG.DEFAULTTEXT2 Set default
SRC.TARG.REMOVE
RETURN 1
ELSEIF (<TAG.RUNEID3>==0)
SRC.SYSMESSAGE <SRC.TARG.NAME>
TAG.RUNEM3 0<SRC.TARG.MORE2>
TAG.RUNEID3 1
TAG.BOX3GATE 1 0 25
TAG.RECALL3 1 0 4
TAG.BOX3RECALL 1 0 24
TAG.DEFAULT3 2361 2361 1 0 56
TAG.DROPRUNE3 2438 2437 1 0 57
TAG.RUNE3NAME <SRC.TARG.NAME>
TAG.RUNE3POS <SRC.TARG.MOREP>
TAG.DROPTEXT3 Drop rune
TAG.DEFAULTTEXT3 Set default
SRC.TARG.REMOVE
RETURN 1
ELSEIF (<TAG.RUNEID4>==0)
SRC.SYSMESSAGE <SRC.TARG.NAME>
TAG.RUNEM4 0<SRC.TARG.MORE2>
TAG.RUNEID4 1
TAG.BOX4GATE 1 0 27
TAG.RECALL4 1 0 5
TAG.BOX4RECALL 1 0 26
TAG.DEFAULT4 2361 2361 1 0 58
TAG.DROPRUNE4 2438 2437 1 0 59
TAG.RUNE4NAME <SRC.TARG.NAME>
TAG.RUNE4POS <SRC.TARG.MOREP>
TAG.DROPTEXT4 Drop rune
TAG.DEFAULTTEXT4 Set default
SRC.TARG.REMOVE
RETURN 1
ELSEIF (<TAG.RUNEID5>==0)
SRC.SYSMESSAGE <SRC.TARG.NAME>
TAG.RUNEM5 0<SRC.TARG.MORE2>
TAG.RUNEID5 1
TAG.BOX5GATE 1 0 29
TAG.RECALL5 1 0 6
TAG.BOX5RECALL 1 0 28
TAG.DEFAULT5 2361 2361 1 0 60
TAG.DROPRUNE5 2438 2437 1 0 61
TAG.RUNE5NAME <SRC.TARG.NAME>
TAG.RUNE5POS <SRC.TARG.MOREP>
TAG.DROPTEXT5 Drop rune
TAG.DEFAULTTEXT5 Set default
SRC.TARG.REMOVE
RETURN 1
ELSEIF (<TAG.RUNEID6>==0)
SRC.SYSMESSAGE <SRC.TARG.NAME>
TAG.RUNEM6 0<SRC.TARG.MORE2>
TAG.RUNEID6 1
TAG.BOX6GATE 1 0 31
TAG.RECALL6 1 0 7
TAG.BOX6RECALL 1 0 30
TAG.DEFAULT6 2361 2361 1 0 62
TAG.DROPRUNE6 2438 2437 1 0 63
TAG.RUNE6NAME <SRC.TARG.NAME>
TAG.RUNE6POS <SRC.TARG.MOREP>
TAG.DROPTEXT6 Drop rune
TAG.DEFAULTTEXT6 Set default
SRC.TARG.REMOVE
RETURN 1
ELSEIF (<TAG.RUNEID7>==0)
SRC.SYSMESSAGE <SRC.TARG.NAME>
TAG.RUNEM7 0<SRC.TARG.MORE2>
TAG.RUNEID7 1
TAG.BOX7GATE 1 0 33
TAG.RECALL7 1 0 8
TAG.BOX7RECALL 1 0 32
TAG.DEFAULT7 2361 2361 1 0 64
TAG.DROPRUNE7 2438 2437 1 0 65
TAG.RUNE7NAME <SRC.TARG.NAME>
TAG.RUNE7POS <SRC.TARG.MOREP>
TAG.DROPTEXT7 Drop rune
TAG.DEFAULTTEXT7 Set default
SRC.TARG.REMOVE
RETURN 1
ELSEIF (<TAG.RUNEID8>==0)
SRC.SYSMESSAGE <SRC.TARG.NAME>
TAG.RUNEM8 0<SRC.TARG.MORE2>
TAG.RUNEID8 1
TAG.BOX8GATE 1 0 35
TAG.RECALL8 1 0 9
TAG.BOX8RECALL 1 0 34
TAG.DEFAULT8 2361 2361 1 0 66
TAG.DROPRUNE8 2438 2437 1 0 67
TAG.RUNE8NAME <SRC.TARG.NAME>
TAG.RUNE8POS <SRC.TARG.MOREP>
TAG.DROPTEXT8 Drop rune
TAG.DEFAULTTEXT8 Set default
SRC.TARG.REMOVE
RETURN 1
ELSEIF (<TAG.RUNEID9>==0)
SRC.SYSMESSAGE <SRC.TARG.NAME>
TAG.RUNEM9 0<SRC.TARG.MORE2>
TAG.RUNEID9 1
TAG.BOX9GATE 1 0 37
TAG.RECALL9 1 0 10
TAG.BOX9RECALL 1 0 36
TAG.DEFAULT9 2361 2361 1 0 68
TAG.DROPRUNE9 2438 2437 1 0 69
TAG.RUNE9NAME <SRC.TARG.NAME>
TAG.RUNE9POS <SRC.TARG.MOREP>
TAG.DROPTEXT9 Drop rune
TAG.DEFAULTTEXT9 Set default
SRC.TARG.REMOVE
RETURN 1
ELSEIF (<TAG.RUNEID10>==0)
SRC.SYSMESSAGE <SRC.TARG.NAME>
TAG.RUNEM10 0<SRC.TARG.MORE2>
TAG.RUNEID10 1
TAG.BOX1GATE 10 0 39
TAG.RECALL10 1 0 11
TAG.BOX10RECALL 1 0 38
TAG.DEFAULT10 2361 2361 1 0 70
TAG.DROPRUNE10 2438 2437 1 0 71
TAG.RUNE10NAME <SRC.TARG.NAME>
TAG.RUNE10POS <SRC.TARG.MOREP>
TAG.DROPTEXT10 Drop rune
TAG.DEFAULTTEXT10 Set default
SRC.TARG.REMOVE
RETURN 1
ELSEIF (<TAG.RUNEID11>==0)
SRC.SYSMESSAGE <SRC.TARG.NAME>
TAG.RUNEM11 0<SRC.TARG.MORE2>
TAG.RUNEID11 1
TAG.BOX11GATE 1 0 41
TAG.RECALL11 1 0 12
TAG.BOX11RECALL 1 0 40
TAG.DEFAULT11 2361 2361 1 0 72
TAG.DROPRUNE11 2438 2437 1 0 73
TAG.RUNE11NAME <SRC.TARG.NAME>
TAG.RUNE1POS <SRC.TARG.MOREP>
TAG.DROPTEXT11 Drop rune
TAG.DEFAULTTEXT11 Set default
SRC.TARG.REMOVE
RETURN 1
ELSEIF (<TAG.RUNEID12>==0)
SRC.SYSMESSAGE <SRC.TARG.NAME>
TAG.RUNEM12 0<SRC.TARG.MORE2>
TAG.RUNEID12 1
TAG.BOX12GATE 1 0 43
TAG.RECALL12 1 0 13
TAG.BOX12RECALL 1 0 42
TAG.DEFAULT12 2361 2361 1 0 74
TAG.DROPRUNE12 2438 2437 1 0 75
TAG.RUNE12NAME <SRC.TARG.NAME>
TAG.RUNE12POS <SRC.TARG.MOREP>
TAG.DROPTEXT12 Drop rune
TAG.DEFAULTTEXT12 Set default
SRC.TARG.REMOVE
RETURN 1
ELSEIF (<TAG.RUNEID13>==0)
SRC.SYSMESSAGE <SRC.TARG.NAME>
TAG.RUNEM13 0<SRC.TARG.MORE2>
TAG.RUNEID13 1
TAG.BOX13GATE 1 0 45
TAG.RECALL13 1 0 14
TAG.BOX13RECALL 1 0 44
TAG.DEFAULT13 2361 2361 1 0 76
TAG.DROPRUNE13 2438 2437 1 0 77
TAG.RUNE13NAME <SRC.TARG.NAME>
TAG.RUNE13POS <SRC.TARG.MOREP>
TAG.DROPTEXT13 Drop rune
TAG.DEFAULTTEXT13 Set default
SRC.TARG.REMOVE
RETURN 1
ELSEIF (<TAG.RUNEID14>==0)
SRC.SYSMESSAGE <SRC.TARG.NAME>
TAG.RUNEM14 0<SRC.TARG.MORE2>
TAG.RUNEID14 1
TAG.BOX14GATE 1 0 47
TAG.RECALL14 1 0 15
TAG.BOX14RECALL 1 0 46
TAG.DEFAULT14 2361 2361 1 0 78
TAG.DROPRUNE14 2438 2437 1 0 79
TAG.RUNE14NAME <SRC.TARG.NAME>
TAG.RUNE14POS <SRC.TARG.MOREP>
TAG.DROPTEXT14 Drop rune
TAG.DEFAULTTEXT14 Set default
SRC.TARG.REMOVE
RETURN 1
ELSEIF (<TAG.RUNEID15>==0)
SRC.SYSMESSAGE <SRC.TARG.NAME>
TAG.RUNEM15 0<SRC.TARG.MORE2>
TAG.RUNEID15 1
TAG.BOX15GATE 1 0 49
TAG.RECALL15 1 0 16
TAG.BOX15RECALL 1 0 48
TAG.DEFAULT15 2361 2361 1 0 80
TAG.DROPRUNE15 2438 2437 1 0 81
TAG.RUNE15NAME <SRC.TARG.NAME>
TAG.RUNE15POS <SRC.TARG.MOREP>
TAG.DROPTEXT15 Drop rune
TAG.DEFAULTTEXT15 Set default
SRC.TARG.REMOVE
RETURN 1
ELSEIF (<TAG.RUNEID16>==0)
SRC.SYSMESSAGE <SRC.TARG.NAME>
TAG.RUNEM16 0<SRC.TARG.MORE2>
TAG.RUNEID16 1
TAG.BOX16GATE 1 0 51
TAG.RECALL16 1 0 3 17
TAG.BOX16RECALL 1 0 50
TAG.DEFAULT16 2361 2361 1 0 82
TAG.DROPRUNE16 2438 2437 1 0 83
TAG.RUNE16NAME <SRC.TARG.NAME>
TAG.RUNE16POS <SRC.TARG.MOREP>
TAG.DROPTEXT16 Drop rune
TAG.DEFAULTTEXT16 Set default
SRC.TARG.REMOVE
RETURN 1
ELSE
SRC.SYSMESSAGE This runebook cannot hold anymore runes.
RETURN 1
ENDIF

ON=@Timer
TIMER -1
RETURN 1

[DIALOG d_runebook]
0,0
gumppic 225 200 2200 
page 0
gumppic 250 240 57 
gumppic 280 240 58
gumppic 290 240 58
gumppic 300 240 58
gumppic 310 240 58
gumppic 320 240 58
gumppic 330 240 58
gumppic 340 240 58
gumppic 355 240 59
gumppic 415 240 57 
gumppic 445 240 58
gumppic 455 240 58
gumppic 465 240 58
gumppic 475 240 58
gumppic 485 240 58
gumppic 495 240 58
gumppic 505 240 58
gumppic 520 240 59
text 263 228 0 0
text 355 228 0 1
text 425 228 0 2
text 529 228 0 3
button 255 377 2225 2225 0 2
button 290 377 2226 2226 0 3
button 325 377 2227 2227 0 4
button 360 377 2228 2228 0 5
button 425 377 2229 2229 0 6
button 460 377 2230 2230 0 7
button 495 377 2231 2231 0 8
button 530 377 2232 2232 0 9
page 1
text 435 210 0 69
button 415 213 2118 2117 1 0 100
text 280 210 0 4
button 250 205 2472 2473 1 0 1
button 518 204 2206 2206 0 2
croppedtext 270 250 115 20 0<EVAL <TAG.RUNEM1>> 5
button 255 255 2104 2103 1 0 2
croppedtext 270 265 115 20 0<EVAL <TAG.RUNEM2>> 6
button 255 270 2104 2103 1 0 3
croppedtext 270 280 115 20 0<EVAL <TAG.RUNEM3>> 7
button 255 285 2104 2103 1 0 4
croppedtext 270 295 115 20 0<EVAL <TAG.RUNEM4>> 8
button 255 300 2104 2103 1 0 5
croppedtext 270 310 115 20 0<EVAL <TAG.RUNEM5>> 9
button 255 315 2104 2103 1 0 6
croppedtext 270 325 115 20 0<EVAL <TAG.RUNEM6>> 10
button 255 330 2104 2103 1 0 7
croppedtext 270 340 115 20 0<EVAL <TAG.RUNEM7>> 11
button 255 345 2104 2103 1 0 8
croppedtext 270 355 115 20 0<EVAL <TAG.RUNEM8>> 12
button 255 360 2104 2103 1 0 9
croppedtext 430 250 115 20 0<EVAL <TAG.RUNEM9>> 13
button 415 255 2104 2103 1 0 10
croppedtext 430 265 115 20 0<EVAL <TAG.RUNEM10>> 14
button 415 270 2104 2103 1 0 11
croppedtext 430 280 115 20 0<EVAL <TAG.RUNEM11>> 15
button 415 285 2104 2103 1 0 12
croppedtext 430 295 115 20 0<EVAL <TAG.RUNEM12>> 16
button 415 300 2104 2103 1 0 13
croppedtext 430 310 115 20 0<EVAL <TAG.RUNEM13>> 17
button 415 315 2104 2103 1 0 14
croppedtext 430 325 115 20 0<EVAL <TAG.RUNEM14>> 18
button 415 330 2104 2103 1 0 15
croppedtext 430 340 115 20 0<EVAL <TAG.RUNEM15>> 19
button 415 345 2104 2103 1 0 16
croppedtext 430 355 115 20 0<EVAL <TAG.RUNEM16>> 20
button 415 360 2104 2103 1 0 17
page 2
button 250 204 2205 2205 0 1 //page back
button 518 204 2206 2206 0 3 //page forward 
text 300 205 0 21 //default
button 285 210 <TAG.DEFAULT1> //default
croppedtext 270 250 115 20 0<EVAL <TAG.RUNEM1>> 5 ///recall with text of rune
button 255 255 2104 2103 <TAG.RECALL1> ///recall with text of rune
croppedtext 260 275 115 20 0 53 //pos
text 275 304 0 37 //drop rune
button 260 305 <TAG.DROPRUNE1> //drop rune
button 260 330 2271 2271 <TAG.BOX1RECALL> //recall
button 330 330 2291 2291 <TAG.BOX1GATE> //gate
text 430 205 0 22 //default
button 415 210 <TAG.DEFAULT2> //default
croppedtext 430 250 115 20 0<EVAL <TAG.RUNEM2>> 6 ///recall with text of rune
button 415 255 2104 2103 <TAG.RECALL2> ///recall with text of rune
croppedtext 430 275 115 20 0 54 //pos
text 445 304 0 38 //drop rune
button 430 305 <TAG.DROPRUNE2> //drop rune
button 430 330 2271 2271 <TAG.BOX2RECALL> //recall
button 500 330 2291 2291 <TAG.BOX2GATE> //gate
page 3
button 250 204 2205 2205 0 2 //page back
button 518 204 2206 2206 0 4 //page forward 
text 300 205 0 23 //default
button 285 210 <TAG.DEFAULT3> //default
croppedtext 270 250 115 20 0<EVAL <TAG.RUNEM3>> 7 ///recall with text of rune
button 255 255 2104 2103 <TAG.RECALL3> ///recall with text of rune
croppedtext 260 275 115 20 0 55 //pos
text 275 304 0 39 //drop rune
button 260 305 <TAG.DROPRUNE3> //drop rune
button 260 330 2271 2271 <TAG.BOX3RECALL> //recall
button 330 330 2291 2291 <TAG.BOX3GATE> //gate
text 430 205 0 24 //default
button 415 210 <TAG.DEFAULT4> //default
croppedtext 430 250 115 20 0<EVAL <TAG.RUNEM4>> 8 ///recall with text of rune
button 415 255 2104 2103 <TAG.RECALL4> ///recall with text of rune
croppedtext 430 275 115 20 0 56 //pos
text 445 304 0 40 //drop rune
button 430 305 <TAG.DROPRUNE4> //drop rune
button 430 330 2271 2271 <TAG.BOX4RECALL> //recall
button 500 330 2291 2291 <TAG.BOX4GATE> //gate
page 4
button 250 204 2205 2205 0 3 //page back
button 518 204 2206 2206 0 6 //page forward 
text 300 205 0 25 //default
button 285 210 <TAG.DEFAULT5> //default
croppedtext 270 250 115 20 0<EVAL <TAG.RUNEM5>> 9 ///recall with text of rune
button 255 255 2104 2103 <TAG.RECALL5> ///recall with text of rune
croppedtext 260 275 115 20 0 57 //pos
text 275 304 0 41 //drop rune
button 260 305 <TAG.DROPRUNE5> //drop rune
button 260 330 2271 2271 <TAG.BOX5RECALL> //recall
button 330 330 2291 2291 <TAG.BOX5GATE> //gate
text 430 205 0 26 //default
button 415 210 <TAG.DEFAULT6> //default
croppedtext 430 250 115 20 0<EVAL <TAG.RUNEM6>> 10 ///recall with text of rune
button 415 255 2104 2103 <TAG.RECALL6> ///recall with text of rune
croppedtext 430 275 115 20 0 58 //pos
text 445 304 0 42 //drop rune
button 430 305 <TAG.DROPRUNE6> //drop rune
button 430 330 2271 2271 <TAG.BOX6RECALL> //recall
button 500 330 2291 2291 <TAG.BOX6GATE> //gate
page 5
button 250 204 2205 2205 0 4 //page back
button 518 204 2206 2206 0 6 //page forward 
text 300 205 0 27 //default
button 285 210 <TAG.DEFAULT7> //default
croppedtext 270 250 115 20 0<EVAL <TAG.RUNEM7>> 11 ///recall with text of rune
button 255 255 2104 2103 <TAG.RECALL7> ///recall with text of rune
croppedtext 260 275 115 20 0 59 //pos
text 275 304 0 43 //drop rune
button 260 305 <TAG.DROPRUNE7> //drop rune
button 260 330 2271 2271 <TAG.BOX7RECALL> //recall
button 330 330 2291 2291 <TAG.BOX7GATE> //gate
text 430 205 0 28 //default
button 415 210 <TAG.DEFAULT8> //default
croppedtext 430 250 115 20 0<EVAL <TAG.RUNEM8>> 12 ///recall with text of rune
button 415 255 2104 2103 <TAG.RECALL8> ///recall with text of rune
croppedtext 430 275 115 20 0 60 //pos
text 445 304 0 44 //drop rune
button 430 305 <TAG.DROPRUNE8> //drop rune
button 430 330 2271 2271 <TAG.BOX8RECALL> //recall
button 500 330 2291 2291 <TAG.BOX8GATE> //gate
page 6
button 250 204 2205 2205 0 5 //page back
button 518 204 2206 2206 0 7 //page forward 
text 300 205 0 29 //default
button 285 210 <TAG.DEFAULT9> //default
croppedtext 270 250 115 20 0<EVAL <TAG.RUNEM9>> 13 ///recall with text of rune
button 255 255 2104 2103 <TAG.RECALL9> ///recall with text of rune
croppedtext 260 275 115 20 0 61 //pos
text 275 304 0 45 //drop rune
button 260 305 <TAG.DROPRUNE9> //drop rune
button 260 330 2271 2271 <TAG.BOX9RECALL> //recall
button 330 330 2291 2291 <TAG.BOX9GATE> //gate
text 430 205 0 30 //default
button 415 210 <TAG.DEFAULT10> //default
croppedtext 430 250 115 20 0<EVAL <TAG.RUNEM10>> 14 ///recall with text of rune
button 415 255 2104 2103 <TAG.RECALL10> ///recall with text of rune
croppedtext 430 275 115 20 0 62 //pos
text 445 304 0 46 //drop rune
button 430 305 <TAG.DROPRUNE10> //drop rune
button 430 330 2271 2271 <TAG.BOX10RECALL> //recall
button 500 330 2291 2291 <TAG.BOX10GATE> //gate
page 7
button 250 204 2205 2205 0 6 //page back
button 518 204 2206 2206 0 8 //page forward 
text 300 205 0 31 //default
button 285 210 <TAG.DEFAULT11> //default
croppedtext 270 250 115 20 0<EVAL <TAG.RUNEM11>> 15 ///recall with text of rune
button 255 255 2104 2103 <TAG.RECALL11> ///recall with text of rune
croppedtext 260 275 115 20 0 63 //pos
text 275 304 0 47 //drop rune
button 260 305 <TAG.DROPRUNE11> //drop rune
button 260 330 2271 2271 <TAG.BOX11RECALL> //recall
button 330 330 2291 2291 <TAG.BOX11GATE> //gate
text 430 205 0 32 //default
button 415 210 <TAG.DEFAULT12> //default
croppedtext 430 250 115 20 0<EVAL <TAG.RUNEM12>> 16 ///recall with text of rune
button 415 255 2104 2103 <TAG.RECALL12> ///recall with text of rune
croppedtext 430 275 115 20 0 64 //pos
text 445 304 0 48 //drop rune
button 430 305 <TAG.DROPRUNE12> //drop rune
button 430 330 2271 2271 <TAG.BOX12RECALL> //recall
button 500 330 2291 2291 <TAG.BOX12GATE> //gate
page 8
button 250 204 2205 2205 0 7 //page back
button 518 204 2206 2206 0 9 //page forward 
text 300 205 0 33 //default
button 285 210 <TAG.DEFAULT13> //default
croppedtext 270 250 115 20 0<EVAL <TAG.RUNEM13>> 17 ///recall with text of rune
button 255 255 2104 2103 <TAG.RECALL13> ///recall with text of rune
croppedtext 260 275 115 20 0 65 //pos
text 275 304 0 49 //drop rune
button 260 305 <TAG.DROPRUNE13> //drop rune
button 260 330 2271 2271 <TAG.BOX13RECALL> //recall
button 330 330 2291 2291 <TAG.BOX13GATE> //gate
text 430 205 0 34 //default
button 415 210 <TAG.DEFAULT14> //default
croppedtext 430 250 115 20 0<EVAL <TAG.RUNEM14>> 18 ///recall with text of rune
button 415 255 2104 2103 <TAG.RECALL14> ///recall with text of rune
croppedtext 430 275 115 20 0 66 //pos
text 445 304 0 50 //drop rune
button 430 305 <TAG.DROPRUNE14> //drop rune
button 430 330 2271 2271 <TAG.BOX14RECALL> //recall
button 500 330 2291 2291 <TAG.BOX14GATE> //gate
page 9
button 250 204 2205 2205 0 8 //page back
text 300 205 0 35 //default
button 285 210 <TAG.DEFAULT15> //default
croppedtext 270 250 115 20 0<EVAL <TAG.RUNEM15>> 19 ///recall with text of rune
button 255 255 2104 2103 <TAG.RECALL15> ///recall with text of rune
croppedtext 260 275 115 20 0 67 //pos
text 275 304 0 51 //drop rune
button 260 305 <TAG.DROPRUNE15> //drop rune
button 260 330 2271 2271 <TAG.BOX15RECALL> //recall
button 330 330 2291 2291 <TAG.BOX15GATE> //gate
text 430 205 0 36 //default
button 415 210 <TAG.DEFAULT16> //default
croppedtext 430 250 115 20 0<EVAL <TAG.RUNEM16>> 20 ///recall with text of rune
button 415 255 2104 2103 <TAG.RECALL16> ///recall with text of rune
croppedtext 430 275 115 20 0 68 //pos
text 445 304 0 52 //drop rune
button 430 305 <TAG.DROPRUNE16> //drop rune
button 430 330 2271 2271 <TAG.BOX16RECALL> //recall
button 500 330 2291 2291 <TAG.BOX16GATE> //gate


[DIALOG d_runebook text]
Charges:
<MORE>
Max Charges:
<EVAL <MORE2>>
Rename Book
<TAG.RUNE1NAME> //5
<TAG.RUNE2NAME>
<TAG.RUNE3NAME>
<TAG.RUNE4NAME>
<TAG.RUNE5NAME>
<TAG.RUNE6NAME>
<TAG.RUNE7NAME>
<TAG.RUNE8NAME>
<TAG.RUNE9NAME>
<TAG.RUNE10NAME>
<TAG.RUNE11NAME> //15
<TAG.RUNE12NAME>
<TAG.RUNE13NAME>
<TAG.RUNE14NAME>
<TAG.RUNE15NAME>
<TAG.RUNE16NAME> //20
<TAG.DEFAULTTEXT1>
<TAG.DEFAULTTEXT2>
<TAG.DEFAULTTEXT3>
<TAG.DEFAULTTEXT4>
<TAG.DEFAULTTEXT5> //25
<TAG.DEFAULTTEXT6>
<TAG.DEFAULTTEXT7>
<TAG.DEFAULTTEXT8>
<TAG.DEFAULTTEXT9>
<TAG.DEFAULTTEXT10> //30
<TAG.DEFAULTTEXT11>
<TAG.DEFAULTTEXT12>
<TAG.DEFAULTTEXT13>
<TAG.DEFAULTTEXT14>
<TAG.DEFAULTTEXT15> //35
<TAG.DEFAULTTEXT16>
<TAG.DROPTEXT1>//37
<TAG.DROPTEXT2>
<TAG.DROPTEXT3>
<TAG.DROPTEXT4>//40
<TAG.DROPTEXT5>
<TAG.DROPTEXT6>
<TAG.DROPTEXT7>
<TAG.DROPTEXT8>
<TAG.DROPTEXT9>//45
<TAG.DROPTEXT10> 
<TAG.DROPTEXT11>
<TAG.DROPTEXT12>
<TAG.DROPTEXT13>
<TAG.DROPTEXT14>//50
<TAG.DROPTEXT15> 
<TAG.DROPTEXT16>//52
<TAG.RUNE1POS> //page1 //53
<TAG.RUNE2POS> //page1 //53
<TAG.RUNE3POS> //page1 //53 //55
<TAG.RUNE4POS> //page1 //53
<TAG.RUNE5POS> //page1 //53
<TAG.RUNE6POS> //page1 //53
<TAG.RUNE7POS> //page1 //53
<TAG.RUNE8POS> //page1 //53 //60
<TAG.RUNE9POS> //page1 //53
<TAG.RUNE10POS> //page1 //53
<TAG.RUNE11POS> //page1 //53
<TAG.RUNE12POS> //page1 //53
<TAG.RUNE13POS> //page1 //53 //65
<TAG.RUNE14POS> //page1 //53
<TAG.RUNE15POS> //page1 //53
<TAG.RUNE16POS> //page1 //53 //68
Add rune


[DIALOG d_runebook button]
ONBUTTON=0
ONBUTTON=1
INPDLG NAME 30
RETURN 1
ONBUTTON=2
IF (<EVAL <TAG.RUNEID1>>==0)
SRC.SYSMESSAGE There is no rune available in this spot.
RETURN 1
ELSE
TIMER 10
SRC.GO <TAG.RUNE1POS>
SRC.MOVE 100
SRC.MOVE -100
SRC.FIX
RETURN 1
ENDIF
ONBUTTON=3
IF (<EVAL <TAG.RUNEID2>>==0)
SRC.SYSMESSAGE There is no rune available in this spot.
RETURN 1
ELSE
TIMER 10
SRC.GO <TAG.RUNE2POS>
SRC.MOVE 100
SRC.MOVE -100
SRC.FIX
RETURN 1
ENDIF
ONBUTTON=4
IF (<EVAL <TAG.RUNEID3>>==0)
SRC.SYSMESSAGE There is no rune available in this spot.
RETURN 1
ELSE
TIMER 10
SRC.GO <TAG.RUNE3POS>
SRC.MOVE 100
SRC.MOVE -100
SRC.FIX
RETURN 1
ENDIF
ONBUTTON=5
IF (<EVAL <TAG.RUNEID4>>==0)
SRC.SYSMESSAGE There is no rune available in this spot.
RETURN 1
ELSE
TIMER 10
SRC.GO <TAG.RUNE4POS>
SRC.MOVE 100
SRC.MOVE -100
SRC.FIX
RETURN 1
ENDIF
ONBUTTON=6
IF (<EVAL <TAG.RUNEID5>>==0)
SRC.SYSMESSAGE There is no rune available in this spot.
RETURN 1
ELSE
TIMER 10
SRC.GO <TAG.RUNE5POS>
SRC.MOVE 100
SRC.MOVE -100
SRC.FIX
RETURN 1
ENDIF
ONBUTTON=7
IF (<EVAL <TAG.RUNEID6>>==0)
SRC.SYSMESSAGE There is no rune available in this spot.
RETURN 1
ELSE
TIMER 10
SRC.GO <TAG.RUNE6POS>
SRC.MOVE 100
SRC.MOVE -100
SRC.FIX
RETURN 1
ENDIF
ONBUTTON=8
IF (<EVAL <TAG.RUNEID7>>==0)
SRC.SYSMESSAGE There is no rune available in this spot.
RETURN 1
ELSE
TIMER 10
SRC.GO <TAG.RUNE7POS>
SRC.MOVE 100
SRC.MOVE -100
SRC.FIX
RETURN 1
ENDIF
ONBUTTON=9
IF (<EVAL <TAG.RUNEID8>>==0)
SRC.SYSMESSAGE There is no rune available in this spot.
RETURN 1
ELSE
TIMER 10
SRC.GO <TAG.RUNE8POS>
SRC.MOVE 100
SRC.MOVE -100
SRC.FIX
RETURN 1
ENDIF
ONBUTTON=10
IF (<EVAL <TAG.RUNEID9>>==0)
SRC.SYSMESSAGE There is no rune available in this spot.
RETURN 1
ELSE
TIMER 10
SRC.GO <TAG.RUNE9POS>
SRC.MOVE 100
SRC.MOVE -100
SRC.FIX
RETURN 1
ENDIF
ONBUTTON=11
IF (<EVAL <TAG.RUNEID10>>==0)
SRC.SYSMESSAGE There is no rune available in this spot.
RETURN 1
ELSE
TIMER 10
SRC.GO <TAG.RUNE10POS>
SRC.MOVE 100
SRC.MOVE -100
SRC.FIX
RETURN 1
ENDIF
ONBUTTON=12
IF (<EVAL <TAG.RUNEID11>>==0)
SRC.SYSMESSAGE There is no rune available in this spot.
RETURN 1
ELSE
TIMER 10
SRC.GO <TAG.RUNE11POS>
SRC.MOVE 100
SRC.MOVE -100
SRC.FIX
RETURN 1
ENDIF
ONBUTTON=13
IF (<EVAL <TAG.RUNEID12>>==0)
SRC.SYSMESSAGE There is no rune available in this spot.
RETURN 1
ELSE
TIMER 10
SRC.GO <TAG.RUNE12POS>
SRC.MOVE 100
SRC.MOVE -100
SRC.FIX
RETURN 1
ENDIF
ONBUTTON=14
IF (<EVAL <TAG.RUNEID13>>==0)
SRC.SYSMESSAGE There is no rune available in this spot.
RETURN 1
ELSE
TIMER 10
SRC.GO <TAG.RUNE13POS>
SRC.MOVE 100
SRC.MOVE -100
SRC.FIX
RETURN 1
ENDIF
ONBUTTON=15
IF (<EVAL <TAG.RUNEID14>>==0)
SRC.SYSMESSAGE There is no rune available in this spot.
RETURN 1
ELSE
TIMER 10
SRC.GO <TAG.RUNE14POS>
SRC.MOVE 100
SRC.MOVE -100
SRC.FIX
RETURN 1
ENDIF
ONBUTTON=16
IF (<EVAL <TAG.RUNEID15>>==0)
SRC.SYSMESSAGE There is no rune available in this spot.
RETURN 1
ELSE
TIMER 10
SRC.GO <TAG.RUNE15POS>
SRC.MOVE 100
SRC.MOVE -100
SRC.FIX
RETURN 1
ENDIF
ONBUTTON=17
IF (<EVAL <TAG.RUNEID16>>==0)
SRC.SYSMESSAGE There is no rune available in this spot.
RETURN 1
ELSE
TIMER 10
SRC.GO <TAG.RUNE16POS>
SRC.MOVE 100
SRC.MOVE -100
SRC.FIX
RETURN 1
ENDIF
ONBUTTON=20
SRC.SRC.SPEAK Kal Ort Por
TIMER 10
SRC.NEWITEM i_rune_delay_r
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 1
RETURN 1
ONBUTTON=21
SRC.SPEAK Vas Rel Por
TIMER 10
SRC.NEWITEM i_rune_delay_g
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 1
RETURN 1
ONBUTTON=22
SRC.SPEAK Kal Ort Por
TIMER 10
SRC.NEWITEM i_rune_delay_r
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 2
RETURN 1
ONBUTTON=23
SRC.SPEAK Vas Rel Por
TIMER 10
SRC.NEWITEM i_rune_delay_g
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 2
RETURN 1
ONBUTTON=24
SRC.SPEAK Kal Ort Por
TIMER 10
SRC.NEWITEM i_rune_delay_r
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 3
RETURN 1
ONBUTTON=25
SRC.SPEAK Vas Rel Por
TIMER 10
SRC.NEWITEM i_rune_delay_g
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 3
RETURN 1
ONBUTTON=26
SRC.SPEAK Kal Ort Por
TIMER 10
SRC.NEWITEM i_rune_delay_r
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 4
RETURN 1
ONBUTTON=27
SRC.SPEAK Vas Rel Por
TIMER 10
SRC.NEWITEM i_rune_delay_g
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 4
RETURN 1
ONBUTTON=28
SRC.SPEAK Kal Ort Por
TIMER 10
SRC.NEWITEM i_rune_delay_r
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 5
RETURN 1
ONBUTTON=29
SRC.SPEAK Vas Rel Por
TIMER 10
SRC.NEWITEM i_rune_delay_g
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 5
RETURN 1
ONBUTTON=30
SRC.SPEAK Kal Ort Por
TIMER 10
SRC.NEWITEM i_rune_delay_r
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 6
RETURN 1
ONBUTTON=31
SRC.SPEAK Vas Rel Por
TIMER 10
SRC.NEWITEM i_rune_delay_g
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 6
RETURN 1
ONBUTTON=32
SRC.SPEAK Kal Ort Por
TIMER 10
SRC.NEWITEM i_rune_delay_r
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 7
RETURN 1
ONBUTTON=33
SRC.SPEAK Vas Rel Por
TIMER 10
SRC.NEWITEM i_rune_delay_g
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 7
RETURN 1

ONBUTTON=34
SRC.SPEAK Kal Ort Por
TIMER 10
SRC.NEWITEM i_rune_delay_r
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 8
RETURN 1
ONBUTTON=35
SRC.SPEAK Vas Rel Por
TIMER 10
SRC.NEWITEM i_rune_delay_g
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 8
RETURN 1
ONBUTTON=36
SRC.SPEAK Kal Ort Por
TIMER 10
SRC.NEWITEM i_rune_delay_r
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 9
RETURN 1
ONBUTTON=37
SRC.SPEAK Vas Rel Por
TIMER 10
SRC.NEWITEM i_rune_delay_g
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 9
RETURN 1
ONBUTTON=38
SRC.SPEAK Kal Ort Por
TIMER 10
SRC.NEWITEM i_rune_delay_r
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 10
RETURN 1
ONBUTTON=39
SRC.SPEAK Vas Rel Por
TIMER 10
SRC.NEWITEM i_rune_delay_g
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 10
RETURN 1
ONBUTTON=40
SRC.SPEAK Kal Ort Por
TIMER 10
SRC.NEWITEM i_rune_delay_r
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 11
RETURN 1
ONBUTTON=41
SRC.SPEAK Vas Rel Por
TIMER 10
SRC.NEWITEM i_rune_delay_g
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 11
RETURN 1
ONBUTTON=42
SRC.SPEAK Kal Ort Por
TIMER 10
SRC.NEWITEM i_rune_delay_r
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 12
RETURN 1
ONBUTTON=43
SRC.SPEAK Vas Rel Por
TIMER 10
SRC.NEWITEM i_rune_delay_g
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 12
RETURN 1
ONBUTTON=44
SRC.SPEAK Kal Ort Por
TIMER 10
SRC.NEWITEM i_rune_delay_r
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 13
RETURN 1
ONBUTTON=45
SRC.SPEAK Vas Rel Por
TIMER 10
SRC.NEWITEM i_rune_delay_g
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 13
RETURN 1
ONBUTTON=46
SRC.SPEAK Kal Ort Por
TIMER 10
SRC.NEWITEM i_rune_delay_r
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 14
RETURN 1
ONBUTTON=47
SRC.SPEAK Vas Rel Por
TIMER 10
SRC.NEWITEM i_rune_delay_g
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 14
RETURN 1
ONBUTTON=48
SRC.SPEAK Kal Ort Por
TIMER 10
SRC.NEWITEM i_rune_delay_r
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 15
RETURN 1
ONBUTTON=49
SRC.SPEAK Vas Rel Por
TIMER 10
SRC.NEWITEM i_rune_delay_g
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 15
RETURN 1
ONBUTTON=50
SRC.SPEAK Kal Ort Por
TIMER 10
SRC.NEWITEM i_rune_delay_r
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 16
RETURN 1
ONBUTTON=51
SRC.SPEAK Vas Rel Por
TIMER 10
SRC.NEWITEM i_rune_delay_g
SRC.ACT.CONT <SRC.UID>
SRC.ACT.LINK <UID>
SRC.ACT.TIMER 3
SRC.ACT.MORE 16
RETURN 1
ONBUTTON=52
MOREP <TAG.RUNE1POS>
SRC.SYSMESSAGE New default location set.
RETURN 1
ONBUTTON=53
SRC.NEWITEM i_rune_marker
SRC.ACT.NAME <TAG.RUNE1NAME>
SRC.ACT.MOREP <TAG.RUNE1POS>
SRC.ACT.BOUNCE
TAG.RUNE1NAME Empty
TAG.RUNE1POS 
TAG.RUNEM1 0
TAG.BOX1RECALL 0 2 
TAG.BOX1GATE 0 2 
TAG.RECALL1 0 2 
TAG.RUNEID1 0
TAG.DROPRUNE1 60994 60994 0 2
TAG.DEFAULT1 60994 60994 0 2
TAG.DROPTEXT1 
TAG.DEFAULTTEXT1 
RETURN 1
ONBUTTON=54
MOREP <TAG.RUNE2POS>
SRC.SYSMESSAGE New default location set.
RETURN 1
ONBUTTON=55
SRC.NEWITEM i_rune_marker
SRC.ACT.NAME <TAG.RUNE2NAME>
SRC.ACT.MOREP <TAG.RUNE2POS>
SRC.ACT.BOUNCE
TAG.RUNE2NAME Empty
TAG.RUNE2POS 
TAG.RUNEM2 0
TAG.BOX2RECALL 0 2
TAG.BOX2GATE 0 2
TAG.RECALL2 0 2
TAG.RUNEID2 0
TAG.DROPRUNE2 60994 60994 0 2
TAG.DEFAULT2 60994 60994 0 2
TAG.DROPTEXT2 
TAG.DEFAULTTEXT2 
RETURN 1
ONBUTTON=56
MOREP <TAG.RUNE3POS>
SRC.SYSMESSAGE New default location set.
RETURN 1
ONBUTTON=57
SRC.NEWITEM i_rune_marker
SRC.ACT.NAME <TAG.RUNE3NAME>
SRC.ACT.MOREP <TAG.RUNE3POS>
SRC.ACT.BOUNCE
TAG.RUNE3NAME Empty
TAG.RUNE3POS 
TAG.RUNEM3 0
TAG.BOX3RECALL 0 3
TAG.BOX3GATE 0 3
TAG.RECALL3 0 3
TAG.RUNEID3 0
TAG.DROPRUNE3 60994 60994 0 3
TAG.DEFAULT3 60994 60994 0 3
TAG.DROPTEXT3 
TAG.DEFAULTTEXT3 
RETURN 1
ONBUTTON=58
MOREP <TAG.RUNE4POS>
SRC.SYSMESSAGE New default location set.
RETURN 1
ONBUTTON=59
SRC.NEWITEM i_rune_marker
SRC.ACT.NAME <TAG.RUNE4NAME>
SRC.ACT.MOREP <TAG.RUNE4POS>
SRC.ACT.BOUNCE
TAG.RUNE4NAME Empty
TAG.RUNE4POS 
TAG.RUNEM4 0
TAG.BOX4RECALL 0 3
TAG.BOX4GATE 0 3
TAG.RECALL4 0 3
TAG.RUNEID4 0
TAG.DROPRUNE4 60994 60994 0 3
TAG.DEFAULT4 60994 60994 0 3
TAG.DROPTEXT4 
TAG.DEFAULTTEXT4 
RETURN 1
ONBUTTON=60
MOREP <TAG.RUNE5POS>
SRC.SYSMESSAGE New default location set.
RETURN 1
ONBUTTON=61
SRC.NEWITEM i_rune_marker
SRC.ACT.NAME <TAG.RUNE5NAME>
SRC.ACT.MOREP <TAG.RUNE5POS>
SRC.ACT.BOUNCE
TAG.RUNE5NAME Empty
TAG.RUNE5POS 
TAG.RUNEM5 0
TAG.BOX5RECALL 0 4
TAG.BOX5GATE 0 4
TAG.RECALL5 0 4
TAG.RUNEID5 0
TAG.DROPRUNE5 60994 60994 0 4
TAG.DEFAULT5 60994 60994 0 4
TAG.DROPTEXT5 
TAG.DEFAULTTEXT5 
RETURN 1
ONBUTTON=62
MOREP <TAG.RUNE6POS>
SRC.SYSMESSAGE New default location set.
RETURN 1
ONBUTTON=63
SRC.NEWITEM i_rune_marker
SRC.ACT.NAME <TAG.RUNE6NAME>
SRC.ACT.MOREP <TAG.RUNE6POS>
SRC.ACT.BOUNCE
TAG.RUNE6NAME Empty
TAG.RUNE6POS 
TAG.RUNEM6 0
TAG.BOX6RECALL 0 4
TAG.BOX6GATE 0 4
TAG.RECALL6 0 4
TAG.RUNEID6 0
TAG.DROPRUNE6 60994 60994 0 4
TAG.DEFAULT6 60994 60994 0 4
TAG.DROPTEXT6 
TAG.DEFAULTTEXT6 
RETURN 1
ONBUTTON=64
MOREP <TAG.RUNE7POS>
SRC.SYSMESSAGE New default location set.
RETURN 1
ONBUTTON=65
SRC.NEWITEM i_rune_marker
SRC.ACT.NAME <TAG.RUNE7NAME>
SRC.ACT.MOREP <TAG.RUNE7POS>
SRC.ACT.BOUNCE
TAG.RUNE7NAME Empty
TAG.RUNE7POS 
TAG.RUNEM7 0
TAG.BOX7RECALL 0 5
TAG.BOX7GATE 0 5
TAG.RECALL7 0 5
TAG.RUNEID7 0
TAG.DROPRUNE7 60994 60994 0 5
TAG.DEFAULT7 60994 60994 0 5
TAG.DROPTEXT7 
TAG.DEFAULTTEXT7 
RETURN 1
ONBUTTON=66
MOREP <TAG.RUNE8POS>
SRC.SYSMESSAGE New default location set.
RETURN 1
ONBUTTON=67
SRC.NEWITEM i_rune_marker
SRC.ACT.NAME <TAG.RUNE8NAME>
SRC.ACT.MOREP <TAG.RUNE8POS>
SRC.ACT.BOUNCE
TAG.RUNE8NAME Empty
TAG.RUNE8POS 
TAG.RUNEM8 0
TAG.BOX8RECALL 0 5
TAG.BOX8GATE 0 5
TAG.RECALL8 0 5
TAG.RUNEID8 0
TAG.DROPRUNE8 60994 60994 0 5
TAG.DEFAULT8 60994 60994 0 5
TAG.DROPTEXT8 
TAG.DEFAULTTEXT8 
RETURN 1
ONBUTTON=68
MOREP <TAG.RUNE9POS>
SRC.SYSMESSAGE New default location set.
RETURN 1
ONBUTTON=69
SRC.NEWITEM i_rune_marker
SRC.ACT.NAME <TAG.RUNE9NAME>
SRC.ACT.MOREP <TAG.RUNE9POS>
SRC.ACT.BOUNCE
TAG.RUNE9NAME Empty
TAG.RUNE9POS 
TAG.RUNEM9 0
TAG.BOX9RECALL 0 6
TAG.BOX9GATE 0 6
TAG.RECALL9 0 6
TAG.RUNEID9 0
TAG.DROPRUNE9 60994 60994 0 6
TAG.DEFAULT9 60994 60994 0 6
TAG.DROPTEXT9 
TAG.DEFAULTTEXT9 
RETURN 1
ONBUTTON=70
MOREP <TAG.RUNE10POS>
SRC.SYSMESSAGE New default location set.
RETURN 1
ONBUTTON=71
SRC.NEWITEM i_rune_marker
SRC.ACT.NAME <TAG.RUNE10NAME>
SRC.ACT.MOREP <TAG.RUNE10POS>
SRC.ACT.BOUNCE
TAG.RUNE10NAME Empty
TAG.RUNE10POS 
TAG.RUNEM10 0
TAG.BOX10RECALL 0 6
TAG.BOX10GATE 0 6
TAG.RECALL10 0 6
TAG.RUNEID10 0
TAG.DROPRUNE10 60994 60994 0 6
TAG.DEFAULT10 60994 60994 0 6
TAG.DROPTEXT10 
TAG.DEFAULTTEXT10 
RETURN 1
ONBUTTON=72
MOREP <TAG.RUNE11POS>
SRC.SYSMESSAGE New default location set.
RETURN 1
ONBUTTON=73
SRC.NEWITEM i_rune_marker
SRC.ACT.NAME <TAG.RUNE11NAME>
SRC.ACT.MOREP <TAG.RUNE11POS>
SRC.ACT.BOUNCE
TAG.RUNE11NAME Empty
TAG.RUNE11POS 
TAG.RUNEM11 0
TAG.BOX11RECALL 0 7
TAG.BOX11GATE 0 7
TAG.RECALL11 0 7
TAG.RUNEID11 0
TAG.DROPRUNE11 60994 60994 0 7
TAG.DEFAULT11 60994 60994 0 7
TAG.DROPTEXT11 
TAG.DEFAULTTEXT11 
RETURN 1
ONBUTTON=74
MOREP <TAG.RUNE12POS>
SRC.SYSMESSAGE New default location set.
RETURN 1
ONBUTTON=75
SRC.NEWITEM i_rune_marker
SRC.ACT.NAME <TAG.RUNE12NAME>
SRC.ACT.MOREP <TAG.RUNE12POS>
SRC.ACT.BOUNCE
TAG.RUNE12NAME Empty
TAG.RUNE12POS 
TAG.RUNEM12 0
TAG.BOX12RECALL 0 7
TAG.BOX12GATE 0 7
TAG.RECALL12 0 7
TAG.RUNEID12 0
TAG.DROPRUNE12 60994 60994 0 7
TAG.DEFAULT12 60994 60994 0 7
TAG.DROPTEXT12 
TAG.DEFAULTTEXT12 
RETURN 1
ONBUTTON=76
MOREP <TAG.RUNE13POS>
SRC.SYSMESSAGE New default location set.
RETURN 1
ONBUTTON=77
SRC.NEWITEM i_rune_marker
SRC.ACT.NAME <TAG.RUNE13NAME>
SRC.ACT.MOREP <TAG.RUNE13POS>
SRC.ACT.BOUNCE
TAG.RUNE13NAME Empty
TAG.RUNE13POS 
TAG.RUNEM13 0
TAG.BOX13RECALL 0 8
TAG.BOX13GATE 0 8
TAG.RECALL13 0 8
TAG.RUNEID13 0
TAG.DROPRUNE13 60994 60994 0 8
TAG.DEFAULT13 60994 60994 0 8
TAG.DROPTEXT13 
TAG.DEFAULTTEXT13 
RETURN 1
ONBUTTON=78
MOREP <TAG.RUNE14POS>
SRC.SYSMESSAGE New default location set.
RETURN 1
ONBUTTON=79
SRC.NEWITEM i_rune_marker
SRC.ACT.NAME <TAG.RUNE14NAME>
SRC.ACT.MOREP <TAG.RUNE14POS>
SRC.ACT.BOUNCE
TAG.RUNE14NAME Empty
TAG.RUNE14POS 
TAG.RUNEM14 0
TAG.BOX14RECALL 0 8
TAG.BOX14GATE 0 8
TAG.RECALL14 0 8
TAG.RUNEID14 0
TAG.DROPRUNE14 60994 60994 0 8
TAG.DEFAULT14 60994 60994 0 8
TAG.DROPTEXT14 
TAG.DEFAULTTEXT14 
RETURN 1
ONBUTTON=80
MOREP <TAG.RUNE15POS>
SRC.SYSMESSAGE New default location set.
RETURN 1
ONBUTTON=81
SRC.NEWITEM i_rune_marker
SRC.ACT.NAME <TAG.RUNE15NAME>
SRC.ACT.MOREP <TAG.RUNE15POS>
SRC.ACT.BOUNCE
TAG.RUNE15NAME Empty
TAG.RUNE15POS 
TAG.RUNEM15 0
TAG.BOX15RECALL 0 9
TAG.BOX15GATE 0 9
TAG.RECALL15 0 9
TAG.RUNEID15 0
TAG.DROPRUNE15 60994 60994 0 9
TAG.DEFAULT15 60994 60994 0 9
TAG.DROPTEXT15 
TAG.DEFAULTTEXT15 
RETURN 1
ONBUTTON=82
MOREP <TAG.RUNE16POS>
SRC.SYSMESSAGE New default location set.
RETURN 1
ONBUTTON=83
SRC.NEWITEM i_rune_marker
SRC.ACT.NAME <TAG.RUNE16NAME>
SRC.ACT.MOREP <TAG.RUNE16POS>
SRC.ACT.BOUNCE
TAG.RUNE16NAME Empty
TAG.RUNE16POS 
TAG.RUNEM16 0
TAG.BOX16RECALL 0 9
TAG.BOX16GATE 0 9
TAG.RECALL16 0 9
TAG.RUNEID16 0
TAG.DROPRUNE16 60994 60994 0 9
TAG.DEFAULT16 60994 60994 0 9
TAG.DROPTEXT16 
TAG.DEFAULTTEXT16 
RETURN 1
ONBUTTON=100
TARGET Which rune would you like to add?
RETURN 1

[ITEMDEF i_rune_delay_r]
NAME=[Runebook Delay]
ID=i_memory
TYPE=t_eq_script

ON=@Timer
CONT.GO <LINK.TAG.RUNE<EVAL <MORE>>POS>
CONT.SYSMESSAGE <LINK.TAG.RUNE<EVAL <MORE>>POS>
CONT.FIX
REMOVE
RETURN 1

[ITEMDEF i_rune_delay_g]
NAME [Runebook Delay]
ID i_memory
TYPE t_eq_script

ON=@Timer
CONT.NEWITEM i_moongate_blue
CONT.ACT.P <CONT.P>
CONT.ACT.MOREP <LINK.TAG.RUNE<EVAL <MORE>>POS>
CONT.ACT.MORE2 1
CONT.ACT.TIMER 30
CONT.ACT.ATTR attr_static|attr_decay
CONT.NEWITEM i_moongate_blue
CONT.ACT.P <LINK.TAG.RUNE<EVAL <MORE>>POS>
CONT.ACT.MOREP <CONT.P>
CONT.ACT.MORE2 1
CONT.ACT.TIMER 30
CONT.ACT.ATTR attr_static|attr_decay
REMOVE
RETURN 1

[PLEVEL 0]
RECHARGE

[FUNCTION recharge]
SRC.NEWITEM i_book_recharge
SRC.ACT.TIMER 10
SRC.ACT.CONT <SRC.UID>
SRC.ACT.TARGET Which book do you wish to recharge?
RETURN 1
ELSE
RETURN 1
ENDIF

[ITEMDEF i_book_recharge]
NAME [Book Recharge Memory]
ID i_memory
TYPE t_eq_script

ON=@Targon_Char
CONT.SYSMESSAGE You cannot do that.
REMOVE
RETURN 1

ON=@Targon_Item
IF !(<CONT.TARG.BASEID>==i_runebook)
CONT.SYSMESSAGE That is not a runebook.
REMOVE
RETURN 1
ELSEIF (<CONT.TARG.BASEID>==i_runebook) && (<EVAL <CONT.TARG.MORE>>==<EVAL <CONT.TARG.MORE2>> )
CONT.SYSMESSAGE This book has full charges.
REMOVE
RETURN 1
ELSE
CONT.TARG.MORE (<EVAL <CONT.TARG.MORE>>+1)
REMOVE
RETURN 1
ENDIF

ON=@Timer
REMOVE
RETURN 1














[ITEMDEF i_mana_stone1] 
NAME=Mana Stone Dispencer 
ID=0ed5 

ON=@Create 
COLOR=0482 

CATEGORY=Custom 
SUBSECTION= Dispenser 
DESCRIPTION=Mana Stone 

ON=@DCLICK 
IF <SRC.RESTEST 1 i_mana_crystal> 
SRC.MESSAGE You already have a mana crystal 
RETURN 1 
ELSE 
SRC.MESSAGE You recieve a mana crystal 
SRC.NEWITEM i_mana_crystal 
SRC.ACT.BOUNCE 
RETURN 1 
ENDIF 




[ITEMDEF i_mana_crystal] 
NAME=Mana Crystal 
ID=01f19 

ON=@Create 
ATTR=0014 
COLOR=0480
TIMER=1000

CATEGORY=Custom 
SUBSECTION=Stones 
DESCRIPTION=Mana Crystal 

ON=@DCLICK 
IF <TIMER> > 2000
SRC.MESSAGE You must wait to use this again! 
RETURN 0 
ELSE
SRC.MANA=(<SRC.INT> )

RETURN 0 





//////////////////////////////////////////////////////////// 
///Scripted By: Lord Techno 
///Script Version .06v 
///Sphere Server Ver 55i/99? 
//////////////////////////////////////////////////////////// 

//////////////////////////////////////////////////////////// 
///Snowball Wars 
//////////////////////////////////////////////////////////// 


[DEFNAME COLOR_snowball] 
color_o_balls 0481 
color_o_snowteam1 0480 
color_o_snowteam2 0481 
color_o_snowteam3 020 
color_o_snowteam4 040 
color_o_snowteam5 0796 
color_o_snowteam6 0792 

//////////////////////////////////////////////////////////// 
///Gates 
//////////////////////////////////////////////////////////// 

[ITEMDEF i_snowwars_gate1] 
NAME=Snow Team 1 
ID=00dda 
on=@create 
COLOR=color_o_snowteam1 
CATEGORY=AAA 
SUBSECTION=Snow Wars 
Description=Snow wars Gate 1 

ON=@STEP 
if <EVAL !<src.tag.snowteam> >=0 
Src.Message You Can not Pass 
Src.Message You belong to team <src.tag.snowteam> 
src.move 1 1 
TIMER 15 
RETURN 1 
else 
src.tag.snowteam=1 
src.tag.teampts1=0 
SRC.tag.bodycolor=<src.color> 
src.color=color_o_snowteam1 
src.move 1 1 
TIMER 15 
RETURN 1 
endif 
ON=@Timer 
TIMER 15 
RETURN 1 

[ITEMDEF i_snowwars_gate2] 
NAME=Snow Team 2 
ID=00dda 
on=@create 
COLOR=color_o_snowteam2 
CATEGORY=AAA 
SUBSECTION=Snow Wars 
Description=Snow wars Gate 2 

ON=@STEP 
if <EVAL !<src.tag.snowteam> >=0 
Src.Message You Can not Pass 
Src.Message You belong to team <src.tag.snowteam> 
src.move 1 1 
TIMER 15 
RETURN 1 
else 
src.tag.snowteam=2 
src.tag.teampts2=0 
SRC.tag.bodycolor=<src.color> 
src.color=color_o_snowteam2 
src.move 1 1 
TIMER 15 
RETURN 1 
endif 
ON=@Timer 
TIMER 15 
RETURN 1 

[ITEMDEF i_snowwars_gate3] 
NAME=Snow Team 3 
ID=00dda 
on=@create 
COLOR=color_o_snowteam3 
CATEGORY=AAA 
SUBSECTION=Snow Wars 
Description=Snow wars Gate 3 

ON=@step 
if <EVAL !<src.tag.snowteam> >=0 
Src.Message You Can not Pass 
Src.Message You belong to team <src.tag.snowteam> 
src.move 1 1 
RETURN 1 
TIMER 15 
else 
src.tag.snowteam=3 
src.tag.teampts3=0 
SRC.tag.bodycolor=<src.color> 
src.color=color_o_snowteam3 
src.move 1 1 
RETURN 1 
TIMER 15 
endif 

ON=@Timer 
TIMER 15 
RETURN 1 

[ITEMDEF i_snowwars_gate4] 
NAME=Snow Team 4 
ID=00dda 

on=@create 
COLOR=color_o_snowteam4 

CATEGORY=AAA 
SUBSECTION=Snow Wars 
Description=Snow wars Gate 4 

ON=@STEP 
if <EVAL !<src.tag.snowteam> >=0 
Src.Message You Can not Pass 
Src.Message You belong to team <src.tag.snowteam> 
src.move 1 1 
Timer 15 
RETURN 1 
else 
src.tag.snowteam=4 
src.tag.teampts4=0 
SRC.tag.bodycolor=<src.color> 
src.color=color_o_snowteam4 
src.move 1 1 
TIMER 15 
RETURN 1 
endif 

ON=@Timer 
TIMER 15 
RETURN 1 

[ITEMDEF i_snowwars_gate5] 
NAME=Snowwars tag removal 
ID=00dda 
on=@create 
COLOR=color_o_snowteam5 
ATTR=attr_decay 
CATEGORY=AAA 
SUBSECTION=Snow Wars 
Description=Snow wars tag removal 

ON=@STEP 
TIMER 15 
src.move 1 1 
src.tag.snowteam=0 
src.tag.snowteam.remove 
src.tag.teampts1=0 
src.tag.teampts1.remove 
src.tag.teampts2=0 
src.tag.teampts2.remove 
src.tag.teampts3=0 
src.tag.teampts3.remove 
src.tag.teampts4=0 
src.tag.teampts4.remove 
src.color=<src.tag.bodycolor> 
src.tag.bodycolor.remove 
return 1 
ON=@Timer 
TIMER 15 
RETURN 1 
//////////////////////////////////////////////////////////// 
///Point Collection Bulletin Board 
//////////////////////////////////////////////////////////// 
[ITEMDEF i_snowwars_bb] 
NAME=Point Collection 
//ID=00dda 
ID=01e5e 
type=t_script 
CATEGORY=AAA 
SUBSECTION=Snow Wars 
Description=Snow wars Point 


ON=@CREATE 
ATTR=04050 
COLOR=color_o_snowteam6 
tag.teampts1=00 
tag.teampts2=00 
tag.teampts3=00 
tag.teampts4=00 
tag.gametime=900 
MORE2=10 
RETURN 1 

ON=@dclick 
tag.gametime = <timer> 
If <src.tag.snowteam>=1 
tag.teampts1=<tag.teampts1> + <src.tag.teampts1> 
src.tag.teampts1=0 
DIALOG d_snowars 
return 1 
else 
If <src.tag.snowteam>=2 
tag.teampts2=<tag.teampts2> + <src.tag.teampts2> 
src.tag.teampts2=0 
DIALOG d_snowars 
return 1 
else 
If <src.tag.snowteam>=3 
tag.teampts3=<tag.teampts3> + <src.tag.teampts3> 
src.tag.teampts3=0 
DIALOG d_snowars 
return 1 
else 
If <src.tag.snowteam>=4 
tag.teampts4=<tag.teampts4> + <src.tag.teampts4> 
src.tag.teampts4=0 
DIALOG d_snowars 
return 1 
else 
DIALOG d_snowars 
return 1 
endif 

ON=@TIMER 
if <more2> >= 1 
SERV.ALLCLIENTS SYSMESSAGE Game Over Please Collect Points at scoreboard. 
more2=<more2>-1 
Timer 2 
RETURN 1 
else 
timer = 0 
return 1 
ENDIF 

//////////////////////////////////////////////////////////// 
///Snowball 
//////////////////////////////////////////////////////////// 

[ITEMDEF I_PILE_SNOW] 
ID=0913 
NAME=pile of snow 

ON=@CREATE 
COLOR=color_o_balls 

ON=@DCLICK 
remove 
SRC.NEWITEM i_snow_ball 
src.act.bounce 
RETURN 1 

CATEGORY=AAA 
SUBSECTION=Snow Wars 
Description=Pile of snow 

[ITEMDEF i_snow_ball] 
ID=i_virtstone_7 
Name=a snow ball 

ON=@CREATE 
Color=color_o_balls 
TIMER 15 
CATEGORY=AAA 
SUBSECTION=Snow Wars 
Description=Snowball (white) 
ATTR=attr_decay 

ON=@DCLICK 
f_snowball 
RETURN 1 

ON=@TARGON_CHAR 
if (<TIMER> = 3) 
src.sysmessage You missed Your Target. 
REMoVE 
RETURN 1 
else 
IF (<SRC.TARG.SERIAL> != <SRC.SERIAL> ) 
IF (<SRC.TARG.TAG.SNOWTEAM>=<SRC.TAG.SNOWTEAM> ) 
SRC.SYSMESSAGE They are on the same team member 
else 
SRC.ANIM 11 
SRC.TARG.EFFECT=0,i_virtstone_7,7,0,1 
SRC.TARG.ANIM 20 
SRC.TARG.HITS=<SRC.TARG.HITS>+ - {1 35} 
SOUND 0145 
SRC.SYSMESSAGE=You hit <SRC.TARG.NAME> with a snowball! 
SRC.TARG.SYSMESSAGE=<src.name> threw a snowball at you! 
s_points 
remove 
RETURN 1 
ELSE 
SRC.SYSMESSAGE You can only throw a snowball at something that can throw one back. 
TIMER 15 
Return 1 
ELSE 
SRC.SYSMESSAGE You cannot throw a snowball at yourself! 
TIMER 15 
RETURN 1 
ENDIF 
ENDIF 
ENDIF 

ON=@TARGON_ITEM 
SRC.SYSMESSAGE That isn't a person!! 
TIMER=10 
RETURN 1 

ON=@TARGON_GROUND 
RETURN 1 

ON=@TIMER 
MESSAGE The Snowball has melted. 
REMOVE 
return 1 

[ITEMDEF i_snow_bb_reset] 
ID=01eca 
Name=reset stone 

ON=@CREATE 
Color=color_o_balls 
TIMER 15 
CATEGORY=AAA 
SUBSECTION=Snow Wars 
Description=Snow board reset 
return 1 

ON=@DCLICK 
target Select Board to reset 
RETURN 1 

ON=@TARGON_CHAR 
src.sysmessage Not a board 
RETURN 1 

ON=@TARGON_ITEM 
src.targ.tag.gametime=<src.targ.timer> 
SRC.TARG.MORE2=10 
SRC.targ.tag.teampts1=0 
SRC.targ.tag.teampts2=0 
SRC.targ.tag.teampts3=0 
SRC.targ.tag.teampts4=0 
src.targ.TIMER = 900 
SERV.ALLCLIENTS SYSMESSAGE GAME HAS BEGUN 
return 1 

ON=@TARGON_GROUND 
RETURN 1 

//////////////////////////////////////////////////////////// 
///Snowball functions 
//////////////////////////////////////////////////////////// 

[function Points] 
src.sysmessage Team 1 <tag.teampts1> points 
src.sysmessage Team 2 <tag.teampts2> points 
src.sysmessage Team 3 <tag.teampts3> points 
src.sysmessage Team 4 <tag.teampts4> points 

[function f_snowball] 
IF (<TIMER> >= 8) 
TARGET Whos getting hit? 
TIMER 15 
RETURN 1 
else (<TIMER> = 7) 
src.sysmessage The snowball broke in your hands. 
REMoVE 
RETURN 1 
else (<TIMER> >= 4) 
TARGET Whos getting hit? 
TIMER 15 
RETURN 1 
else (<TIMER> >= 3) 
src.sysmessage You missed Your Target. 
REMoVE 
RETURN 1 
else (<TIMER> >= 1) 
TARGET Whos getting hit? 
TIMER 15 
RETURN 1 
else (<TIMER> = 0) 
REMoVE 
RETURN 1 
else 
RETURN 1 
endif 

[function s_points] 
iF (<SRC.TAG.SNOWTEAM> )==1 
src.tag.teampts1=<src.tag.teampts1> + 1 
Return 1 
else 
iF (<SRC.TAG.SNOWTEAM> )==2 
src.tag.teampts2=<src.tag.teampts2> + 1 
Return 1 
else 
iF (<SRC.TAG.SNOWTEAM> )==3 
src.tag.teampts3=<src.tag.teampts3> + 1 
Return 1 
else 
iF (<SRC.TAG.SNOWTEAM> )==4 
src.tag.teampts4=<src.tag.teampts4> + 1 
Return 1 
ENDIF 


[function s_reset] 
Target Select Board to reset 


//////////////////////////////////////////////////////////// 
///Snowball dialogs 
//////////////////////////////////////////////////////////// 

[DIALOG d_snowars] 
0, 0 
PAGE 0 
resizepic 0 0 3500 325 280 
gumppic 11 9 1418 
text 25 17 1313 0 
text 25 55 102 1 
text 25 90 102 2 
text 25 130 102 3 
text 25 160 102 4 
text 130 55 102 5 
text 130 90 102 6 
text 130 130 102 7 
text 130 160 102 8 
text 75 189 95 9 
text 135 222 95 10 

[DIALOG d_snowars TEXT] 
Lord Techno's Snowball Wars v1.0 
Blue Team 
White Team 
Red Team 
Green Team 
<EVAL 0<tag.teampts1>> 
<EVAL 0<tag.teampts2>> 
<EVAL 0<tag.teampts3>> 
<EVAL 0<tag.teampts4>> 
Time till game Over 
<EVAL 0<tag.gametime>> 

[DIALOG d_snowars BUTTON] 





















//Flint's Slot Machine!
//http://flint.runover.net
//ICQ: 14220010
//Email: brentvatne@home.com <mailto:brentvatne@home.com>
//note to user:
//Feel free to play around with the rand #'s or add your own items! just add another:
//----------------------------------<code>
//elseif (rand(xx))==1 //in place of xx you would put the # that you want there to be a 1 in xx chance of getting it
//src.newitem idhere
//src.act.bounce
//---------------------------------</code>
//This was built using Belgar's Consume Gold from bank function, it is necessary to have it.
//Please leave these lines intact

// Changes by Woolmar - if it's broke it's probably his fault
//Prizes changed, payouts adjusted, each machine has its own jackpot fund.
//Changed to emote symbols.
// 0 = Jackpot
// 1 = Plum
// 2 = Book
// 3 = Skull
// 4 = Sword
// 5 = Bell
// 6 = Cherry


[function slot_emote]
// By Woolmar - set up for 7 different symbols
// you can change the symbol names without affecting the payouts
// NOTE - payouts don't check the symbols - they check the number (0-6)
// which was assigned.
doswitch ( <eval <args>> )
say *Jackpot* //0
say *Ciruela* //1
say *Libro* //2
say *Calavera* //3 - Would be good for a necrobook
say *Espada* //4
say *Campana* //5
say *Cereza* //6
enddo

[itemdef i_slot_machine]
id=0edc
name=Maquina Tragamonedas - 200 gp
type=t_script

category=Other
subsection=Gambling
description=Slot Machine

on=@create
attr=010
tag.pot = 5000

on=@click

src.sysmessage El pozo acumulado actualmente es <eval <tag.pot>>, 200 gp para jugar.

on=@dclick


if !(<src.restest 1 i_gambled> )
src.consumegold_everywhere 200
if (<src.tag.aposto>!=0)
src.tag.aposto=<eval <src.tag.aposto>+1>
else
src.tag.aposto=1
endif
if ( <VAR.CONSUMEGOLD> > 0 )
src.sysmessage Te faltan <eval <VAR.CONSUMEGOLD>>gp para jugar.
return 1
endif

// create the result and emote the symbols.
var.result1 = <eval rand(7)>
var.result2 = <eval rand(7)>
var.result3 = <eval rand(7)>

var.result = (( <var.result1> * 100 ) + ( <var.result2> * 10 ) + ( <var.result3> ))
// gives 343 results
slot_emote <var.result1>
slot_emote <var.result2>
slot_emote <var.result3>

if (0<eval <var.result>>==0) // three jackpots
src.message Ganas el pozo acumulado!
serv.b <src.name> se ha llevado el pozo acumulado de <eval <tag.pot>> gp en el casino de Venganza Medieval!
src.givegold <eval <tag.pot>>
src.newitem RANDOM_MALE_TOPS
src.act.name Ganador del pozo acumulado de <eval <tag.pot>> gp
src.act.hitpoints -1
src.act.attr attr_newbie
src.act.bounce
tag.pot=5000
src.resync

elseif (<var.result>==111) // three plums
src.message Ganas una tunica indestructible, cortesia del casino de Venganza Medieval!
src.newitem i_robe
src.act.color colors_lava
src.act.hitpoints 9999
src.act.name Gane esto en el casino de Venganza Medieval!
src.act.attr attr_newbie
src.act.bounce

elseif (<var.result>==222) // three books
src.message Ganas un libro de hechizos de color, cortesia del casino de Venganza Medieval!
src.newitem i_spellbook
src.act.color 0482
src.act.name Gane esto en el casino de Venganza Medieval!
src.act.attr attr_newbie
src.act.bounce

elseif (<var.result>==333) // three skulls
src.message Ganas un libro de hechizos de color, cortesia del casino de Venganza Medieval!
src.newitem i_spellbook
src.act.color 0966
src.act.name Gane esto en el casino de Venganza Medieval!
src.act.attr attr_newbie
src.act.bounce

elseif (<var.result>==444) // three swords
src.message Ganas una espada vikinga de color, cortesia del casino de Venganza Medieval!
src.newitem i_sword_viking
src.act.color 05b
src.act.name Gane esto en el casino de Venganza Medieval!
src.act.bounce

elseif (<var.result>==555) // three bells
src.message Ganas una tunica indestructible, cortesia del casino de Venganza Medieval! 
src.newitem i_robe
src.act.color colors_lava
src.act.hitpoints 9999
src.act.name Gane esto en el casino de Venganza Medieval!
src.act.attr attr_newbie
src.act.bounce

elseif ((<var.result> )==666)) // three cherries
src.act.givegold 5000
tag.pot=<eval <eval <tag.pot>> + {15 25} >
src.message Ganas 5000 piezas de oro! El nuevo pozo acumulado es de <eval <tag.pot>>
src.resync

elseif ((<var.result1> )==6) && (<var.result2> )==6)) // two cherries
src.givegold 500
tag.pot=<eval <eval <tag.pot>> + {15 25} >
src.message Ganas 500 piezas de oro! El nuevo pozo acumulado es de <eval <tag.pot>> 
src.resync

elseif ((<var.result1> )==6) // one cherry
src.givegold 20
tag.pot=<eval <eval <tag.pot>> + {15 25} >
src.message Ganas 20 piezas de oro! El nuevo pozo acumulado es de <eval <tag.pot>>
src.resync

else // LOSER!!
tag.pot=<eval <eval <tag.pot>> + {15 25} >
src.message Pierdes! El nuevo pozo acumulado es de <eval <tag.pot>>
endif
src.newitem=i_gambled
src.act.link=<src.uid>
src.act.equip
src.act.timer 3
else
src.sysmessage Tu corazon esta muy acelerado para como apostar de nuevo inmediatamente.
endif
return 1

[ITEMDEF i_gambled]
NAME=Memory of Gambling
id=i_handr_1
weight=0
layer=layer_special
type=t_eq_script

category=Memory Items
subsection=Server Memory
description=Memory of Gambling

on=@create
attr=attr_decay || attr_newbie

on=@timer
remove
return 1





//This is a ranking of bets scripted to work with flints' slot machine script
//Author: Revenge
//ICQ:7175505
//website: http://www.mundo21.com/~revenge
// For this script to work you need to add a tag to every player that bets, containing the times the player bet.
//********************
//if (<src.tag.aposto>!=0)
//src.tag.aposto=<eval <src.tag.aposto>+1>
//else
//src.tag.aposto=1
//endif
//*******************
[ITEMDEF i_apostadores]
NAME=Ranking de Apostadores
ID=01e5e
type=t_script

category=Other
subsection=Gambling
description=Ranking

on=@create
attr=010
tag.primero=0
tag.primero2=0
tag.segundo=0
tag.segundo2=0
tag.tercero=0
tag.tercero2=0
tag.cuarto=0
tag.cuarto2=0
tag.quinto=0
tag.quinto2=0
tag.sexto=0
tag.sexto2=0
tag.septimo=0
tag.septimo2=0
tag.octavo=0
tag.octavo2=0
tag.noveno=0
tag.noveno2=0
tag.decimo=0
tag.decimo2=0

on=@dclick
if (<eval <src.tag.aposto>>>=<eval <tag.primero2>> )
if (STRCMP("<tag.primero>","<src.name>")==0)
tag.primero=<src.name>
tag.primero2=<src.tag.aposto>
elseif (STRCMP("<tag.segundo>","<src.name>")==0)
tag.segundo=<tag.primero>
tag.segundo2=<tag.primero2>
tag.primero=<src.name>
tag.primero2=<src.tag.aposto>
elseif (STRCMP("<tag.tercero>","<src.name>")==0)
tag.tercero=<tag.segundo>
tag.tercero2=<tag.segundo2>
tag.segundo=<tag.primero>
tag.segundo2=<tag.primero2>
tag.primero=<src.name>
tag.primero2=<src.tag.aposto>
elseif (STRCMP("<tag.cuarto>","<src.name>")==0)
tag.cuarto=<tag.tercero>
tag.cuarto2=<tag.tercero2>
tag.tercero=<tag.segundo>
tag.tercero2=<tag.segundo2>
tag.segundo=<tag.primero>
tag.segundo2=<tag.primero2>
tag.primero=<src.name>
tag.primero2=<src.tag.aposto>
elseif (STRCMP("<tag.quinto>","<src.name>")==0)
tag.quinto=<tag.cuarto>
tag.quinto2=<tag.cuarto2>
tag.cuarto=<tag.tercero>
tag.cuarto2=<tag.tercero2>
tag.tercero=<tag.segundo>
tag.tercero2=<tag.segundo2>
tag.segundo=<tag.primero>
tag.segundo2=<tag.primero2>
tag.primero=<src.name>
tag.primero2=<src.tag.aposto>
elseif (STRCMP("<tag.sexto>","<src.name>")==0)
tag.sexto=<tag.quinto>
tag.sexto2=<tag.quinto2>
tag.quinto=<tag.cuarto>
tag.quinto2=<tag.cuarto2>
tag.cuarto=<tag.tercero>
tag.cuarto2=<tag.tercero2>
tag.tercero=<tag.segundo>
tag.tercero2=<tag.segundo2>
tag.segundo=<tag.primero>
tag.segundo2=<tag.primero2>
tag.primero=<src.name>
tag.primero2=<src.tag.aposto>
elseif (STRCMP("<tag.septimo>","<src.name>")==0)
tag.septimo=<tag.sexto>
tag.septimo2=<tag.sexto2>
tag.sexto=<tag.quinto>
tag.sexto2=<tag.quinto2>
tag.quinto=<tag.cuarto>
tag.quinto2=<tag.cuarto2>
tag.cuarto=<tag.tercero>
tag.cuarto2=<tag.tercero2>
tag.tercero=<tag.segundo>
tag.tercero2=<tag.segundo2>
tag.segundo=<tag.primero>
tag.segundo2=<tag.primero2>
tag.primero=<src.name>
tag.primero2=<src.tag.aposto>
elseif (STRCMP("<tag.octavo>","<src.name>")==0)
tag.octavo=<tag.septimo>
tag.octavo2=<tag.septimo2>
tag.septimo=<tag.sexto>
tag.septimo2=<tag.sexto2>
tag.sexto=<tag.quinto>
tag.sexto2=<tag.quinto2>
tag.quinto=<tag.cuarto>
tag.quinto2=<tag.cuarto2>
tag.cuarto=<tag.tercero>
tag.cuarto2=<tag.tercero2>
tag.tercero=<tag.segundo>
tag.tercero2=<tag.segundo2>
tag.segundo=<tag.primero>
tag.segundo2=<tag.primero2>
tag.primero=<src.name>
tag.primero2=<src.tag.aposto>
elseif (STRCMP("<tag.noveno>","<src.name>")==0)
tag.noveno=<tag.octavo>
tag.noveno2=<tag.octavo2>
tag.octavo=<tag.septimo>
tag.octavo2=<tag.septimo2>
tag.septimo=<tag.sexto>
tag.septimo2=<tag.sexto2>
tag.sexto=<tag.quinto>
tag.sexto2=<tag.quinto2>
tag.quinto=<tag.cuarto>
tag.quinto2=<tag.cuarto2>
tag.cuarto=<tag.tercero>
tag.cuarto2=<tag.tercero2>
tag.tercero=<tag.segundo>
tag.tercero2=<tag.segundo2>
tag.segundo=<tag.primero>
tag.segundo2=<tag.primero2>
tag.primero=<src.name>
tag.primero2=<src.tag.aposto>
else
tag.decimo=<tag.noveno>
tag.decimo2=<tag.noveno2>
tag.noveno=<tag.octavo>
tag.noveno2=<tag.octavo2>
tag.octavo=<tag.septimo>
tag.octavo2=<tag.septimo2>
tag.septimo=<tag.sexto>
tag.septimo2=<tag.sexto2>
tag.sexto=<tag.quinto>
tag.sexto2=<tag.quinto2>
tag.quinto=<tag.cuarto>
tag.quinto2=<tag.cuarto2>
tag.cuarto=<tag.tercero>
tag.cuarto2=<tag.tercero2>
tag.tercero=<tag.segundo>
tag.tercero2=<tag.segundo2>
tag.segundo=<tag.primero>
tag.segundo2=<tag.primero2>
tag.primero=<src.name>
tag.primero2=<src.tag.aposto>
endif



elseif (<eval <src.tag.aposto>>>=<eval <tag.segundo2>> )
if (STRCMP("<tag.primero>","<src.name>")==0)
tag.primero=<tag.segundo>
tag.primero2=<tag.segundo2>
tag.segundo=<src.name>
tag.segundo2=<src.tag.aposto>
elseif (STRCMP("<tag.segundo>","<src.name>")==0)
tag.segundo=<src.name>
tag.segundo2=<src.tag.aposto>
elseif (STRCMP("<tag.tercero>","<src.name>")==0)
tag.tercero=<tag.segundo>
tag.tercero2=<tag.segundo2>
tag.segundo=<src.name>
tag.segundo2=<src.tag.aposto>
elseif (STRCMP("<tag.cuarto>","<src.name>")==0)
tag.cuarto=<tag.tercero>
tag.cuarto2=<tag.tercero2>
tag.tercero=<tag.segundo>
tag.tercero2=<tag.segundo2>
tag.segundo=<src.name>
tag.segundo2=<src.tag.aposto>
elseif (STRCMP("<tag.quinto>","<src.name>")==0)
tag.quinto=<tag.cuarto>
tag.quinto2=<tag.cuarto2>
tag.cuarto=<tag.tercero>
tag.cuarto2=<tag.tercero2>
tag.tercero=<tag.segundo>
tag.tercero2=<tag.segundo2>
tag.segundo=<src.name>
tag.segundo2=<src.tag.aposto>
elseif (STRCMP("<tag.sexto>","<src.name>")==0)
tag.sexto=<tag.quinto>
tag.sexto2=<tag.quinto2>
tag.quinto=<tag.cuarto>
tag.quinto2=<tag.cuarto2>
tag.cuarto=<tag.tercero>
tag.cuarto2=<tag.tercero2>
tag.tercero=<tag.segundo>
tag.tercero2=<tag.segundo2>
tag.segundo=<src.name>
tag.segundo2=<src.tag.aposto>
elseif (STRCMP("<tag.septimo>","<src.name>")==0)
tag.septimo=<tag.sexto>
tag.septimo2=<tag.sexto2>
tag.sexto=<tag.quinto>
tag.sexto2=<tag.quinto2>
tag.quinto=<tag.cuarto>
tag.quinto2=<tag.cuarto2>
tag.cuarto=<tag.tercero>
tag.cuarto2=<tag.tercero2>
tag.tercero=<tag.segundo>
tag.tercero2=<tag.segundo2>
tag.segundo=<src.name>
tag.segundo2=<src.tag.aposto>
elseif (STRCMP("<tag.octavo>","<src.name>")==0)
tag.octavo=<tag.septimo>
tag.octavo2=<tag.septimo2>
tag.septimo=<tag.sexto>
tag.septimo2=<tag.sexto2>
tag.sexto=<tag.quinto>
tag.sexto2=<tag.quinto2>
tag.quinto=<tag.cuarto>
tag.quinto2=<tag.cuarto2>
tag.cuarto=<tag.tercero>
tag.cuarto2=<tag.tercero2>
tag.tercero=<tag.segundo>
tag.tercero2=<tag.segundo2>
tag.segundo=<src.name>
tag.segundo2=<src.tag.aposto>
elseif (STRCMP("<tag.noveno>","<src.name>")==0)
tag.noveno=<tag.octavo>
tag.noveno2=<tag.octavo2>
tag.octavo=<tag.septimo>
tag.octavo2=<tag.septimo2>
tag.septimo=<tag.sexto>
tag.septimo2=<tag.sexto2>
tag.sexto=<tag.quinto>
tag.sexto2=<tag.quinto2>
tag.quinto=<tag.cuarto>
tag.quinto2=<tag.cuarto2>
tag.cuarto=<tag.tercero>
tag.cuarto2=<tag.tercero2>
tag.tercero=<tag.segundo>
tag.tercero2=<tag.segundo2>
tag.segundo=<src.name>
tag.segundo2=<src.tag.aposto>
else
tag.decimo=<tag.noveno>
tag.decimo2=<tag.noveno2>
tag.noveno=<tag.octavo>
tag.noveno2=<tag.octavo2>
tag.octavo=<tag.septimo>
tag.octavo2=<tag.septimo2>
tag.septimo=<tag.sexto>
tag.septimo2=<tag.sexto2>
tag.sexto=<tag.quinto>
tag.sexto2=<tag.quinto2>
tag.quinto=<tag.cuarto>
tag.quinto2=<tag.cuarto2>
tag.cuarto=<tag.tercero>
tag.cuarto2=<tag.tercero2>
tag.tercero=<tag.segundo>
tag.tercero2=<tag.segundo2>
tag.segundo=<src.name>
tag.segundo2=<src.tag.aposto>
endif

elseif (<eval <src.tag.aposto>>>=<eval <tag.tercero2>> )
if (STRCMP("<tag.primero>","<src.name>")==0)
tag.primero=<tag.segundo>
tag.primero2=<tag.segundo2>
tag.segundo=<tag.tercero>
tag.segundo2=<tag.tercero2>
tag.tercero=<src.name>
tag.tercero2=<src.tag.aposto>
elseif (STRCMP("<tag.segundo>","<src.name>")==0)
tag.segundo=<tag.tercero>
tag.segundo2=<tag.tercero2>
tag.tercero=<src.name>
tag.tercero2=<src.tag.aposto>
elseif (STRCMP("<tag.tercero>","<src.name>")==0)
tag.tercero=<src.name>
tag.tercero2=<src.tag.aposto>
elseif (STRCMP("<tag.cuarto>","<src.name>")==0)
tag.cuarto=<tag.tercero>
tag.cuarto2=<tag.tercero2>
tag.tercero=<src.name>
tag.tercero2=<src.tag.aposto>
elseif (STRCMP("<tag.quinto>","<src.name>")==0)
tag.quinto=<tag.cuarto>
tag.quinto2=<tag.cuarto2>
tag.cuarto=<tag.tercero>
tag.cuarto2=<tag.tercero2>
tag.tercero=<src.name>
tag.tercero2=<src.tag.aposto>
elseif (STRCMP("<tag.sexto>","<src.name>")==0)
tag.sexto=<tag.quinto>
tag.sexto2=<tag.quinto2>
tag.quinto=<tag.cuarto>
tag.quinto2=<tag.cuarto2>
tag.cuarto=<tag.tercero>
tag.cuarto2=<tag.tercero2>
tag.tercero=<src.name>
tag.tercero2=<src.tag.aposto>
elseif (STRCMP("<tag.septimo>","<src.name>")==0)
tag.septimo=<tag.sexto>
tag.septimo2=<tag.sexto2>
tag.sexto=<tag.quinto>
tag.sexto2=<tag.quinto2>
tag.quinto=<tag.cuarto>
tag.quinto2=<tag.cuarto2>
tag.cuarto=<tag.tercero>
tag.cuarto2=<tag.tercero2>
tag.tercero=<src.name>
tag.tercero2=<src.tag.aposto>
elseif (STRCMP("<tag.octavo>","<src.name>")==0)
tag.octavo=<tag.septimo>
tag.octavo2=<tag.septimo2>
tag.septimo=<tag.sexto>
tag.septimo2=<tag.sexto2>
tag.sexto=<tag.quinto>
tag.sexto2=<tag.quinto2>
tag.quinto=<tag.cuarto>
tag.quinto2=<tag.cuarto2>
tag.cuarto=<tag.tercero>
tag.cuarto2=<tag.tercero2>
tag.tercero=<src.name>
tag.tercero2=<src.tag.aposto>
elseif (STRCMP("<tag.noveno>","<src.name>")==0)
tag.noveno=<tag.octavo>
tag.noveno2=<tag.octavo2>
tag.octavo=<tag.septimo>
tag.octavo2=<tag.septimo2>
tag.septimo=<tag.sexto>
tag.septimo2=<tag.sexto2>
tag.sexto=<tag.quinto>
tag.sexto2=<tag.quinto2>
tag.quinto=<tag.cuarto>
tag.quinto2=<tag.cuarto2>
tag.cuarto=<tag.tercero>
tag.cuarto2=<tag.tercero2>
tag.tercero=<src.name>
tag.tercero2=<src.tag.aposto>
else
tag.decimo=<tag.noveno>
tag.decimo2=<tag.noveno2>
tag.noveno=<tag.octavo>
tag.noveno2=<tag.octavo2>
tag.octavo=<tag.septimo>
tag.octavo2=<tag.septimo2>
tag.septimo=<tag.sexto>
tag.septimo2=<tag.sexto2>
tag.sexto=<tag.quinto>
tag.sexto2=<tag.quinto2>
tag.quinto=<tag.cuarto>
tag.quinto2=<tag.cuarto2>
tag.cuarto=<tag.tercero>
tag.cuarto2=<tag.tercero2>
tag.tercero=<src.name>
tag.tercero2=<src.tag.aposto>
endif


elseif (<eval <src.tag.aposto>>>=<eval <tag.cuarto2>> )
if (STRCMP("<tag.primero>","<src.name>")==0)
tag.primero=<tag.segundo>
tag.primero2=<tag.segundo2>
tag.segundo=<tag.tercero>
tag.segundo2=<tag.tercero2>
tag.tercero=<tag.cuarto>
tag.tercero2=<tag.cuarto2>
tag.cuarto=<src.name>
tag.cuarto2=<src.tag.aposto>
elseif (STRCMP("<tag.segundo>","<src.name>")==0)
tag.segundo=<tag.tercero>
tag.segundo2=<tag.tercero2>
tag.tercero=<tag.cuarto>
tag.tercero2=<tag.cuarto2>
tag.cuarto=<src.name>
tag.cuarto2=<src.tag.aposto>
elseif (STRCMP("<tag.tercero>","<src.name>")==0)
tag.tercero=<tag.cuarto>
tag.tercero2=<tag.cuarto2>
tag.cuarto=<src.name>
tag.cuarto2=<src.tag.aposto>
elseif (STRCMP("<tag.cuarto>","<src.name>")==0)
tag.cuarto=<src.name>
tag.cuarto2=<src.tag.aposto>
elseif (STRCMP("<tag.quinto>","<src.name>")==0)
tag.quinto=<tag.cuarto>
tag.quinto2=<tag.cuarto2>
tag.cuarto=<src.name>
tag.cuarto2=<src.tag.aposto>
elseif (STRCMP("<tag.sexto>","<src.name>")==0)
tag.sexto=<tag.quinto>
tag.sexto2=<tag.quinto2>
tag.quinto=<tag.cuarto>
tag.quinto2=<tag.cuarto2>
tag.cuarto=<src.name>
tag.cuarto2=<src.tag.aposto>
elseif (STRCMP("<tag.septimo>","<src.name>")==0)
tag.septimo=<tag.sexto>
tag.septimo2=<tag.sexto2>
tag.sexto=<tag.quinto>
tag.sexto2=<tag.quinto2>
tag.quinto=<tag.cuarto>
tag.quinto2=<tag.cuarto2>
tag.cuarto=<src.name>
tag.cuarto2=<src.tag.aposto>
elseif (STRCMP("<tag.octavo>","<src.name>")==0)
tag.octavo=<tag.septimo>
tag.octavo2=<tag.septimo2>
tag.septimo=<tag.sexto>
tag.septimo2=<tag.sexto2>
tag.sexto=<tag.quinto>
tag.sexto2=<tag.quinto2>
tag.quinto=<tag.cuarto>
tag.quinto2=<tag.cuarto2>
tag.cuarto=<src.name>
tag.cuarto2=<src.tag.aposto>
elseif (STRCMP("<tag.noveno>","<src.name>")==0)
tag.noveno=<tag.octavo>
tag.noveno2=<tag.octavo2>
tag.octavo=<tag.septimo>
tag.octavo2=<tag.septimo2>
tag.septimo=<tag.sexto>
tag.septimo2=<tag.sexto2>
tag.sexto=<tag.quinto>
tag.sexto2=<tag.quinto2>
tag.quinto=<tag.cuarto>
tag.quinto2=<tag.cuarto2>
tag.cuarto=<src.name>
tag.cuarto2=<src.tag.aposto>
else
tag.decimo=<tag.noveno>
tag.decimo2=<tag.noveno2>
tag.noveno=<tag.octavo>
tag.noveno2=<tag.octavo2>
tag.octavo=<tag.septimo>
tag.octavo2=<tag.septimo2>
tag.septimo=<tag.sexto>
tag.septimo2=<tag.sexto2>
tag.sexto=<tag.quinto>
tag.sexto2=<tag.quinto2>
tag.quinto=<tag.cuarto>
tag.quinto2=<tag.cuarto2>
tag.cuarto=<src.name>
tag.cuarto2=<src.tag.aposto>
endif


elseif (<eval <src.tag.aposto>>>=<eval <tag.quinto2>> )
if (STRCMP("<tag.primero>","<src.name>")==0)
tag.primero=<tag.segundo>
tag.primero2=<tag.segundo2>
tag.segundo=<tag.tercero>
tag.segundo2=<tag.tercero2>
tag.tercero=<tag.cuarto>
tag.tercero2=<tag.cuarto2>
tag.cuarto=<tag.quinto>
tag.cuarto2=<tag.quinto2>
tag.quinto=<src.name>
tag.quinto2=<src.tag.aposto>
elseif (STRCMP("<tag.segundo>","<src.name>")==0)
tag.segundo=<tag.tercero>
tag.segundo2=<tag.tercero2>
tag.tercero=<tag.cuarto>
tag.tercero2=<tag.cuarto2>
tag.cuarto=<tag.quinto>
tag.cuarto2=<tag.quinto2>
tag.quinto=<src.name>
tag.quinto2=<src.tag.aposto>
elseif (STRCMP("<tag.tercero>","<src.name>")==0)
tag.tercero=<tag.cuarto>
tag.tercero2=<tag.cuarto2>
tag.cuarto=<tag.quinto>
tag.cuarto2=<tag.quinto2>
tag.quinto=<src.name>
tag.quinto2=<src.tag.aposto>
elseif (STRCMP("<tag.cuarto>","<src.name>")==0)
tag.cuarto=<tag.quinto>
tag.cuarto2=<tag.quinto2>
tag.quinto=<src.name>
tag.quinto2=<src.tag.aposto>
elseif (STRCMP("<tag.quinto>","<src.name>")==0)
tag.quinto=<src.name>
tag.quinto2=<src.tag.aposto>
elseif (STRCMP("<tag.sexto>","<src.name>")==0)
tag.sexto=<tag.quinto>
tag.sexto2=<tag.quinto2>
tag.quinto=<src.name>
tag.quinto2=<src.tag.aposto>
elseif (STRCMP("<tag.septimo>","<src.name>")==0)
tag.septimo=<tag.sexto>
tag.septimo2=<tag.sexto2>
tag.sexto=<tag.quinto>
tag.sexto2=<tag.quinto2>
tag.quinto=<src.name>
tag.quinto2=<src.tag.aposto>
elseif (STRCMP("<tag.octavo>","<src.name>")==0)
tag.octavo=<tag.septimo>
tag.octavo2=<tag.septimo2>
tag.septimo=<tag.sexto>
tag.septimo2=<tag.sexto2>
tag.sexto=<tag.quinto>
tag.sexto2=<tag.quinto2>
tag.quinto=<src.name>
tag.quinto2=<src.tag.aposto>
elseif (STRCMP("<tag.noveno>","<src.name>")==0)
tag.noveno=<tag.octavo>
tag.noveno2=<tag.octavo2>
tag.octavo=<tag.septimo>
tag.octavo2=<tag.septimo2>
tag.septimo=<tag.sexto>
tag.septimo2=<tag.sexto2>
tag.sexto=<tag.quinto>
tag.sexto2=<tag.quinto2>
tag.quinto=<src.name>
tag.quinto2=<src.tag.aposto>
else
tag.decimo=<tag.noveno>
tag.decimo2=<tag.noveno2>
tag.noveno=<tag.octavo>
tag.noveno2=<tag.octavo2>
tag.octavo=<tag.septimo>
tag.octavo2=<tag.septimo2>
tag.septimo=<tag.sexto>
tag.septimo2=<tag.sexto2>
tag.sexto=<tag.quinto>
tag.sexto2=<tag.quinto2>
tag.quinto=<src.name>
tag.quinto2=<src.tag.aposto>
endif


elseif (<eval <src.tag.aposto>>>=<eval <tag.sexto2>> )
if (STRCMP("<tag.primero>","<src.name>")==0)
tag.primero=<tag.segundo>
tag.primero2=<tag.segundo2>
tag.segundo=<tag.tercero>
tag.segundo2=<tag.tercero2>
tag.tercero=<tag.cuarto>
tag.tercero2=<tag.cuarto2>
tag.cuarto=<tag.quinto>
tag.cuarto2=<tag.quinto2>
tag.quinto=<tag.sexto>
tag.quinto2=<tag.sexto2>
tag.sexto=<src.name>
tag.sexto2=<src.tag.aposto>
elseif (STRCMP("<tag.segundo>","<src.name>")==0)
tag.segundo=<tag.tercero>
tag.segundo2=<tag.tercero2>
tag.tercero=<tag.cuarto>
tag.tercero2=<tag.cuarto2>
tag.cuarto=<tag.quinto>
tag.cuarto2=<tag.quinto2>
tag.quinto=<tag.sexto>
tag.quinto2=<tag.sexto2>
tag.sexto=<src.name>
tag.sexto2=<src.tag.aposto>
elseif (STRCMP("<tag.tercero>","<src.name>")==0)
tag.tercero=<tag.cuarto>
tag.tercero2=<tag.cuarto2>
tag.cuarto=<tag.quinto>
tag.cuarto2=<tag.quinto2>
tag.quinto=<tag.sexto>
tag.quinto2=<tag.sexto2>
tag.sexto=<src.name>
tag.sexto2=<src.tag.aposto>
elseif (STRCMP("<tag.cuarto>","<src.name>")==0)
tag.cuarto=<tag.quinto>
tag.cuarto2=<tag.quinto2>
tag.quinto=<tag.sexto>
tag.quinto2=<tag.sexto2>
tag.sexto=<src.name>
tag.sexto2=<src.tag.aposto>
elseif (STRCMP("<tag.quinto>","<src.name>")==0)
tag.quinto=<tag.sexto>
tag.quinto2=<tag.sexto2>
tag.sexto=<src.name>
tag.sexto2=<src.tag.aposto>
elseif (STRCMP("<tag.sexto>","<src.name>")==0)
tag.sexto=<src.name>
tag.sexto2=<src.tag.aposto>
elseif (STRCMP("<tag.septimo>","<src.name>")==0)
tag.septimo=<tag.sexto>
tag.septimo2=<tag.sexto2>
tag.sexto=<src.name>
tag.sexto2=<src.tag.aposto>
elseif (STRCMP("<tag.octavo>","<src.name>")==0)
tag.octavo=<tag.septimo>
tag.octavo2=<tag.septimo2>
tag.septimo=<tag.sexto>
tag.septimo2=<tag.sexto2>
tag.sexto=<src.name>
tag.sexto2=<src.tag.aposto>
elseif (STRCMP("<tag.noveno>","<src.name>")==0)
tag.noveno=<tag.octavo>
tag.noveno2=<tag.octavo2>
tag.octavo=<tag.septimo>
tag.octavo2=<tag.septimo2>
tag.septimo=<tag.sexto>
tag.septimo2=<tag.sexto2>
tag.sexto=<src.name>
tag.sexto2=<src.tag.aposto>
else
tag.decimo=<tag.noveno>
tag.decimo2=<tag.noveno2>
tag.noveno=<tag.octavo>
tag.noveno2=<tag.octavo2>
tag.octavo=<tag.septimo>
tag.octavo2=<tag.septimo2>
tag.septimo=<tag.sexto>
tag.septimo2=<tag.sexto2>
tag.sexto=<src.name>
tag.sexto2=<src.tag.aposto>
endif


elseif (<eval <src.tag.aposto>>>=<eval <tag.septimo2>> )
if (STRCMP("<tag.primero>","<src.name>")==0)
tag.primero=<tag.segundo>
tag.primero2=<tag.segundo2>
tag.segundo=<tag.tercero>
tag.segundo2=<tag.tercero2>
tag.tercero=<tag.cuarto>
tag.tercero2=<tag.cuarto2>
tag.cuarto=<tag.quinto>
tag.cuarto2=<tag.quinto2>
tag.quinto=<tag.sexto>
tag.quinto2=<tag.sexto2>
tag.sexto=<tag.septimo>
tag.sexto2=<tag.septimo2>
tag.septimo=<src.name>
tag.septimo=<src.tag.aposto>
elseif (STRCMP("<tag.segundo>","<src.name>")==0)
tag.segundo=<tag.tercero>
tag.segundo2=<tag.tercero2>
tag.tercero=<tag.cuarto>
tag.tercero2=<tag.cuarto2>
tag.cuarto=<tag.quinto>
tag.cuarto2=<tag.quinto2>
tag.quinto=<tag.sexto>
tag.quinto2=<tag.sexto2>
tag.sexto=<tag.septimo>
tag.sexto2=<tag.septimo2>
tag.septimo=<src.name>
tag.septimo=<src.tag.aposto>
elseif (STRCMP("<tag.tercero>","<src.name>")==0)
tag.tercero=<tag.cuarto>
tag.tercero2=<tag.cuarto2>
tag.cuarto=<tag.quinto>
tag.cuarto2=<tag.quinto2>
tag.quinto=<tag.sexto>
tag.quinto2=<tag.sexto2>
tag.sexto=<tag.septimo>
tag.sexto2=<tag.septimo2>
tag.septimo=<src.name>
tag.septimo=<src.tag.aposto>
elseif (STRCMP("<tag.cuarto>","<src.name>")==0)
tag.cuarto=<tag.quinto>
tag.cuarto2=<tag.quinto2>
tag.quinto=<tag.sexto>
tag.quinto2=<tag.sexto2>
tag.sexto=<tag.septimo>
tag.sexto2=<tag.septimo2>
tag.septimo=<src.name>
tag.septimo=<src.tag.aposto>
elseif (STRCMP("<tag.quinto>","<src.name>")==0)
tag.quinto=<tag.sexto>
tag.quinto2=<tag.sexto2>
tag.sexto=<tag.septimo>
tag.sexto2=<tag.septimo2>
tag.septimo=<src.name>
tag.septimo=<src.tag.aposto>
elseif (STRCMP("<tag.sexto>","<src.name>")==0)
tag.sexto=<tag.septimo>
tag.sexto2=<tag.septimo2>
tag.septimo=<src.name>
tag.septimo=<src.tag.aposto>
elseif (STRCMP("<tag.septimo>","<src.name>")==0)
tag.septimo=<src.name>
tag.septimo2=<src.tag.aposto>
elseif (STRCMP("<tag.octavo>","<src.name>")==0)
tag.octavo=<tag.septimo>
tag.octavo2=<tag.septimo2>
tag.septimo=<src.name>
tag.septimo2=<src.tag.aposto>
elseif (STRCMP("<tag.noveno>","<src.name>")==0)
tag.noveno=<tag.octavo>
tag.noveno2=<tag.octavo2>
tag.octavo=<tag.septimo>
tag.octavo2=<tag.septimo2>
tag.septimo=<src.name>
tag.septimo2=<src.tag.aposto>
else
tag.decimo=<tag.noveno>
tag.decimo2=<tag.noveno2>
tag.noveno=<tag.octavo>
tag.noveno2=<tag.octavo2>
tag.octavo=<tag.septimo>
tag.octavo2=<tag.septimo2>
tag.septimo=<src.name>
tag.septimo2=<src.tag.aposto>
endif



elseif (<eval <src.tag.aposto>>>=<eval <tag.octavo2>> )
if (STRCMP("<tag.primero>","<src.name>")==0)
tag.primero=<tag.segundo>
tag.primero2=<tag.segundo2>
tag.segundo=<tag.tercero>
tag.segundo2=<tag.tercero2>
tag.tercero=<tag.cuarto>
tag.tercero2=<tag.cuarto2>
tag.cuarto=<tag.quinto>
tag.cuarto2=<tag.quinto2>
tag.quinto=<tag.sexto>
tag.quinto2=<tag.sexto2>
tag.sexto=<tag.septimo>
tag.sexto2=<tag.septimo2>
tag.septimo=<tag.octavo>
tag.septimo2=<tag.octavo2>
tag.octavo=<src.name>
tag.octavo=<src.tag.aposto>
elseif (STRCMP("<tag.segundo>","<src.name>")==0)
tag.segundo=<tag.tercero>
tag.segundo2=<tag.tercero2>
tag.tercero=<tag.cuarto>
tag.tercero2=<tag.cuarto2>
tag.cuarto=<tag.quinto>
tag.cuarto2=<tag.quinto2>
tag.quinto=<tag.sexto>
tag.quinto2=<tag.sexto2>
tag.sexto=<tag.septimo>
tag.sexto2=<tag.septimo2>
tag.septimo=<tag.octavo>
tag.septimo2=<tag.octavo2>
tag.octavo=<src.name>
tag.octavo=<src.tag.aposto>
elseif (STRCMP("<tag.tercero>","<src.name>")==0)
tag.tercero=<tag.cuarto>
tag.tercero2=<tag.cuarto2>
tag.cuarto=<tag.quinto>
tag.cuarto2=<tag.quinto2>
tag.quinto=<tag.sexto>
tag.quinto2=<tag.sexto2>
tag.sexto=<tag.septimo>
tag.sexto2=<tag.septimo2>
tag.septimo=<tag.octavo>
tag.septimo2=<tag.octavo2>
tag.octavo=<src.name>
tag.octavo=<src.tag.aposto>
elseif (STRCMP("<tag.cuarto>","<src.name>")==0)
tag.cuarto=<tag.quinto>
tag.cuarto2=<tag.quinto2>
tag.quinto=<tag.sexto>
tag.quinto2=<tag.sexto2>
tag.sexto=<tag.septimo>
tag.sexto2=<tag.septimo2>
tag.septimo=<tag.octavo>
tag.septimo2=<tag.octavo2>
tag.octavo=<src.name>
tag.octavo=<src.tag.aposto>
elseif (STRCMP("<tag.quinto>","<src.name>")==0)
tag.quinto=<tag.sexto>
tag.quinto2=<tag.sexto2>
tag.sexto=<tag.septimo>
tag.sexto2=<tag.septimo2>
tag.septimo=<tag.octavo>
tag.septimo2=<tag.octavo2>
tag.octavo=<src.name>
tag.octavo=<src.tag.aposto>
elseif (STRCMP("<tag.sexto>","<src.name>")==0)
tag.sexto=<tag.septimo>
tag.sexto2=<tag.septimo2>
tag.septimo=<tag.octavo>
tag.septimo2=<tag.octavo2>
tag.octavo=<src.name>
tag.octavo=<src.tag.aposto>
elseif (STRCMP("<tag.septimo>","<src.name>")==0)
tag.septimo=<tag.octavo>
tag.septimo2=<tag.octavo2>
tag.octavo=<src.name>
tag.octavo=<src.tag.aposto>
elseif (STRCMP("<tag.octavo>","<src.name>")==0)
tag.octavo=<src.name>
tag.octavo2=<src.tag.aposto>
elseif (STRCMP("<tag.noveno>","<src.name>")==0)
tag.noveno=<tag.octavo>
tag.noveno2=<tag.octavo2>
tag.octavo=<src.name>
tag.octavo2=<src.tag.aposto>
else
tag.decimo=<tag.noveno>
tag.decimo2=<tag.noveno2>
tag.noveno=<tag.octavo>
tag.noveno2=<tag.octavo2>
tag.octavo=<src.name>
tag.octavo2=<src.tag.aposto>
endif


elseif (<eval <src.tag.aposto>>>=<eval <tag.noveno2>> )
if (STRCMP("<tag.primero>","<src.name>")==0)
tag.primero=<tag.segundo>
tag.primero2=<tag.segundo2>
tag.segundo=<tag.tercero>
tag.segundo2=<tag.tercero2>
tag.tercero=<tag.cuarto>
tag.tercero2=<tag.cuarto2>
tag.cuarto=<tag.quinto>
tag.cuarto2=<tag.quinto2>
tag.quinto=<tag.sexto>
tag.quinto2=<tag.sexto2>
tag.sexto=<tag.septimo>
tag.sexto2=<tag.septimo2>
tag.septimo=<tag.octavo>
tag.septimo2=<tag.octavo2>
tag.octavo=<tag.noveno>
tag.octavo2=<tag.noveno2>
tag.noveno=<src.name>
tag.noveno=<src.tag.aposto>
elseif (STRCMP("<tag.segundo>","<src.name>")==0)
tag.segundo=<tag.tercero>
tag.segundo2=<tag.tercero2>
tag.tercero=<tag.cuarto>
tag.tercero2=<tag.cuarto2>
tag.cuarto=<tag.quinto>
tag.cuarto2=<tag.quinto2>
tag.quinto=<tag.sexto>
tag.quinto2=<tag.sexto2>
tag.sexto=<tag.septimo>
tag.sexto2=<tag.septimo2>
tag.septimo=<tag.octavo>
tag.septimo2=<tag.octavo2>
tag.octavo=<tag.noveno>
tag.octavo2=<tag.noveno2>
tag.noveno=<src.name>
tag.noveno=<src.tag.aposto>
elseif (STRCMP("<tag.tercero>","<src.name>")==0)
tag.tercero=<tag.cuarto>
tag.tercero2=<tag.cuarto2>
tag.cuarto=<tag.quinto>
tag.cuarto2=<tag.quinto2>
tag.quinto=<tag.sexto>
tag.quinto2=<tag.sexto2>
tag.sexto=<tag.septimo>
tag.sexto2=<tag.septimo2>
tag.septimo=<tag.octavo>
tag.septimo2=<tag.octavo2>
tag.octavo=<tag.noveno>
tag.octavo2=<tag.noveno2>
tag.noveno=<src.name>
tag.noveno=<src.tag.aposto>
elseif (STRCMP("<tag.cuarto>","<src.name>")==0)
tag.cuarto=<tag.quinto>
tag.cuarto2=<tag.quinto2>
tag.quinto=<tag.sexto>
tag.quinto2=<tag.sexto2>
tag.sexto=<tag.septimo>
tag.sexto2=<tag.septimo2>
tag.septimo=<tag.octavo>
tag.septimo2=<tag.octavo2>
tag.octavo=<tag.noveno>
tag.octavo2=<tag.noveno2>
tag.noveno=<src.name>
tag.noveno=<src.tag.aposto>
elseif (STRCMP("<tag.quinto>","<src.name>")==0)
tag.quinto=<tag.sexto>
tag.quinto2=<tag.sexto2>
tag.sexto=<tag.septimo>
tag.sexto2=<tag.septimo2>
tag.septimo=<tag.octavo>
tag.septimo2=<tag.octavo2>
tag.octavo=<tag.noveno>
tag.octavo2=<tag.noveno2>
tag.noveno=<src.name>
tag.noveno=<src.tag.aposto>
elseif (STRCMP("<tag.sexto>","<src.name>")==0)
tag.sexto=<tag.septimo>
tag.sexto2=<tag.septimo2>
tag.septimo=<tag.octavo>
tag.septimo2=<tag.octavo2>
tag.octavo=<tag.noveno>
tag.octavo2=<tag.noveno2>
tag.noveno=<src.name>
tag.noveno=<src.tag.aposto>
elseif (STRCMP("<tag.septimo>","<src.name>")==0)
tag.septimo=<tag.octavo>
tag.septimo2=<tag.octavo2>
tag.octavo=<tag.noveno>
tag.octavo2=<tag.noveno2>
tag.noveno=<src.name>
tag.noveno=<src.tag.aposto>
elseif (STRCMP("<tag.octavo>","<src.name>")==0)
tag.octavo=<tag.noveno>
tag.octavo2=<tag.noveno2>
tag.noveno=<src.name>
tag.noveno=<src.tag.aposto>
elseif (STRCMP("<tag.noveno>","<src.name>")==0)
tag.noveno=<src.name>
tag.noveno2=<src.tag.aposto>
else
tag.decimo=<tag.noveno>
tag.decimo2=<tag.noveno2>
tag.noveno=<src.name>
tag.noveno2=<src.tag.aposto>
endif


elseif (<eval <src.tag.aposto>>>=<eval <tag.decimo2>> )
tag.decimo=<src.name>
tag.decimo2=<src.tag.aposto>
endif

DIALOG d_apostadores

return 1

[DIALOG d_apostadores]
100,50
nomove
nodispose
page 0
resizepic 0 0 3600 465 400
text 20 40 0835 0
text 20 60 0835 1
text 20 80 0835 2
text 20 100 0835 3
text 20 120 0835 4
text 20 140 0835 5
text 20 160 0835 6
text 20 180 0835 7
text 20 200 0835 8
text 20 220 0835 9
text 20 280 032 10
text 20 300 032 11
text 140 365 098 12
text 110 15 098 13




[DIALOG d_apostadores TEXT]                      
1. <tag.primero> - Aposto <eval <tag.primero2>> veces.
2. <tag.segundo> - Aposto <eval <tag.segundo2>> veces.
3. <tag.tercero> - Aposto <eval <tag.tercero2>> veces.
4. <tag.cuarto> - Aposto <eval <tag.cuarto2>> veces.
5. <tag.quinto> - Aposto <eval <tag.quinto2>> veces.
6. <tag.sexto> - Aposto <eval <tag.sexto2>> veces.
7. <tag.septimo> - Aposto <eval <tag.septimo2>> veces.
8. <tag.octavo> - Aposto <eval <tag.octavo2>> veces.
9. <tag.noveno> - Aposto <eval <tag.noveno2>> veces.
10. <tag.decimo> - Aposto <eval <tag.decimo2>> veces.
En este tablero solo figuran los nombres de
los personajes que accedieron al mismo.
Venganza Medieval
Ranking de Apostadores de VM

[DIALOG d_apostadores BUTTON] 
ONBUTTON=0










































[EVENTS e_anatomy]
ON = @GetHit
if ( 0 )
elseif ( <SRC.ANATOMY> < 80.0 )
VAR.DAM = 0
elseif ( <SRC.ANATOMY> < 90.0 ) // 5% bonus from 70 to 80
VAR.DAM = <eval ((<argn> * 5) / 100)>
elseif ( <SRC.ANATOMY> < 100.0 ) // 10% bonus from 80 to 90
VAR.DAM = <eval ((<argn> * 10) / 100)>
else // 20% bonus at 100
VAR.DAM = <eval ((<argn> * 20) / 100)>
endif

if ( 0 )
elseif (<SRC.armslore> < 80.0)
VAR.DAM2 = 0
elseif (<SRC.ARMSLORE> < 90.0)
VAR.DAM2 = <EVAL ((<argn>*5)/100)>
elseif (<SRC.ARMSLORE> < 100.0)
VAR.DAM2 = <EVAL ((<argn>*10)/100)>
else
VAR.DAM2 = <EVAL ((<argn>*20)/100)>
endif

VAR.DAM3=(<VAR.DAM>+<VAR.DAM2> )
EVENTS -e_anatomy // stop recursion
DAMAGE <VAR.DAM3> // apply new damage
EVENTS +e_anatomy // reassign event
return 0 // don't cancel original damage





































[ITEMDEF i_stone_Race] 
DEFNAME=i_stone_Race 
ID=0edc 
NAME=Monument of the Races 
WEIGHT=0 

CATEGORY=Unique Items 
SUBSECTION=GM Tools 
DESCRIPTION=Race Monument 

ON=@Create 
COLOR=06cf 
ATTR=014 

ON=@DCLICK 
SRC.SFX 555 
DIALOG d_Race_List 
RETURN 1 


[DIALOG d_Race_List] 
0,0 
resizepic 0 0 2600 500 400 
gumppic 180 120 1418 
page 0 
text 55 17 1157 0 
text 145 37 904 1 
text 145 57 904 2 
text 145 77 904 3 
text 145 107 32 4 
text 145 127 904 5 
text 145 147 904 6 
text 55 37 1152 7 
text 55 57 1152 8 
text 55 77 1152 9 
text 55 97 1152 10 
text 55 117 1152 11 
text 55 137 1152 12 
text 55 157 1152 13 
text 55 177 1152 14 
text 55 197 1152 15 
text 55 217 1152 16 
text 55 237 1152 17 
text 55 257 1152 18 
button 35 40 1209 1210 1 0 1 
button 35 60 1209 1210 1 0 2 
button 35 80 1209 1210 1 0 3 
button 35 100 1209 1210 1 0 4 
button 35 120 1209 1210 1 0 5 
button 35 140 1209 1210 1 0 6 
button 35 160 1209 1210 1 0 7 
button 35 180 1209 1210 1 0 8 
button 35 200 1209 1210 1 0 9 
button 35 220 1209 1210 1 0 10 
button 35 240 1209 1210 1 0 11 
button 35 260 1209 1210 1 0 12 

[DIALOG d_Race_List TEXT] 
Races of the Land 
Here shall ye select the Race of whom ye 
call Your People in this world. On these 
pages of stone willst thee learn and choose. 
Thine oath is thine bond! 
Once borne ye canst not 
revoke thy kinship. 
Barbarian 
Drow 
Duergar 
Dwarf 
Elf 
Halfelf 
Halforc 
Human 
Shapeshifter 
Vampire 
Warlock 
Werven 

[DIALOG d_Race_List BUTTON] 
ONBUTTON=0 
SRC.SYSMESSAGE=Go then, and return when ready 
ONBUTTON=1 
DIALOG d_race_Barbarian 
ONBUTTON=2 
DIALOG d_race_Drow 
ONBUTTON=3 
DIALOG d_race_Duergar 
ONBUTTON=4 
DIALOG d_race_Dwarf 
ONBUTTON=5 
DIALOG d_race_Elf 
ONBUTTON=6 
DIALOG d_race_Halfelf 
ONBUTTON=7 
DIALOG d_race_Halforc 
ONBUTTON=8 
DIALOG d_race_Human 
ONBUTTON=9 
DIALOG d_race_Shapeshifter 
ONBUTTON=10 
DIALOG d_race_Vampire 
ONBUTTON=11 
DIALOG d_race_Warlock 
ONBUTTON=12 
DIALOG d_race_Werven 


[DIALOG d_Race_Barbarian] 
0,0 
resizepic 0 0 3600 525 560 
text 25 20 1152 0 
text 25 50 81 1 
text 25 70 81 2 
text 25 90 81 3 
text 25 110 81 4 
text 25 130 81 5 
text 25 150 81 6 
text 25 170 81 7 
text 25 190 81 8 
text 25 210 81 9 
text 25 230 81 10 
text 25 250 81 11 
text 25 270 81 12 
text 25 290 81 13 
button 40 490 92 52 1 0 1 
text 90 490 1152 14 
button 455 500 2076 2075 1 0 2 
text 340 505 81 15 

[DIALOG d_Race_Barbarian TEXT] 
-=* The Barbarian *=- 
Barbarians are natives of the desert. They are primarily miners, 
jewelers & leather tailorers, while making for very excellent 
melee fighters, archers, and scouts. They have no strong arcane 
arts beyond a few specialty alchemy potions their race has 
developed. They have been known to enter into fanatical Beserker 
rages when in melee, and have developed the ability to use 
archery at point blank range. 
-=*=- 
Though a hardy race these barbarians suffer reduced stamina in 
cold weather or when deep underground. They have developed 
specialty heavy and light armors which are harvested from 
Desert Sources. Only Barbarians can work Ankheg chitin into 
high quality armor and weapons. 
"I wish to be a Barbarian!" 
Return to List 

[DIALOG d_Race_Barbarian BUTTON] 
ONBUTTON=0 
SRC.SYSMESSAGE=Go then, and return when ready 
RETURN 1 
ONBUTTON=1 
SRC.f_RACE_INITIALIZE_Barbarian 
SRC.SYSMESSAGE=*POOF* Yer a Barbarian 
RETURN 1 
ONBUTTON=2 
DIALOG d_Race_List 
RETURN 1 


[DIALOG d_Race_Drow] 
0,0 
resizepic 0 0 3600 525 560 
text 25 20 1152 0 
text 25 50 81 1 
text 25 70 81 2 
text 25 90 81 3 
text 25 110 81 4 
text 25 130 81 5 
text 25 150 81 6 
text 25 170 81 7 
text 25 190 81 8 
text 25 210 81 9 
text 25 230 81 10 
text 25 250 81 11 
text 25 270 81 12 
text 25 290 81 13 
text 25 310 81 14 
text 25 330 81 15 
text 25 350 81 16 
text 25 370 81 17 
text 25 390 81 18 
text 25 410 81 19 
text 25 430 81 20 
button 40 490 92 52 1 0 1 
text 90 490 1152 21 
button 455 500 2076 2075 1 0 2 
text 340 505 81 22 

[DIALOG d_Race_Drow TEXT] 
-=* The Drow *=- 
Incorrectly referred to as "Dark Elves", Drow are a corrupted 
species brought into being by a series of unfortunate events early 
in the world's history. Drow epitomize Pure Chaos and are often 
wrongly accused of being evil, not that they care what others think 
about them anyway. Drow believe that only warfare and murder lead 
to a strong people so petty or tedious "evil" only inspires their 
contempt. To Drow there exists no greater pleasure than killing 
Elfkind, preferably slowly and painfully. 
-=*=- 
Drow make for some of the best fighters and battle mages found in 
the lands. Their evolution in the dark warrens and tunnels under 
ground mean Drow tend to be disdainful of poleArms since such 
weapons are unsuitable in these areas. But in all the other battle 
arts few races compete as strongly as Drow. 
-=*=- 
Their sole focus on superiority through battle makes the Drow poor 
candidates for anything not involving conflict. But since their 
belief is that weak races do not deserve comfort a good Drow 
usually knows where to find what she needs. Only Drow can work 
Blackrock metal into high quality armor and weapons. 
"I wish to be a Drow!" 
Return to List 

[DIALOG d_Race_Drow BUTTON] 
ONBUTTON=0 
SRC.SYSMESSAGE=Go then, and return when ready 
RETURN 1 
ONBUTTON=1 
SRC.f_RACE_INITIALIZE_Drow 
SRC.SYSMESSAGE=*POOF* Yer a Drow 
RETURN 1 
ONBUTTON=2 
DIALOG d_Race_List 
RETURN 1 


[DIALOG d_Race_Duergar] 
0,0 
resizepic 0 0 3600 525 560 
text 25 20 1152 0 
text 25 50 81 1 
text 25 70 81 2 
text 25 90 81 3 
text 25 110 81 4 
text 25 130 81 5 
text 25 150 81 6 
text 25 170 81 7 
text 25 190 81 8 
text 25 210 81 9 
text 25 230 81 10 
text 25 250 81 11 
text 25 270 81 12 
text 25 290 81 13 
text 25 310 81 14 
text 25 330 81 15 
text 25 350 81 16 
text 25 370 81 17 
text 25 390 81 18 
text 25 410 81 19 
text 25 430 81 20 
button 40 490 92 52 1 0 1 
text 90 490 1152 21 
button 455 500 2076 2075 1 0 2 
text 340 505 81 22 

[DIALOG d_Race_Duergar TEXT] 
-=* The Duergar *=- 
The Duergar have a relationship with the Dwarves which is very 
similiar to that of the Drow to the Elves. They were once normal 
dwarves who turned to the worship of evil gods, and so were 
driven out of the Dwarven Kingdoms. They hold great hatred for 
dwarves and also most of the good races, but as the dwarves 
outnumber them Duergar are forced to seek out places of refuge 
hidden deep within the caverns in order to escape the dwarves 
reach. 
-=*=- 
Due to this Duergar have lessened skills regarding things of nature 
for they rarely if ever see the light of die. They have become so 
accustomed to the darkness that the mere presence of light causes 
their eyes great pain. They have however, developed the ability to 
see quite well even in the darkest of places, as well as having 
become effecient at hiding, detecting hidden things within the 
depths of these caverns along with their already enhanced melee 
abilities, and great crafting skills. Duergar and Drow have been 
known to ally together to more efficiently fight the forces of good. 
Only Duergar can work Valorite metal into high quality armor 
and weapons. 
"I wish to be a Duergar!" 
Return to List 

[DIALOG d_Race_Duergar BUTTON] 
ONBUTTON=0 
SRC.SYSMESSAGE=Go then, and return when ready 
RETURN 1 
ONBUTTON=1 
SRC.f_RACE_INITIALIZE_Duergar 
SRC.SYSMESSAGE=*POOF* Yer a Duergar 
RETURN 1 
ONBUTTON=2 
DIALOG d_Race_List 
RETURN 1 


[DIALOG d_Race_Dwarf] 
0,0 
resizepic 0 0 3600 525 560 
text 25 20 1152 0 
text 25 40 81 1 
text 25 60 81 2 
text 25 80 81 3 
text 25 100 81 4 
text 25 120 81 5 
text 25 140 81 6 
text 25 160 81 7 
text 25 180 81 8 
text 25 200 81 9 
text 25 220 81 10 
text 25 240 81 11 
text 25 260 81 12 
text 25 280 81 13 
text 25 300 81 14 
text 25 320 81 15 
text 25 340 81 16 
text 25 360 81 17 
text 25 380 81 18 
text 25 400 81 19 
text 25 420 81 20 
text 25 440 81 21 
text 25 460 81 22 
text 25 480 81 23 
button 40 510 92 52 1 0 1 
text 90 510 1152 24 
button 455 520 2076 2075 1 0 2 
text 340 525 81 25 

[DIALOG d_Race_Dwarf TEXT] 
-=* The Dwarf *=- 
Dwarves are as laidback and yet conservative as the very stones of 
which they evolved. These are a long-lived people and it is hard to 
find a race as stout and hardy as they. The Dwarf tends to respect 
all things Good, but their sense of fairness means they are Lawful 
only when Good itself is served. That said they are no great lovers 
of Chaos either as it violates their conservative sense of peaceful 
stability and order. 
-=*=- 
At the same time few other races delight in battles of principle as 
much as Dwarves. Their incredible strength and appreciable wisdom 
makes them formidable fighters, especially when wielding their 
beloved hammers or axes. Dwarves are perhaps the ultimate crafters, 
and even their least craftskill matches the best of the other races. 
Their strong senses of perception combined with their conservative 
nature and love for quality work makes them impressive traders 
and merchants. 
-=*=- 
Dwarves, perhaps because of their rocklike wisdom and conservative 
nature, tend to be highly mistrustful of magic. That said while 
they lack any real love for the arcane they have no fear of it 
either, and Dwarven clerics and mages have left their mark in the 
history of the lands. Only Dwarves can work Mytheril metal into 
high quality armor and weapons. 
"I wish to be a Dwarf!" 
Return to List 

[DIALOG d_Race_Dwarf BUTTON] 
ONBUTTON=0 
SRC.SYSMESSAGE=Go then, and return when ready 
RETURN 1 
ONBUTTON=1 
SRC.f_RACE_INITIALIZE_Dwarf 
SRC.SYSMESSAGE=*POOF* Yer a Dwarf 
RETURN 1 
ONBUTTON=2 
DIALOG d_Race_List 
RETURN 1 


[DIALOG d_Race_Elf] 
0,0 
resizepic 0 0 3600 525 560 
text 25 20 1152 0 
text 25 40 81 1 
text 25 60 81 2 
text 25 80 81 3 
text 25 100 81 4 
text 25 120 81 5 
text 25 140 81 6 
text 25 160 81 7 
text 25 180 81 8 
text 25 200 81 9 
text 25 220 81 10 
text 25 240 81 11 
text 25 260 81 12 
text 25 280 81 13 
text 25 300 81 14 
text 25 320 81 15 
text 25 340 81 16 
text 25 360 81 17 
text 25 380 81 18 
button 40 490 92 52 1 0 1 
text 90 490 1152 19 
button 455 520 2076 2075 1 0 2 
text 340 525 81 20 

[DIALOG d_Race_Elf TEXT] 
-=* The Elf *=- 
Elves epitomize Good and Lawfulness. They are graceful and 
extremely dextrous. Though neither would admit to it Elves are the 
parent people to the Drow and so one can define an Elf by saying 
they are everything a Drow is not. Most of the other races respect 
Elves tremendously, but they are perceived as haughty and perhaps 
a little too proud. 
-=*=- 
Elves have a tremendous affinity for nature, and given that they 
are basically plants themselves it is no great surprise that few 
races make better artisans than an Elf. Their impressive dexterity 
and keen senses of perception make them natural archers. Despite 
their lack of genuine empathy towards other beings Elves in fact 
tend to be fiercely protective of the all things green and fuzzy. 
-=*=- 
Combine all these attributes with a fine intelligence and one 
understands why Elves often make for superior workers of most 
arcane arts. Only Elves can work Verite metal into high quality 
armor and weapons. 
"I wish to be an Elf!" 
Return to List 

[DIALOG d_Race_Elf BUTTON] 
ONBUTTON=0 
SRC.SYSMESSAGE=Go then, and return when ready 
RETURN 1 
ONBUTTON=1 
SRC.f_RACE_INITIALIZE_Elf 
SRC.SYSMESSAGE=*POOF* Yer an Elf 
RETURN 1 
ONBUTTON=2 
DIALOG d_Race_List 
RETURN 1 


[DIALOG d_Race_Halfelf] 
0,0 
resizepic 0 0 3600 525 560 
text 25 20 1152 0 
text 25 40 81 1 
text 25 60 81 2 
text 25 80 81 3 
text 25 100 81 4 
text 25 120 81 5 
text 25 140 81 6 
text 25 160 81 7 
text 25 180 81 8 
text 25 200 81 9 
text 25 220 81 10 
text 25 240 81 11 
text 25 260 81 12 
text 25 280 81 13 
button 40 490 92 52 1 0 1 
text 90 490 1152 14 
button 455 520 2076 2075 1 0 2 
text 340 525 81 15 

[DIALOG d_Race_Halfelf TEXT] 
-=* The Halfelf *=- 
Halfelves are the decendants of both human and elven parents. 
Having been born with many of the qualities and features of both, 
Halfelves tend to enjoy the company of both civilizations though 
they often form towns of their own, enjoying the company of those 
like themselves the most. 
-=*=- 
Halfelves are also known to be great adventurers and to keep a 
wide variation of company, though usually preferring the company 
of neutral or good aligned companions. Halfelves are truly blessed 
having many of both races better qualities, from the humans well 
rounded abilities to some of the elven races abilities such as keen 
eyesight, ability with bow and affinity for nature. Only Halfelves 
can work Rust metal into high quality armor and weapons. 
"I wish to be a Halfelf!" 
Return to List 

[DIALOG d_Race_Halfelf BUTTON] 
ONBUTTON=0 
SRC.SYSMESSAGE=Go then, and return when ready 
RETURN 1 
ONBUTTON=1 
SRC.f_RACE_INITIALIZE_Halfelf 
SRC.SYSMESSAGE=*POOF* Yer a Halfelf 
RETURN 1 
ONBUTTON=2 
DIALOG d_Race_List 
RETURN 1 


[DIALOG d_Race_Halforc] 
0,0 
resizepic 0 0 3600 525 560 
text 25 20 1152 0 
text 25 40 81 1 
text 25 60 81 2 
text 25 80 81 3 
text 25 100 81 4 
text 25 120 81 5 
text 25 140 81 6 
text 25 160 81 7 
text 25 180 81 8 
text 25 200 81 9 
text 25 220 81 10 
text 25 240 81 11 
text 25 260 81 12 
text 25 280 81 13 
text 25 300 81 14 
text 25 320 81 15 
text 25 340 81 16 
text 25 360 81 17 
text 25 380 81 18 
text 25 400 81 19 
text 25 420 81 20 
button 40 490 92 52 1 0 1 
text 90 490 1152 21 
button 455 520 2076 2075 1 0 2 
text 340 525 81 22 

[DIALOG d_Race_Halforc TEXT] 
-=* The Halforc *=- 
Halforcs are a corrupted species, brought into being by a series 
of unfortunate events early in the world's history. Their orcish 
nature makes them wildly impetuous and unpredictable, yet their 
human side makes them rakish and fun to be with. If you like 
wild parties where all the crockery gets broken and everyone 
drinks too much! 
-=*=- 
These are an incredibly strong and fast people. This makes 
Halforcs the ultimate wielders of pole Arms and in fact their 
culture has "evolved" to where only these types of weapons are 
respected. Halforcs also have the impressive ability to get under 
any race's skin, even the most laidback Treant, and are often 
found in raucous barfights started just because of something they 
said or the drum they beat too late into the night. 
-=*=- 
Halforcs excel at common thievery and are always good to have at 
your back in a fight or in a barroom brawl for that matter. On the 
other hand they lack any real talent for the arcane but can get 
by in some areas. Only Halforcs can work Dull Copper metal into 
high quality armor and weapons. 
"I wish to be a Halforc!" 
Return to List 

[DIALOG d_Race_Halforc BUTTON] 
ONBUTTON=0 
SRC.SYSMESSAGE=Go then, and return when ready 
RETURN 1 
ONBUTTON=1 
SRC.f_RACE_INITIALIZE_Halforc 
SRC.SYSMESSAGE=*POOF* Yer a Halforc 
RETURN 1 
ONBUTTON=2 
DIALOG d_Race_List 
RETURN 1 


[DIALOG d_Race_Human] 
0,0 
resizepic 0 0 3600 525 560 
text 25 20 1152 0 
text 25 40 81 1 
text 25 60 81 2 
text 25 80 81 3 
text 25 100 81 4 
text 25 120 81 5 
text 25 140 81 6 
text 25 160 81 7 
text 25 180 81 8 
text 25 200 81 9 
text 25 220 81 10 
text 25 240 81 11 
text 25 260 81 12 
text 25 280 81 13 
text 25 300 81 14 
text 25 320 81 15 
text 25 340 81 16 
text 25 360 81 17 
text 25 380 81 18 
text 25 400 81 19 
text 25 420 81 20 
text 25 440 81 21 
text 25 460 81 22 
button 40 490 92 52 1 0 1 
text 90 490 1152 23 
button 455 520 2076 2075 1 0 2 
text 340 525 81 24 

[DIALOG d_Race_Human TEXT] 
-=* The Human *=- 
Latecomers to an ancient world Humans are a race that are 
tolerated and even looked upon fondly by the older peoples who 
preceded them. Their main strengths are incredible flexibility 
and an impressive amount of what can only be described as plain 
dumb luck. Even their enemies agree that the phrase "someone 
up there just likes me" was invented for this short-lived if 
sometimes short-sighted race. 
-=*=- 
Humans don't live long enough to hone their skills and their stats 
as highly as the more long-lived other races. Not even the most 
accomplished Human compares to a specialist of another race. 
But on the other hand Humans can master any skill to a maximum 
of Master within the limits of the overall skill cap, and they 
learn skills much much faster. 
-=*=- 
These traits, combined with their breathtaking bursts of Dumb 
Luck in otherwise suicidal situations, make Humans the ultimate 
jacks of all trades that others disrespect at their peril. However 
due to their inability to master any skill completely they are 
often at odds to work in any one area alone instead preferring 
to generalize. Only Humans can work Iron metal into high quality 
armor and weapons. 
"I wish to be a Human!" 
Return to List 

[DIALOG d_Race_Human BUTTON] 
ONBUTTON=0 
SRC.SYSMESSAGE=Go then, and return when ready 
RETURN 1 
ONBUTTON=1 
SRC.f_RACE_INITIALIZE_Human 
SRC.SYSMESSAGE=*POOF* Yer a Human 
RETURN 1 
ONBUTTON=2 
DIALOG d_Race_List 
RETURN 1 


[DIALOG d_Race_Shapeshifter] 
0,0 
resizepic 0 0 3600 525 560 
text 25 20 1152 0 
text 25 40 81 1 
text 25 60 81 2 
text 25 80 81 3 
text 25 100 81 4 
text 25 120 81 5 
text 25 140 81 6 
text 25 160 81 7 
text 25 180 81 8 
text 25 200 81 9 
text 25 220 81 10 
text 25 240 81 11 
text 25 260 81 12 
text 25 280 81 13 
text 25 300 81 14 
text 25 320 81 15 
text 25 340 81 16 
text 25 360 81 17 
text 25 380 81 18 
text 25 400 81 19 
text 25 420 81 20 
button 40 490 92 52 1 0 1 
text 90 490 1152 21 
button 455 520 2076 2075 1 0 2 
text 340 525 81 22 

[DIALOG d_Race_Shapeshifter TEXT] 
-=* The Shapeshifter *=- 
Shapeshifters are a chameleon species that evolved a wide range of 
ways to hide from their enemies. Intelligence, mimicry and stealth, 
and an impressive affinity with the arcane were the abilities that 
evolution forced them to adopt in an often cruel and violent world. 
Shapeshifters have learned the hard way the value of striking that 
first lethal blow against an unforgiving enemy. 
-=*=- 
For brief periods Shapeshifters can assume the form of other 
creatures, and while in that form they assume most of the skills 
and abilities of that other being. However the Shapeshifter retains 
his own physically frail characteristics even while in this other 
form. The shapes they assume depend on their level of experience. 
-=*=- 
Shapeshifters are incredibly intelligent beings, more so than any 
other race, but lack strength and are easily tired. Their incredible 
abilities of perception make them excellent traders but 
unfortunately their sole evolutionary focus on survival skills 
combined with their lack of grace and strength makes them poor 
artisans. Only Shapeshifters can work Shadow metal into high 
quality armor and weapons. 
"I wish to be a Shapeshifter!" 
Return to List 

[DIALOG d_Race_Shapeshifter BUTTON] 
ONBUTTON=0 
SRC.SYSMESSAGE=Go then, and return when ready 
RETURN 1 
ONBUTTON=1 
SRC.f_RACE_INITIALIZE_Shapeshifter 
SRC.SYSMESSAGE=*POOF* Yer a Shapeshifter 
RETURN 1 
ONBUTTON=2 
DIALOG d_Race_List 
RETURN 1 


[DIALOG d_Race_Vampire] 
0,0 
resizepic 0 0 3600 525 560 
text 25 20 1152 0 
text 25 40 81 1 
text 25 60 81 2 
text 25 80 81 3 
text 25 100 81 4 
text 25 120 81 5 
text 25 140 81 6 
text 25 160 81 7 
text 25 180 81 8 
text 25 200 81 9 
text 25 220 81 10 
text 25 240 81 11 
text 25 260 81 12 
text 25 280 81 13 
text 25 300 81 14 
text 25 320 81 15 
text 25 340 81 16 
text 25 360 81 17 
text 25 380 81 18 
text 25 400 81 19 
text 25 420 81 20 
button 40 490 92 52 1 0 1 
text 90 490 1152 21 
button 455 520 2076 2075 1 0 2 
text 340 525 81 22 

[DIALOG d_Race_Vampire TEXT] 
-=* The Vampire *=- 
The Vampir are both a corrupted and evil people, brought into 
being by a series of unfortunate events early in the world's 
history. Vampires epitomize Pure Evil and view the other races as 
cattle to be at best harvested like wheat before the Vampire scythe. 
-=*=- 
They have the ability to summon other corrupted and evil dire 
creatures to do the dirty work of brute attack. Vampires are an 
incredibly strong and powerful people, and few of the other races 
can stand up to even a younger Vampire in an encounter in the 
dark. But when faced with the bright light of the day a Vampire's 
true nature is revealed and it becomes critically weakened. 
-=*=- 
Vampires have a supernatural ability to influence people and 
animals. Their bodies are incredibly tough and resistant to magical 
and mundane attack. Because of their devotion to dark places there 
are few other races that can remain unseen to them. Those same 
powers of perception and their bottomless love for wealth and fine 
culture make Vampires tough traders and tailors of great renown. 
Only Vampires can work Bloodrock metal into high quality armor 
and weapons. 
"I wish to be a Vampire!" 
Return to List 

[DIALOG d_Race_Vampire BUTTON] 
ONBUTTON=0 
SRC.SYSMESSAGE=Go then, and return when ready 
RETURN 1 
ONBUTTON=1 
SRC.f_RACE_INITIALIZE_Vampire 
SRC.SYSMESSAGE=*POOF* Yer a Vampire 
RETURN 1 
ONBUTTON=2 
DIALOG d_Race_List 
RETURN 1 


[DIALOG d_Race_Warlock] 
0,0 
resizepic 0 0 3600 525 560 
text 25 20 1152 0 
text 25 40 81 1 
text 25 60 81 2 
text 25 80 81 3 
text 25 100 81 4 
text 25 120 81 5 
text 25 140 81 6 
text 25 160 81 7 
text 25 180 81 8 
text 25 200 81 9 
text 25 220 81 10 
text 25 240 81 11 
text 25 260 81 12 
text 25 280 81 13 
button 40 490 92 52 1 0 1 
text 90 490 1152 14 
button 455 520 2076 2075 1 0 2 
text 340 525 81 15 

[DIALOG d_Race_Warlock TEXT] 
-=* The Warlock *=- 
Warlocks are the descendants of both human and daemon parents 
and because of which draw upon the skills and abilities of both. 
They have a natural ability with magic drawing from their daemon 
heritage, along with a love for chaos, destruction and evil. 
Unlike many they have the ability to simultaneously wear armor, 
wield weapons, and use magic. However, due to their demonic 
heritage their magic is limited to offensive spells and they 
have limited healing ability. 
-=*=- 
The Warlock is often found where ever there is a cause which 
may strengthen evil, bring it glory, or in any way impede, destroy 
or bring strife to the forces of good and order. Only Warlocks can 
work Steel metal into high quality armor and weapons. 
"I wish to be a Warlock!" 
Return to List 

[DIALOG d_Race_Warlock BUTTON] 
ONBUTTON=0 
SRC.SYSMESSAGE=Go then, and return when ready 
RETURN 1 
ONBUTTON=1 
SRC.f_RACE_INITIALIZE_Warlock 
SRC.SYSMESSAGE=*POOF* Yer a Warlock 
RETURN 1 
ONBUTTON=2 
DIALOG d_Race_List 
RETURN 1 


[DIALOG d_Race_Werven] 
0,0 
resizepic 0 0 3600 525 560 
text 25 20 1152 0 
text 25 40 81 1 
text 25 60 81 2 
text 25 80 81 3 
text 25 100 81 4 
text 25 120 81 5 
text 25 140 81 6 
text 25 160 81 7 
text 25 180 81 8 
text 25 200 81 9 
text 25 220 81 10 
text 25 240 81 11 
text 25 260 81 12 
text 25 280 81 13 
text 25 300 81 14 
text 25 320 81 15 
text 25 340 81 16 
text 25 360 81 17 
text 25 380 81 18 
button 40 490 92 52 1 0 1 
text 90 490 1152 19 
button 455 520 2076 2075 1 0 2 
text 340 525 81 20 

// xxxxxxxxxxxxxxxx text bar length xxxxxxxxxxxxxxxxxxxxxxxxxxxxx 
[DIALOG d_Race_Werven TEXT] 
-=* The Werven *=- 
Incorrectly referred to as "Werewolves", the Werven are both a 
corrupted and a unholy people, brought into being by a series of 
unfortunate events early in the world's history. Werven are a 
chaotic evil bunch who view the other races as meat animals, 
fun to stalk and meant to eat. 
-=*=- 
Werven have the ability to assume the shape of other corrupted 
were-creatures, and in fact it is this ability that has lead to 
the unfortunate name of "Werewolf" though in fact wolves are 
simply a preferred were-form. Their unnatural hardiness and 
strength resist all attacks both magical and mundane. In combat 
Werven have very few weaknesses. 
-=*=- 
The Werven's finely honed perception makes them the ultimate 
"cat burglar" and in fact the only thing they love more than 
stalking a tender Human is breaking into a guarded area and 
robbing precious loot from locked safes. Only Werven can work 
Bronze metal into high quality armor and weapons. 
"I wish to be a Werven!" 
Return to List 

[DIALOG d_Race_Werven BUTTON] 
ONBUTTON=0 
SRC.SYSMESSAGE=Go then, and return when ready 
RETURN 1 
ONBUTTON=1 
SRC.f_RACE_INITIALIZE_Werven 
SRC.SYSMESSAGE=*POOF* Yer a Werven 
RETURN 1 
ONBUTTON=2 
DIALOG d_Race_List 
RETURN 1 



































[ITEMDEF i_career_stone]
DEFNAME=i_career_stone
NAME=career stone
ID=01174
TYPE=T_NORMAL
CATEGORY=MADDAWG
SUBSECTION=Special Items
DESCRIPTION=Sareer Stone

ON=@CREATE
COLOR=00789

ON=@DCLICK
MENU M_CAREER_STONE

[MENU M_CAREER_STONE]
Choose a career you will be paid according to your choice.

ON=0 Blacksmith (paid by day) 6 hours online
IF <SRC.TAG.CAREER>=01
SRC.MESSAGE You can only choose a profesion once!
RETURN 0

ELSE
SRC.TAG.CAREER=01
SRC.SYSMESSAGE You are now a Blacksmith. Get to work!
SRC.NEWITEM=I_Career_Smith 
SRC.ACT.EQUIP
SRC.TITLE Blacksmith
RETURN 0
ENDIF

ON=0 Miner (paid by day) 6 hours online
IF <SRC.TAG.CAREER>=01
SRC.MESSAGE You can only choose a profesion once!
RETURN 0

ELSE
SRC.TAG.CAREER=01
SRC.SYSMESSAGE You are now a miner. Get to work!
SRC.NEWITEM=I_Career_Miner
SRC.ACT.EQUIP
SRC.TITLE Miner
RETURN 0
ENDIF

ON=0 Tailor (paid by day) 6 hours online
IF <SRC.TAG.CAREER>=01
SRC.MESSAGE You can only choose a profesion once!
RETURN 0

ELSE
SRC.SYSMESSAGE You are now a Tailor. Get to work!
SRC.TAG.CAREER=01
SRC.NEWITEM=I_Career_Tailor
SRC.ACT.EQUIP
SRC.TITLE Tailor
RETURN 0
ENDIF

ON=0 Assasin (paid by head) PKer

IF <SRC.TAG.ASSASIAN>=01
SRC.MESSAGE You can only choose a profesion once!
RETURN 0

ELSE
SRC.TAG.ASSASIAN=1
SRC.KILLS 0
SRC.TITLE Assasian
SRC.MESSAGE You are now an assasin. Go kill some players!
RETURN 0 
ENDIF

ON=0 Hunter (paid by monster head)
IF <SRC.TAG.HUNTER>=01
SRC.MESSAGE You can only choose a profesion once!
RETURN 0

ELSE
SRC.TAG.HUNTER=01
SRC.TITLE Hunter
SRC.NEWITEM=i_hunters_blade
src.act.bounce
SRC.MESSAGE You are now an Hunter. Go kill some monsters!
RETURN 0
ENDIF

ON=0 Undertaker (Grave Digger)
IF <SRC.TAG.CAREER>=01
SRC.MESSAGE You can only choose a profesion once!
RETURN 0

ELSE
SRC.SYSMESSAGE You are now a Undertaker. Go dig some graves!
SRC.TAG.CAREER=01
SRC.NEWITEM=I_grave_digger
SRC.ACT.BOUNCE
SRC.TITLE Undertaker
RETURN 0
ENDIF

//********************************************************************
//***********************getting paid scripts*************************
//********************************************************************

[ITEMDEF I_Career_Smith]
DEFNAME=i_career_smith
NAME=Pay Smith
ID=i_handr_1
TYPE=T_EQ_SCRIPT
WEIGHT=0
LAYER=layer_special

ON=@Create
color=0024
ATTR=attr_invis|attr_decay
MORE1=21000

ON=@Equip
TIMER=1
ON=@Timer
// Take the effect we would like.
if ( <cont> )
if ( <more1> )
more1=<more1>-1
TIMER=1
return 1
else
CONT.MENU M_PAY_SMITH
endif
endif
Remove
RETURN 1

[MENU M_PAY_SMITH]
It is time to get paid <SRC.NAME>, Check the box.
ON=0 Pay Me
SRC.NEWITEM I_GOLD
SRC.ACT.AMOUNT=1000
SRC.ACT.BOUNCE
SRC.SYSMESSAGE You have just been paid for your work as a smith!
SRC.NEWITEM=I_Career_Smith
SRC.ACT.EQUIP

[ITEMDEF I_Career_Miner]
DEFNAME=i_career_Miner
NAME=Pay Miner
ID=i_handr_1
TYPE=T_EQ_SCRIPT
WEIGHT=0
LAYER=layer_special

ON=@Create
color=0025
ATTR=attr_invis|attr_decay
MORE1=21000

ON=@Equip
TIMER=1
ON=@Timer
// Take the effect we would like.
if ( <cont> )
if ( <more1> )
more1=<more1>-1
TIMER=1
return 1
else
CONT.MENU M_PAY_Miner
endif
endif
Remove
RETURN 1

[MENU M_PAY_MINER]
It is time to get paid <SRC.NAME>, Check the box.
ON=0 Pay Me
SRC.SYSMESSAGE You have just been paid for your work as a Miner!
SRC.NEWITEM I_GOLD
SRC.ACT.AMOUNT=1000
SRC.ACT.BOUNCE
SRC.NEWITEM=I_Career_Miner
SRC.ACT.EQUIP

[ITEMDEF I_Career_Tailor]
DEFNAME=I_Career_Tailor
NAME=Pay Tailor
ID=i_handr_1
TYPE=T_EQ_SCRIPT
WEIGHT=0
LAYER=layer_special

ON=@Create
color=0026
ATTR=attr_invis|attr_decay
MORE1=21000

ON=@Equip
TIMER=1
ON=@Timer
// Take the effect we would like.
if ( <cont> )
if ( <more1> )
more1=<more1>-1
TIMER=1
return 1
else
CONT.MENU M_PAY_tailor
endif
endif
Remove
RETURN 1

[MENU M_PAY_tailor]
It is time to get paid <SRC.NAME>, Check the box.
ON=0 Pay Me
SRC.SYSMESSAGE You have just been paid for your work as a Tailor!
SRC.NEWITEM I_GOLD
SRC.ACT.AMOUNT=500
SRC.ACT.BOUNCE
SRC.NEWITEM=I_Career_tailor
SRC.ACT.EQUIP

//********************************************************************
//**************************ASSASIAN STONE****************************
//********************************************************************

[ITEMDEF i_ASSASIAN_head_pad]
DEFNAME=i_ASSASIAN_head_pad
NAME=Assasians stand here with player heads in pack!
ID=i_paver_sandstone
TYPE=T_NORMAL
CATEGORY=MADDAWG
SUBSECTION=Special Items
DESCRIPTION=Assasian head stone

ON=@CREATE
COLOR=0487

ON=@STEP

IF (<EVAL <SRC.TAG.ASSASIAN>>=1) && <SRC.RESTEST 1 I_FLESH_HEAD>
SRC.CONSUME 1 I_FLESH_HEAD
SRC.MESSAGE Congrats on your kill <SRC.NAME>! You are being paid for your work.
SRC.NEWITEM=I_GOLD
SRC.ACT.AMOUNT=1500
SRC.ACT.BOUNCE
RETURN 0

ELSEIF (<EVAL <SRC.TAG.ASSASIAN>>=1) && <SRC.RESTEST 1 I_FLESH_HEAD_2>
SRC.CONSUME 1 I_FLESH_HEAD_2
SRC.MESSAGE Congrats on your kill <SRC.NAME>! You are being paid for your work.
SRC.NEWITEM=I_GOLD
SRC.ACT.AMOUNT=1500
SRC.ACT.BOUNCE
RETURN 0

ELSE
SRC.MESSAGE You have no player heads, or are not an assasian.
RETURN 0
ENDIF

//********************************************************************
//***************************HUNTER STONE*****************************
//********************************************************************

[ITEMDEF i_HUNTER_head_pad]
DEFNAME=i_HUNTER_head_pad
NAME=Hunters stand here with monster heads in pack!
ID=i_paver_sandstone
TYPE=T_NORMAL
CATEGORY=MADDAWG
SUBSECTION=Special Items
DESCRIPTION=Hunters head stone

ON=@CREATE
COLOR=0094

ON=@STEP

IF (<EVAL <SRC.TAG.HUNTER>>=1) && <SRC.RESTEST 1 I_MONSTER_HEAD>
SRC.CONSUME 1 I_MONSTER_HEAD
SRC.MESSAGE Congrats on your kill <SRC.NAME>! You are being paid for your work.
SRC.NEWITEM=I_GOLD
SRC.ACT.AMOUNT=1500
SRC.ACT.BOUNCE
RETURN 0

ELSE
SRC.MESSAGE You have no monster heads, or are not a hunter.
RETURN 0
ENDIF

//////////////////////////Start the Item DEF//////////////////////////
// Admin Xeno's runebook Version 2.31 (updated 30 Dec 00)
// For versions .54m-.54? 
// Runebook to be distributed and ran in whole.
// Special permission for ORBSYDIA to Post. http://www.orbsydia.com/
// Just drop this file Sphere_runebook_x.scp in your SCRIPT directory
// Then .add i_x_runebook
//[EOF] marker @ line number 1890
//////////////////////////////////////////////////////////////////////

[ITEMDEF i_X_RUNEBOOK]
//RUNEBOOK by Admin Xeno
ID=i_spellbook
TYPE=t_script//Stores tags but unequipable
//DEFNAME=i_X_RUNEBOOK
NAME=Rune Book

ON=@DCLICK
SRC.SOUND=85
DIALOG d_X_BOOK
RETURN 1

ON=@TARGON_CHAR
SRC.SYSMESSAGE A person? You dont deserve a rune book!
RETURN 1

ON=@TARGON_ITEM
IF (<SRC.TARG.TYPE>==t_rune)//(<SRC.TARG.TYPE>==014)//old way new way???
IF (<SRC.TARG.MOREX>==0)
SRC.SYSMESSAGE That is a blank rune! Jeez.
RETURN 1
ENDIF
//VAR.CROP=<STRMATCH>(<SRC.TARG.NAME>,:???????????????)
//SRC.SYSMESSAGE <VAR.CROP>
IF (<TAG.POS1_X>=00)
SRC.SOUND=79
TAG.LOCAL1=<SRC.TARG.NAME>
// TAG.LOCAL1=<VAR.CROP>
TAG.POS1_X=<SRC.TARG.MOREX>
TAG.POS1_Y=<SRC.TARG.MOREY>
TAG.POS1_Z=<SRC.TARG.MOREZ>
TAG.POS1_M=<SRC.TARG.MOREM>
RETURN 1
ENDIF
IF (<TAG.POS2_X>=00)
SRC.SOUND=79
TAG.LOCAL2=<SRC.TARG.NAME>
TAG.POS2_X=<SRC.TARG.MOREX>
TAG.POS2_Y=<SRC.TARG.MOREY>
TAG.POS2_Z=<SRC.TARG.MOREZ>
TAG.POS2_M=<SRC.TARG.MOREM>
RETURN 1
ENDIF
IF (<TAG.POS3_X>=00)
SRC.SOUND=79
TAG.LOCAL3=<SRC.TARG.NAME>
TAG.POS3_X=<SRC.TARG.MOREX>
TAG.POS3_Y=<SRC.TARG.MOREY>
TAG.POS3_Z=<SRC.TARG.MOREZ>
TAG.POS3_M=<SRC.TARG.MOREM>
RETURN 1
ENDIF
IF (<TAG.POS4_X>=00)
SRC.SOUND=79
TAG.LOCAL4=<SRC.TARG.NAME>
TAG.POS4_X=<SRC.TARG.MOREX>
TAG.POS4_Y=<SRC.TARG.MOREY>
TAG.POS4_Z=<SRC.TARG.MOREZ>
TAG.POS4_M=<SRC.TARG.MOREM>
RETURN 1
ENDIF
IF (<TAG.POS5_X>=00)
SRC.SOUND=79
TAG.LOCAL5=<SRC.TARG.NAME>
TAG.POS5_X=<SRC.TARG.MOREX>
TAG.POS5_Y=<SRC.TARG.MOREY>
TAG.POS5_Z=<SRC.TARG.MOREZ>
TAG.POS5_M=<SRC.TARG.MOREM>
RETURN 1
ENDIF
IF (<TAG.POS6_X>=00)
SRC.SOUND=79
TAG.LOCAL6=<SRC.TARG.NAME>
TAG.POS6_X=<SRC.TARG.MOREX>
TAG.POS6_Y=<SRC.TARG.MOREY>
TAG.POS6_Z=<SRC.TARG.MOREZ>
TAG.POS6_M=<SRC.TARG.MOREM>
RETURN 1
ENDIF
IF (<TAG.POS7_X>=00)
SRC.SOUND=79
TAG.LOCAL7=<SRC.TARG.NAME>
TAG.POS7_X=<SRC.TARG.MOREX>
TAG.POS7_Y=<SRC.TARG.MOREY>
TAG.POS7_Z=<SRC.TARG.MOREZ>
TAG.POS7_M=<SRC.TARG.MOREM>
RETURN 1
ENDIF
IF (<TAG.POS8_X>=00)
SRC.SOUND=79
TAG.LOCAL8=<SRC.TARG.NAME>
TAG.POS8_X=<SRC.TARG.MOREX>
TAG.POS8_Y=<SRC.TARG.MOREY>
TAG.POS8_Z=<SRC.TARG.MOREZ>
TAG.POS8_M=<SRC.TARG.MOREM>
RETURN 1
ENDIF
IF (<TAG.POS9_X>=00)
SRC.SOUND=79
TAG.LOCAL9=<SRC.TARG.NAME>
TAG.POS9_X=<SRC.TARG.MOREX>
TAG.POS9_Y=<SRC.TARG.MOREY>
TAG.POS9_Z=<SRC.TARG.MOREZ>
TAG.POS9_M=<SRC.TARG.MOREM>
RETURN 1
ENDIF
IF (<TAG.POS10_X>=00)
SRC.SOUND=79
TAG.LOCAL10=<SRC.TARG.NAME>
TAG.POS10_X=<SRC.TARG.MOREX>
TAG.POS10_Y=<SRC.TARG.MOREY>
TAG.POS10_Z=<SRC.TARG.MOREZ>
TAG.POS10_M=<SRC.TARG.MOREM>
RETURN 1
ENDIF
IF (<TAG.POS11_X>=00)
SRC.SOUND=79
TAG.LOCAL11=<SRC.TARG.NAME>
TAG.POS11_X=<SRC.TARG.MOREX>
TAG.POS11_Y=<SRC.TARG.MOREY>
TAG.POS11_Z=<SRC.TARG.MOREZ>
TAG.POS11_M=<SRC.TARG.MOREM>
RETURN 1
ENDIF
IF (<TAG.POS12_X>=00)
SRC.SOUND=79
TAG.LOCAL12=<SRC.TARG.NAME>
TAG.POS12_X=<SRC.TARG.MOREX>
TAG.POS12_Y=<SRC.TARG.MOREY>
TAG.POS12_Z=<SRC.TARG.MOREZ>
TAG.POS12_M=<SRC.TARG.MOREM>
RETURN 1
ENDIF
IF (<TAG.POS13_X>=00)
SRC.SOUND=79
TAG.LOCAL13=<SRC.TARG.NAME>
TAG.POS13_X=<SRC.TARG.MOREX>
TAG.POS13_Y=<SRC.TARG.MOREY>
TAG.POS13_Z=<SRC.TARG.MOREZ>
TAG.POS13_M=<SRC.TARG.MOREM>
RETURN 1
ENDIF
IF (<TAG.POS14_X>=00)
SRC.SOUND=79
TAG.LOCAL14=<SRC.TARG.NAME>
TAG.POS14_X=<SRC.TARG.MOREX>
TAG.POS14_Y=<SRC.TARG.MOREY>
TAG.POS14_Z=<SRC.TARG.MOREZ>
TAG.POS14_M=<SRC.TARG.MOREM>
RETURN 1
ENDIF
IF (<TAG.POS15_X>=00)
SRC.SOUND=79
TAG.LOCAL15=<SRC.TARG.NAME>
TAG.POS15_X=<SRC.TARG.MOREX>
TAG.POS15_Y=<SRC.TARG.MOREY>
TAG.POS15_Z=<SRC.TARG.MOREZ>
TAG.POS15_M=<SRC.TARG.MOREM>
RETURN 1
ENDIF
IF (<TAG.POS16_X>=00)
SRC.SOUND=79
TAG.LOCAL16=<SRC.TARG.NAME>
TAG.POS16_X=<SRC.TARG.MOREX>
TAG.POS16_Y=<SRC.TARG.MOREY>
TAG.POS16_Z=<SRC.TARG.MOREZ>
TAG.POS16_M=<SRC.TARG.MOREM>
RETURN 1
ENDIF

SRC.SYSMESSAGE You have no empty slots for that!
RETURN 1
ENDIF//Main if @ start
SRC.SAY Huh?//catch all
RETURN 1//Stop all

CATEGORY=Rune
SUBSECTION=Rune book
DESCRIPTION=Xeno's Rune book!

ON=@CREATE
COLOR=0481
ATTR=04
TAG.POS1_X=0
TAG.POS2_X=0
TAG.POS3_X=0
TAG.POS4_X=0
TAG.POS5_X=0
TAG.POS6_X=0
TAG.POS7_X=0
TAG.POS8_X=0
TAG.POS9_X=0
TAG.POS10_X=0
TAG.POS11_X=0
TAG.POS12_X=0
TAG.POS13_X=0
TAG.POS14_X=0
TAG.POS15_X=0
TAG.POS16_X=0

[ITEMDEF i_X_RBDELAY]//07626
//Xeno's Runbook delay!
//DEFNAME=i_X_RBDELAY
NAME=Rune Book delay
ID=i_handr_1
TYPE=T_EQ_SCRIPT
WEIGHT=0
LAYER=layer_special

ON=@Create
ATTR=attr_invis|attr_decay

ON=@Equip
TIMER=1

ON=@Timer
// Take the effect we would like.
if ( <cont> )
if ( <more1> )
more1=<more1>-1
TIMER=1
return 1
else
cont.GOPLACE <morep>
endif
endif
// normal timer fall through is to delete the item
REMOVE
RETURN 1

[ITEMDEF i_X_RBGATE]
ID=0f6c
//DEFNAME=i_X_RBGATE
RESOURCES=i_scroll_gate_travel
TYPE=t_telepad
CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Moongates
DESCRIPTION=RB Gate

ON=@TIMER
if ( <more1> )
more1=<more1>-1
TIMER=1
return 1
else
SOUND=528
REMOVE
ENDIF
RETURN 1

ON=@Create
COLOR=032
MORE1=36

//////////////Start the GUMP//////////////////

[DIALOG d_X_BOOK]
// Xeno's recall book!
0, 0
//page 0
gumppic 100 10 2200
gumppic 125 50 57
gumppic 145 50 58
gumppic 160 50 58
gumppic 175 50 58
gumppic 190 50 58
gumppic 205 50 58
gumppic 220 50 58
gumppic 230 50 59

gumppic 290 50 57
gumppic 310 50 58
gumppic 325 50 58
gumppic 340 50 58
gumppic 355 50 58
gumppic 370 50 58
gumppic 385 50 58
gumppic 395 50 59

page 0//moved from top side!
//Recall Button
button 125 65 2103 2104 1 0 1//Button 1
button 125 80 2103 2104 1 0 2//Button 2
button 125 95 2103 2104 1 0 3//Button 3
button 125 110 2103 2104 1 0 4//Button 4
button 125 125 2103 2104 1 0 5//Button 5
button 125 140 2103 2104 1 0 6//Button 6
button 125 155 2103 2104 1 0 7//Button 7
button 125 170 2103 2104 1 0 8//Button 8
//Gate Button
button 135 65 2103 2104 1 0 17//Button 17
button 135 80 2103 2104 1 0 18//Button 18
button 135 95 2103 2104 1 0 19//Button 19
button 135 110 2103 2104 1 0 20//Button 20
button 135 125 2103 2104 1 0 21//Button 21
button 135 140 2103 2104 1 0 22//Button 22
button 135 155 2103 2104 1 0 23//Button 23
button 135 170 2103 2104 1 0 24//Button 24
//Erase Button
button 250 65 2103 2104 1 0 25//Button 25
button 250 80 2103 2104 1 0 26//Button 26
button 250 95 2103 2104 1 0 27//Button 27
button 250 110 2103 2104 1 0 28//Button 28
button 250 125 2103 2104 1 0 29//Button 29
button 250 140 2103 2104 1 0 30//Button 30
button 250 155 2103 2104 1 0 31//Button 31
button 250 170 2103 2104 1 0 32//Button 32
//oposit page
//recall button
button 285 65 2103 2104 1 0 9 //Button 9
button 285 80 2103 2104 1 0 10 //Button 10
button 285 95 2103 2104 1 0 11 //Button 11
button 285 110 2103 2104 1 0 12//Button 12
button 285 125 2103 2104 1 0 13//Button 13
button 285 140 2103 2104 1 0 14//Button 14
button 285 155 2103 2104 1 0 15//Button 15
button 285 170 2103 2104 1 0 16//Button 16
//Gate Button
button 295 65 2103 2104 1 0 33//Button 33
button 295 80 2103 2104 1 0 34//Button 34
button 295 95 2103 2104 1 0 35//Button 35
button 295 110 2103 2104 1 0 36//Button 36
button 295 125 2103 2104 1 0 37//Button 37
button 295 140 2103 2104 1 0 38//Button 38
button 295 155 2103 2104 1 0 39//Button 39
button 295 170 2103 2104 1 0 40//Button 40
//Erase Button
button 410 65 2103 2104 1 0 41//Button 41
button 410 80 2103 2104 1 0 42//Button 42
button 410 95 2103 2104 1 0 43//Button 43
button 410 110 2103 2104 1 0 44//Button 44
button 410 125 2103 2104 1 0 45//Button 45
button 410 140 2103 2104 1 0 46//Button 46
button 410 155 2103 2104 1 0 47//Button 47
button 410 170 2103 2104 1 0 48//Button 48
//END LOCAL/start Add
button 345 38 4033 4033 1 0 49//Button 49 (add) Maybe Dropon later!
//Text
// croppedtext // 6 = x,y,sx,sy,page,startindex
croppedtext 145 60 115 17 0 0//Location 1
croppedtext 145 75 115 17 0 1//Location 2
croppedtext 145 90 115 17 0 2//Location 3
croppedtext 145 105 115 17 0 3//Location 4
croppedtext 145 120 115 17 0 4//Location 5
croppedtext 145 135 115 17 0 5//Location 6
croppedtext 145 150 115 17 0 6//Location 7
croppedtext 145 165 115 17 0 7//Location 8
//oposit page
croppedtext 305 60 115 17 0 8//Location 9
croppedtext 305 75 115 17 0 9//Location 10
croppedtext 305 90 115 17 0 10//Location 11
croppedtext 305 105 115 17 0 11//Location 12
croppedtext 305 120 115 17 0 12//Location 13
croppedtext 305 135 115 17 0 13//Location 14
croppedtext 305 150 115 17 0 14//Location 15
croppedtext 305 165 115 17 0 15//Location 16
//Some extra text
text 128 180 0 16//text 125 35 0 16
text 310 15 1300 17
text 160 15 1300 18
text 365 195 1101 19
text 128 193 0 20

[DIALOG d_X_BOOK TEXT]
<TAG.local1>//Location 1
<TAG.local2>//Location 2
<TAG.local3>//Location 3
<TAG.local4>//Location 4
<TAG.local5>//Location 5
<TAG.local6>//Location 6
<TAG.local7>//Location 7
<TAG.local8>//Location 8
//page 2
<TAG.local9>//Location 9
<TAG.local10>//Location 10
<TAG.local11>//Location 11
<TAG.local12>//Location 12
<TAG.local13>//Location 13
<TAG.local14>//Location 14
<TAG.local15>//Location 15
<TAG.local16>//Location 16
| |_Gate Erase_|//text 16
Add a Rune//text 17
Rune Book//text 18
By Xeno//text 19
|_Recall//text 20

[DIALOG d_X_BOOK BUTTON]
ONBUTTON=0
SRC.SYSMESSAGE The book has been closed!
SRC.SOUND=85
RETURN 1

ONBUTTON=1
IF <TAG.POS1_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_black_pearl> ) |! (<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_blood_moss> )
SRC.SOUND=0108
SRC.MESSAGE You failed to recall!
SRC.MESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.say Kal Ort Por
SRC.ANIM=17
SRC.MANA=(<SRC.MANA>+-5)
IF (<SRC.MAGERY>-30.0+RAND(30))>=25-(<SRC.FOOD>/5)
SRC.MANA=(<SRC.MANA>+-6)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_blood_moss
SRC.CONSUME=1 i_reag_mandrake_root
src.newitem i_X_RBDELAY//or 07626 timer
src.act.morep=<EVAL <TAG.POS1_X>> <EVAL <TAG.POS1_Y>> <EVAL <TAG.POS1_Z>> <EVAL <TAG.POS1_M>>
src.act.more1=1//program timer
src.act.equip
SRC.SOUND=85
ELSE
SRC.SOUND=0108
SRC.MESSAGE You failed to recall! Low skill.
SRC.SOUND=85//& 92 if ya want!
ENDIF
RETURN 1

ONBUTTON=2
IF <TAG.POS2_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_black_pearl> ) |! (<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_blood_moss> )
SRC.SOUND=0108
SRC.MESSAGE You failed to recall!
SRC.MESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.say Kal Ort Por
SRC.ANIM=17
SRC.MANA=(<SRC.MANA>+-5)
IF (<SRC.MAGERY>-30.0+RAND(30))>=25-(<SRC.FOOD>/5)
SRC.MANA=(<SRC.MANA>+-6)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_blood_moss
SRC.CONSUME=1 i_reag_mandrake_root
src.newitem i_X_RBDELAY//or 07626 timer
src.act.morep=<EVAL <TAG.POS2_X>> <EVAL <TAG.POS2_Y>> <EVAL <TAG.POS2_Z>> <EVAL <TAG.POS2_M>>
src.act.more1=1//program timer
src.act.equip
SRC.SOUND=85
ELSE
SRC.SOUND=0108
SRC.MESSAGE You failed to recall! Low skill.
SRC.SOUND=85
ENDIF
RETURN 1

ONBUTTON=3
IF <TAG.POS3_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_black_pearl> ) |! (<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_blood_moss> )
SRC.SOUND=0108
SRC.MESSAGE You failed to recall!
SRC.MESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.say Kal Ort Por
SRC.ANIM=17
SRC.MANA=(<SRC.MANA>+-5)
IF (<SRC.MAGERY>-30.0+RAND(30))>=25-(<SRC.FOOD>/5)
SRC.MANA=(<SRC.MANA>+-6)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_blood_moss
SRC.CONSUME=1 i_reag_mandrake_root
src.newitem i_X_RBDELAY//or 07626 timer
src.act.morep=<EVAL <TAG.POS3_X>> <EVAL <TAG.POS3_Y>> <EVAL <TAG.POS3_Z>> <EVAL <TAG.POS3_M>>
src.act.more1=1//program timer
src.act.equip
SRC.SOUND=85
ELSE
SRC.SOUND=0108
SRC.MESSAGE You failed to recall! Low skill.
SRC.SOUND=85
ENDIF
RETURN 1

ONBUTTON=4
IF <TAG.POS4_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_black_pearl> ) |! (<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_blood_moss> )
SRC.SOUND=0108
SRC.MESSAGE You failed to recall!
SRC.MESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.say Kal Ort Por
SRC.ANIM=17
SRC.MANA=(<SRC.MANA>+-5)
IF (<SRC.MAGERY>-30.0+RAND(30))>=25-(<SRC.FOOD>/5)
SRC.MANA=(<SRC.MANA>+-6)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_blood_moss
SRC.CONSUME=1 i_reag_mandrake_root
src.newitem i_X_RBDELAY//or 07626 timer
src.act.morep=<EVAL <TAG.POS4_X>> <EVAL <TAG.POS4_Y>> <EVAL <TAG.POS4_Z>> <EVAL <TAG.POS4_M>>
src.act.more1=1//program timer
src.act.equip
SRC.SOUND=85
ELSE
SRC.SOUND=0108
SRC.MESSAGE You failed to recall! Low skill.
SRC.SOUND=85
ENDIF
RETURN 1

ONBUTTON=5
IF <TAG.POS5_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_black_pearl> ) |! (<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_blood_moss> )
SRC.SOUND=0108
SRC.MESSAGE You failed to recall!
SRC.MESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.say Kal Ort Por
SRC.ANIM=17
SRC.MANA=(<SRC.MANA>+-5)
IF (<SRC.MAGERY>-30.0+RAND(30))>=25-(<SRC.FOOD>/5)
SRC.MANA=(<SRC.MANA>+-6)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_blood_moss
SRC.CONSUME=1 i_reag_mandrake_root
src.newitem i_X_RBDELAY//or 07626 timer
src.act.morep=<EVAL <TAG.POS5_X>> <EVAL <TAG.POS5_Y>> <EVAL <TAG.POS5_Z>> <EVAL <TAG.POS5_M>>
src.act.more1=1//program timer
src.act.equip
SRC.SOUND=85
ELSE
SRC.SOUND=0108
SRC.MESSAGE You failed to recall! Low skill.
SRC.SOUND=85
ENDIF
RETURN 1

ONBUTTON=6
IF <TAG.POS6_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_black_pearl> ) |! (<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_blood_moss> )
SRC.SOUND=0108
SRC.MESSAGE You failed to recall!
SRC.MESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.say Kal Ort Por
SRC.ANIM=17
SRC.MANA=(<SRC.MANA>+-5)
IF (<SRC.MAGERY>-30.0+RAND(30))>=25-(<SRC.FOOD>/5)
SRC.MANA=(<SRC.MANA>+-6)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_blood_moss
SRC.CONSUME=1 i_reag_mandrake_root
src.newitem i_X_RBDELAY//or 07626 timer
src.act.morep=<EVAL <TAG.POS6_X>> <EVAL <TAG.POS6_Y>> <EVAL <TAG.POS6_Z>> <EVAL <TAG.POS6_M>>
src.act.more1=1//program timer
src.act.equip
SRC.SOUND=85
ELSE
SRC.SOUND=0108
SRC.MESSAGE You failed to recall! Low skill.
SRC.SOUND=85
ENDIF
RETURN 1

ONBUTTON=7
IF <TAG.POS7_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_black_pearl> ) |! (<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_blood_moss> )
SRC.SOUND=0108
SRC.MESSAGE You failed to recall!
SRC.MESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.say Kal Ort Por
SRC.ANIM=17
SRC.MANA=(<SRC.MANA>+-5)
IF (<SRC.MAGERY>-30.0+RAND(30))>=25-(<SRC.FOOD>/5)
SRC.MANA=(<SRC.MANA>+-6)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_blood_moss
SRC.CONSUME=1 i_reag_mandrake_root
src.newitem i_X_RBDELAY//or 07626 timer
src.act.morep=<EVAL <TAG.POS7_X>> <EVAL <TAG.POS7_Y>> <EVAL <TAG.POS7_Z>> <EVAL <TAG.POS7_M>>
src.act.more1=1//program timer
src.act.equip
SRC.SOUND=85
ELSE
SRC.SOUND=0108
SRC.MESSAGE You failed to recall! Low skill.
SRC.SOUND=85
ENDIF
RETURN 1

ONBUTTON=8
IF <TAG.POS8_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_black_pearl> ) |! (<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_blood_moss> )
SRC.SOUND=0108
SRC.MESSAGE You failed to recall!
SRC.MESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.say Kal Ort Por
SRC.ANIM=17
SRC.MANA=(<SRC.MANA>+-5)
IF (<SRC.MAGERY>-30.0+RAND(30))>=25-(<SRC.FOOD>/5)
SRC.MANA=(<SRC.MANA>+-6)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_blood_moss
SRC.CONSUME=1 i_reag_mandrake_root
src.newitem i_X_RBDELAY//or 07626 timer
src.act.morep=<EVAL <TAG.POS8_X>> <EVAL <TAG.POS8_Y>> <EVAL <TAG.POS8_Z>> <EVAL <TAG.POS8_M>>
src.act.more1=1//program timer
src.act.equip
SRC.SOUND=85
ELSE
SRC.SOUND=0108
SRC.MESSAGE You failed to recall! Low skill.
SRC.SOUND=85
ENDIF
RETURN 1

ONBUTTON=9
IF <TAG.POS9_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_black_pearl> ) |! (<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_blood_moss> )
SRC.SOUND=0108
SRC.MESSAGE You failed to recall!
SRC.MESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.say Kal Ort Por
SRC.ANIM=17
SRC.MANA=(<SRC.MANA>+-5)
IF (<SRC.MAGERY>-30.0+RAND(30))>=25-(<SRC.FOOD>/5)
SRC.MANA=(<SRC.MANA>+-6)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_blood_moss
SRC.CONSUME=1 i_reag_mandrake_root
src.newitem i_X_RBDELAY//or 07626 timer
src.act.morep=<EVAL <TAG.POS9_X>> <EVAL <TAG.POS9_Y>> <EVAL <TAG.POS9_Z>> <EVAL <TAG.POS9_M>>
src.act.more1=1//program timer
src.act.equip
SRC.SOUND=85
ELSE
SRC.SOUND=0108
SRC.MESSAGE You failed to recall! Low skill.
SRC.SOUND=85
ENDIF
RETURN 1

ONBUTTON=10
IF <TAG.POS10_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_black_pearl> ) |! (<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_blood_moss> )
SRC.SOUND=0108
SRC.MESSAGE You failed to recall!
SRC.MESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.say Kal Ort Por
SRC.ANIM=17
SRC.MANA=(<SRC.MANA>+-5)
IF (<SRC.MAGERY>-30.0+RAND(30))>=25-(<SRC.FOOD>/5)
SRC.MANA=(<SRC.MANA>+-6)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_blood_moss
SRC.CONSUME=1 i_reag_mandrake_root
src.newitem i_X_RBDELAY//or 07626 timer
src.act.morep=<EVAL <TAG.POS10_X>> <EVAL <TAG.POS10_Y>> <EVAL <TAG.POS10_Z>> <EVAL <TAG.POS10_M>>
src.act.more1=1//program timer
src.act.equip
SRC.SOUND=85
ELSE
SRC.SOUND=0108
SRC.MESSAGE You failed to recall! Low skill.
SRC.SOUND=85
ENDIF
RETURN 1

ONBUTTON=11
IF <TAG.POS11_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_black_pearl> ) |! (<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_blood_moss> )
SRC.SOUND=0108
SRC.MESSAGE You failed to recall!
SRC.MESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.say Kal Ort Por
SRC.ANIM=17
SRC.MANA=(<SRC.MANA>+-5)
IF (<SRC.MAGERY>-30.0+RAND(30))>=25-(<SRC.FOOD>/5)
SRC.MANA=(<SRC.MANA>+-6)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_blood_moss
SRC.CONSUME=1 i_reag_mandrake_root
src.newitem i_X_RBDELAY//or 07626 timer
src.act.morep=<EVAL <TAG.POS11_X>> <EVAL <TAG.POS11_Y>> <EVAL <TAG.POS11_Z>> <EVAL <TAG.POS11_M>>
src.act.more1=1//program timer
src.act.equip
SRC.SOUND=85
ELSE
SRC.SOUND=0108
SRC.MESSAGE You failed to recall! Low skill.
SRC.SOUND=85
ENDIF
RETURN 1

ONBUTTON=12
IF <TAG.POS12_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_black_pearl> ) |! (<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_blood_moss> )
SRC.SOUND=0108
SRC.MESSAGE You failed to recall!
SRC.MESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.say Kal Ort Por
SRC.ANIM=17
SRC.MANA=(<SRC.MANA>+-5)
IF (<SRC.MAGERY>-30.0+RAND(30))>=25-(<SRC.FOOD>/5)
SRC.MANA=(<SRC.MANA>+-6)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_blood_moss
SRC.CONSUME=1 i_reag_mandrake_root
src.newitem i_X_RBDELAY//or 07626 timer
src.act.morep=<EVAL <TAG.POS12_X>> <EVAL <TAG.POS12_Y>> <EVAL <TAG.POS12_Z>> <EVAL <TAG.POS12_M>>
src.act.more1=1//program timer
src.act.equip
SRC.SOUND=85
ELSE
SRC.SOUND=0108
SRC.MESSAGE You failed to recall! Low skill.
SRC.SOUND=85
ENDIF
RETURN 1

ONBUTTON=13
IF <TAG.POS13_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_black_pearl> ) |! (<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_blood_moss> )
SRC.SOUND=0108
SRC.MESSAGE You failed to recall!
SRC.MESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.say Kal Ort Por
SRC.ANIM=17
SRC.MANA=(<SRC.MANA>+-5)
IF (<SRC.MAGERY>-30.0+RAND(30))>=25-(<SRC.FOOD>/5)
SRC.MANA=(<SRC.MANA>+-6)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_blood_moss
SRC.CONSUME=1 i_reag_mandrake_root
src.newitem i_X_RBDELAY//or 07626 timer
src.act.morep=<EVAL <TAG.POS13_X>> <EVAL <TAG.POS13_Y>> <EVAL <TAG.POS13_Z>> <EVAL <TAG.POS13_M>>
src.act.more1=1//program timer
src.act.equip
SRC.SOUND=85
ELSE
SRC.SOUND=0108
SRC.MESSAGE You failed to recall! Low skill.
SRC.SOUND=85
ENDIF
RETURN 1

ONBUTTON=14
IF <TAG.POS14_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_black_pearl> ) |! (<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_blood_moss> )
SRC.SOUND=0108
SRC.MESSAGE You failed to recall!
SRC.MESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.say Kal Ort Por
SRC.ANIM=17
SRC.MANA=(<SRC.MANA>+-5)
IF (<SRC.MAGERY>-30.0+RAND(30))>=25-(<SRC.FOOD>/5)
SRC.MANA=(<SRC.MANA>+-6)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_blood_moss
SRC.CONSUME=1 i_reag_mandrake_root
src.newitem i_X_RBDELAY//or 07626 timer
src.act.morep=<EVAL <TAG.POS14_X>> <EVAL <TAG.POS14_Y>> <EVAL <TAG.POS14_Z>> <EVAL <TAG.POS14_M>>
src.act.more1=1//program timer
src.act.equip
SRC.SOUND=85
ELSE
SRC.SOUND=0108
SRC.MESSAGE You failed to recall! Low skill.
SRC.SOUND=85
ENDIF
RETURN 1

ONBUTTON=15
IF <TAG.POS15_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_black_pearl> ) |! (<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_blood_moss> )
SRC.SOUND=0108
SRC.MESSAGE You failed to recall!
SRC.MESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.say Kal Ort Por
SRC.ANIM=17
SRC.MANA=(<SRC.MANA>+-5)
IF (<SRC.MAGERY>-30.0+RAND(30))>=25-(<SRC.FOOD>/5)
SRC.MANA=(<SRC.MANA>+-6)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_blood_moss
SRC.CONSUME=1 i_reag_mandrake_root
src.newitem i_X_RBDELAY//or 07626 timer
src.act.morep=<EVAL <TAG.POS15_X>> <EVAL <TAG.POS15_Y>> <EVAL <TAG.POS15_Z>> <EVAL <TAG.POS15_M>>
src.act.more1=1//program timer
src.act.equip
SRC.SOUND=85
ELSE
SRC.SOUND=0108
SRC.MESSAGE You failed to recall! Low skill.
SRC.SOUND=85
ENDIF
RETURN 1

ONBUTTON=16
IF <TAG.POS16_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_black_pearl> ) |! (<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_blood_moss> )
SRC.SOUND=0108
SRC.MESSAGE You failed to recall!
SRC.MESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.say Kal Ort Por
SRC.ANIM=17
SRC.MANA=(<SRC.MANA>+-5)
IF (<SRC.MAGERY>-30.0+RAND(30))>=25-(<SRC.FOOD>/5)
SRC.MANA=(<SRC.MANA>+-6)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_blood_moss
SRC.CONSUME=1 i_reag_mandrake_root
src.newitem i_X_RBDELAY//or 07626 timer
src.act.morep=<EVAL <TAG.POS16_X>> <EVAL <TAG.POS16_Y>> <EVAL <TAG.POS16_Z>> <EVAL <TAG.POS16_M>>
src.act.more1=1//program timer
src.act.equip
SRC.SOUND=85
ELSE
SRC.SOUND=0108
SRC.MESSAGE You failed to recall! Low skill.
SRC.SOUND=85
ENDIF
RETURN 1

ONBUTTON=17
IF <TAG.POS1_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
if !<src.isgm>
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_sulfur_ash> ) |! (<SRC.RESTEST 1 i_reag_black_pearl> )
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate!
SRC.SYSMESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
IF (<SRC.MANA><40)
SRC.SOUND=0108
SRC.SYSMESSAGE You dont have enough mana, to attempt to gate!
RETURN 1
ENDIF
SRC.SAY Vas Rel Por
SRC.MANA=(<SRC.MANA>+-15)
//IF (<SRC.MAGERY>-55.0+RAND(75))<=46-(<SRC.FOOD>/5)
//IF (((<SRC.MAGERY>-45)+<SRC.FOOD>+RAND(16)))<=34.0
//IF (<SRC.MAGERY>-70.0+RAND(30))>=31-(<SRC.FOOD>/5)
IF (<SRC.MAGERY><=600
//SRC.SYSMESSAGE var.mag <VAR.MAG> & <VAR.FRAN>
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate! Low skill.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.MANA=(<SRC.MANA>+-25)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_mandrake_root
SRC.CONSUME=1 i_reag_sulfur_ash
ENDIF
SRC.ANIM=17
SRC.SOUND=535 // or 526 or 524
src.newitem i_X_RBGATE
src.act.timer=20
src.act.morep=<EVAL <TAG.POS1_X>> <EVAL <TAG.POS1_Y>> <EVAL <TAG.POS1_Z>> <EVAL <TAG.POS1_M>>
src.act.p=<src.p>
src.newitem i_X_RBGATE
SRC.ACT.P=<EVAL <TAG.POS1_X>> <EVAL <TAG.POS1_Y>> <EVAL <TAG.POS1_Z>> <EVAL <TAG.POS1_M>>
src.act.timer=20
SRC.ACT.MOREP=<SRC.P>
SRC.SOUND=85
RETURN 1

ONBUTTON=18
IF <TAG.POS2_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
if !<src.isgm>
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_sulfur_ash> ) |! (<SRC.RESTEST 1 i_reag_black_pearl> )
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate!
SRC.SYSMESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
IF (<SRC.MANA><40)
SRC.SOUND=0108
SRC.SYSMESSAGE You dont have enough mana, to attempt to gate!
RETURN 1
ENDIF
SRC.SAY Vas Rel Por
SRC.MANA=(<SRC.MANA>+-15)
IF (<SRC.MAGERY><=600
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate! Low skill.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.MANA=(<SRC.MANA>+-25)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_mandrake_root
SRC.CONSUME=1 i_reag_sulfur_ash
ENDIF
SRC.ANIM=17
SRC.SOUND=535 // or 526 or 524
src.newitem i_X_RBGATE
src.act.timer=20
src.act.morep=<EVAL <TAG.POS2_X>> <EVAL <TAG.POS2_Y>> <EVAL <TAG.POS2_Z>> <EVAL <TAG.POS2_M>>
src.act.p=<src.p>
src.newitem i_X_RBGATE
SRC.ACT.P=<EVAL <TAG.POS2_X>> <EVAL <TAG.POS2_Y>> <EVAL <TAG.POS2_Z>> <EVAL <TAG.POS2_M>>
src.act.timer=20
SRC.ACT.MOREP=<SRC.P>
SRC.SOUND=85
RETURN 1

ONBUTTON=19
IF <TAG.POS3_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
if !<src.isgm>
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_sulfur_ash> ) |! (<SRC.RESTEST 1 i_reag_black_pearl> )
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate!
SRC.SYSMESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
IF (<SRC.MANA><40)
SRC.SOUND=0108
SRC.SYSMESSAGE You dont have enough mana, to attempt to gate!
RETURN 1
ENDIF
SRC.SAY Vas Rel Por
SRC.MANA=(<SRC.MANA>+-15)
IF (<SRC.MAGERY><=600
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate! Low skill.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.MANA=(<SRC.MANA>+-25)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_mandrake_root
SRC.CONSUME=1 i_reag_sulfur_ash
ENDIF
SRC.ANIM=17
SRC.SOUND=535 // or 526 or 524
src.newitem i_X_RBGATE
src.act.timer=20
src.act.morep=<EVAL <TAG.POS3_X>> <EVAL <TAG.POS3_Y>> <EVAL <TAG.POS3_Z>> <EVAL <TAG.POS3_M>>
src.act.p=<src.p>
src.newitem i_X_RBGATE
SRC.ACT.P=<EVAL <TAG.POS3_X>> <EVAL <TAG.POS3_Y>> <EVAL <TAG.POS3_Z>> <EVAL <TAG.POS3_M>>
src.act.timer=20
SRC.ACT.MOREP=<SRC.P>
SRC.SOUND=85
RETURN 1

ONBUTTON=20
IF <TAG.POS4_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
if !<src.isgm>
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_sulfur_ash> ) |! (<SRC.RESTEST 1 i_reag_black_pearl> )
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate!
SRC.SYSMESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
IF (<SRC.MANA><40)
SRC.SOUND=0108
SRC.SYSMESSAGE You dont have enough mana, to attempt to gate!
RETURN 1
ENDIF
SRC.SAY Vas Rel Por
SRC.MANA=(<SRC.MANA>+-15)
IF (<SRC.MAGERY><=600
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate! Low skill.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.MANA=(<SRC.MANA>+-25)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_mandrake_root
SRC.CONSUME=1 i_reag_sulfur_ash
ENDIF
SRC.ANIM=17
SRC.SOUND=535 // or 526 or 524
src.newitem i_X_RBGATE
src.act.timer=20
src.act.morep=<EVAL <TAG.POS4_X>> <EVAL <TAG.POS4_Y>> <EVAL <TAG.POS4_Z>> <EVAL <TAG.POS4_M>>
src.act.p=<src.p>
src.newitem i_X_RBGATE
SRC.ACT.P=<EVAL <TAG.POS4_X>> <EVAL <TAG.POS4_Y>> <EVAL <TAG.POS4_Z>> <EVAL <TAG.POS4_M>>
src.act.timer=20
SRC.ACT.MOREP=<SRC.P>
SRC.SOUND=85
RETURN 1

ONBUTTON=21
IF <TAG.POS5_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
if !<src.isgm>
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_sulfur_ash> ) |! (<SRC.RESTEST 1 i_reag_black_pearl> )
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate!
SRC.SYSMESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
IF (<SRC.MANA><40)
SRC.SOUND=0108
SRC.SYSMESSAGE You dont have enough mana, to attempt to gate!
RETURN 1
ENDIF
SRC.SAY Vas Rel Por
SRC.MANA=(<SRC.MANA>+-15)
IF (<SRC.MAGERY><=600
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate! Low skill.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.MANA=(<SRC.MANA>+-25)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_mandrake_root
SRC.CONSUME=1 i_reag_sulfur_ash
ENDIF
SRC.ANIM=17
SRC.SOUND=535 // or 526 or 524
src.newitem i_X_RBGATE
src.act.timer=20
src.act.morep=<EVAL <TAG.POS5_X>> <EVAL <TAG.POS5_Y>> <EVAL <TAG.POS5_Z>> <EVAL <TAG.POS5_M>>
src.act.p=<src.p>
src.newitem i_X_RBGATE
SRC.ACT.P=<EVAL <TAG.POS5_X>> <EVAL <TAG.POS5_Y>> <EVAL <TAG.POS5_Z>> <EVAL <TAG.POS5_M>>
src.act.timer=20
SRC.ACT.MOREP=<SRC.P>
SRC.SOUND=85
RETURN 1

ONBUTTON=22
IF <TAG.POS6_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
if !<src.isgm>
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_sulfur_ash> ) |! (<SRC.RESTEST 1 i_reag_black_pearl> )
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate!
SRC.SYSMESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
IF (<SRC.MANA><40)
SRC.SOUND=0108
SRC.SYSMESSAGE You dont have enough mana, to attempt to gate!
RETURN 1
ENDIF
SRC.SAY Vas Rel Por
SRC.MANA=(<SRC.MANA>+-15)
IF (<SRC.MAGERY><=600
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate! Low skill.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.MANA=(<SRC.MANA>+-25)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_mandrake_root
SRC.CONSUME=1 i_reag_sulfur_ash
ENDIF
SRC.ANIM=17
SRC.SOUND=535 // or 526 or 524
src.newitem i_X_RBGATE
src.act.timer=20
src.act.morep=<EVAL <TAG.POS6_X>> <EVAL <TAG.POS6_Y>> <EVAL <TAG.POS6_Z>> <EVAL <TAG.POS6_M>>
src.act.p=<src.p>
src.newitem i_X_RBGATE
SRC.ACT.P=<EVAL <TAG.POS6_X>> <EVAL <TAG.POS6_Y>> <EVAL <TAG.POS6_Z>> <EVAL <TAG.POS6_M>>
src.act.timer=20
SRC.ACT.MOREP=<SRC.P>
SRC.SOUND=85
RETURN 1

ONBUTTON=23
IF <TAG.POS7_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
if !<src.isgm>
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_sulfur_ash> ) |! (<SRC.RESTEST 1 i_reag_black_pearl> )
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate!
SRC.SYSMESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
IF (<SRC.MANA><40)
SRC.SOUND=0108
SRC.SYSMESSAGE You dont have enough mana, to attempt to gate!
RETURN 1
ENDIF
SRC.SAY Vas Rel Por
SRC.MANA=(<SRC.MANA>+-15)
IF (<SRC.MAGERY><=600
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate! Low skill.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.MANA=(<SRC.MANA>+-25)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_mandrake_root
SRC.CONSUME=1 i_reag_sulfur_ash
ENDIF
SRC.ANIM=17
SRC.SOUND=535 // or 526 or 524
src.newitem i_X_RBGATE
src.act.timer=20
src.act.morep=<EVAL <TAG.POS7_X>> <EVAL <TAG.POS7_Y>> <EVAL <TAG.POS7_Z>> <EVAL <TAG.POS7_M>>
src.act.p=<src.p>
src.newitem i_X_RBGATE
SRC.ACT.P=<EVAL <TAG.POS7_X>> <EVAL <TAG.POS7_Y>> <EVAL <TAG.POS7_Z>> <EVAL <TAG.POS7_M>>
src.act.timer=20
SRC.ACT.MOREP=<SRC.P>
SRC.SOUND=85
RETURN 1

ONBUTTON=24
IF <TAG.POS8_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
if !<src.isgm>
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_sulfur_ash> ) |! (<SRC.RESTEST 1 i_reag_black_pearl> )
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate!
SRC.SYSMESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
IF (<SRC.MANA><40)
SRC.SOUND=0108
SRC.SYSMESSAGE You dont have enough mana, to attempt to gate!
RETURN 1
ENDIF
SRC.SAY Vas Rel Por
SRC.MANA=(<SRC.MANA>+-15)
IF (<SRC.MAGERY><=600
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate! Low skill.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.MANA=(<SRC.MANA>+-25)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_mandrake_root
SRC.CONSUME=1 i_reag_sulfur_ash
ENDIF
SRC.ANIM=17
SRC.SOUND=535 // or 526 or 524
src.newitem i_X_RBGATE
src.act.timer=20
src.act.morep=<EVAL <TAG.POS8_X>> <EVAL <TAG.POS8_Y>> <EVAL <TAG.POS8_Z>> <EVAL <TAG.POS8_M>>
src.act.p=<src.p>
src.newitem i_X_RBGATE
SRC.ACT.P=<EVAL <TAG.POS8_X>> <EVAL <TAG.POS8_Y>> <EVAL <TAG.POS8_Z>> <EVAL <TAG.POS8_M>>
src.act.timer=20
SRC.ACT.MOREP=<SRC.P>
SRC.SOUND=85
RETURN 1

ONBUTTON=25
SRC.SOUND=43
SRC.SYSMESSAGE Reseting location!
TAG.POS1_X=00
TAG.LOCAL1=

ONBUTTON=26
SRC.SOUND=43
SRC.SYSMESSAGE Reseting location!
TAG.POS2_X=00
TAG.LOCAL2=

ONBUTTON=27
SRC.SOUND=43
SRC.SYSMESSAGE Reseting location!
TAG.POS3_X=00
TAG.LOCAL3=

ONBUTTON=28
SRC.SOUND=43
SRC.SYSMESSAGE Reseting location!
TAG.POS4_X=00
TAG.LOCAL4=

ONBUTTON=29
SRC.SOUND=43
SRC.SYSMESSAGE Reseting location!
TAG.POS5_X=00
TAG.LOCAL5=

ONBUTTON=30
SRC.SOUND=43
SRC.SYSMESSAGE Reseting location!
TAG.POS6_X=00
TAG.LOCAL6=

ONBUTTON=31
SRC.SOUND=43
SRC.SYSMESSAGE Reseting location!
TAG.POS7_X=00
TAG.LOCAL7=

ONBUTTON=32
SRC.SOUND=43
SRC.SYSMESSAGE Reseting location!
TAG.POS8_X=00
TAG.LOCAL8=

ONBUTTON=33
IF <TAG.POS9_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
if !<src.isgm>
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_sulfur_ash> ) |! (<SRC.RESTEST 1 i_reag_black_pearl> )
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate!
SRC.SYSMESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
IF (<SRC.MANA><40)
SRC.SOUND=0108
SRC.SYSMESSAGE You dont have enough mana, to attempt to gate!
RETURN 1
ENDIF
SRC.SAY Vas Rel Por
SRC.MANA=(<SRC.MANA>+-15)
IF (<SRC.MAGERY><=600
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate! Low skill.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.MANA=(<SRC.MANA>+-25)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_mandrake_root
SRC.CONSUME=1 i_reag_sulfur_ash
ENDIF
SRC.ANIM=17
SRC.SOUND=535 // or 526 or 524
src.newitem i_X_RBGATE
src.act.timer=20
src.act.p=<src.p>
src.act.morep=<EVAL <TAG.POS9_X>> <EVAL <TAG.POS9_Y>> <EVAL <TAG.POS9_Z>> <EVAL <TAG.POS9_M>>
src.newitem i_X_RBGATE
SRC.ACT.P=<EVAL <TAG.POS9_X>> <EVAL <TAG.POS9_Y>> <EVAL <TAG.POS9_Z>> <EVAL <TAG.POS9_M>>
src.act.timer=20
SRC.ACT.MOREP=<SRC.P>
SRC.SOUND=85
RETURN 1

ONBUTTON=34
IF <TAG.POS10_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
if !<src.isgm>
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_sulfur_ash> ) |! (<SRC.RESTEST 1 i_reag_black_pearl> )
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate!
SRC.SYSMESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
IF (<SRC.MANA><40)
SRC.SOUND=0108
SRC.SYSMESSAGE You dont have enough mana, to attempt to gate!
RETURN 1
ENDIF
SRC.SAY Vas Rel Por
SRC.MANA=(<SRC.MANA>+-15)
IF (<SRC.MAGERY><=600
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate! Low skill.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.MANA=(<SRC.MANA>+-25)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_mandrake_root
SRC.CONSUME=1 i_reag_sulfur_ash
ENDIF
SRC.ANIM=17
SRC.SOUND=535 // or 526 or 524
src.newitem i_X_RBGATE
src.act.timer=20
src.act.morep=<EVAL <TAG.POS10_X>> <EVAL <TAG.POS10_Y>> <EVAL <TAG.POS10_Z>> <EVAL <TAG.POS10_M>>
src.act.p=<src.p>
src.newitem i_X_RBGATE
SRC.ACT.P=<EVAL <TAG.POS10_X>> <EVAL <TAG.POS10_Y>> <EVAL <TAG.POS10_Z>> <EVAL <TAG.POS10_M>>
src.act.timer=20
SRC.ACT.MOREP=<SRC.P>
SRC.SOUND=85
RETURN 1

ONBUTTON=35
IF <TAG.POS11_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
if !<src.isgm>
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_sulfur_ash> ) |! (<SRC.RESTEST 1 i_reag_black_pearl> )
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate!
SRC.SYSMESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
IF (<SRC.MANA><40)
SRC.SOUND=0108
SRC.SYSMESSAGE You dont have enough mana, to attempt to gate!
RETURN 1
ENDIF
SRC.SAY Vas Rel Por
SRC.MANA=(<SRC.MANA>+-15)
IF (<SRC.MAGERY><=600
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate! Low skill.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.MANA=(<SRC.MANA>+-25)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_mandrake_root
SRC.CONSUME=1 i_reag_sulfur_ash
ENDIF
SRC.ANIM=17
SRC.SOUND=535 // or 526 or 524
src.newitem i_X_RBGATE
src.act.timer=20
src.act.morep=<EVAL <TAG.POS11_X>> <EVAL <TAG.POS11_Y>> <EVAL <TAG.POS11_Z>> <EVAL <TAG.POS11_M>>
src.act.p=<src.p>
src.newitem i_X_RBGATE
SRC.ACT.P=<EVAL <TAG.POS11_X>> <EVAL <TAG.POS11_Y>> <EVAL <TAG.POS11_Z>> <EVAL <TAG.POS11_M>>
src.act.timer=20
SRC.ACT.MOREP=<SRC.P>
SRC.SOUND=85
RETURN 1

ONBUTTON=36
IF <TAG.POS12_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
if !<src.isgm>
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_sulfur_ash> ) |! (<SRC.RESTEST 1 i_reag_black_pearl> )
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate!
SRC.SYSMESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
IF (<SRC.MANA><40)
SRC.SOUND=0108
SRC.SYSMESSAGE You dont have enough mana, to attempt to gate!
RETURN 1
ENDIF
SRC.SAY Vas Rel Por
SRC.MANA=(<SRC.MANA>+-15)
IF (<SRC.MAGERY><=600
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate! Low skill.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.MANA=(<SRC.MANA>+-25)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_mandrake_root
SRC.CONSUME=1 i_reag_sulfur_ash
ENDIF
SRC.ANIM=17
SRC.SOUND=535 // or 526 or 524
src.newitem i_X_RBGATE
src.act.timer=20
src.act.morep=<EVAL <TAG.POS12_X>> <EVAL <TAG.POS12_Y>> <EVAL <TAG.POS12_Z>> <EVAL <TAG.POS12_M>>
src.act.p=<src.p>
src.newitem i_X_RBGATE
SRC.ACT.P=<EVAL <TAG.POS12_X>> <EVAL <TAG.POS12_Y>> <EVAL <TAG.POS12_Z>> <EVAL <TAG.POS12_M>>
src.act.timer=20
SRC.ACT.MOREP=<SRC.P>
SRC.SOUND=85
RETURN 1

ONBUTTON=37
IF <TAG.POS13_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
if !<src.isgm>
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_sulfur_ash> ) |! (<SRC.RESTEST 1 i_reag_black_pearl> )
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate!
SRC.SYSMESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
IF (<SRC.MANA><40)
SRC.SOUND=0108
SRC.SYSMESSAGE You dont have enough mana, to attempt to gate!
RETURN 1
ENDIF
SRC.SAY Vas Rel Por
SRC.MANA=(<SRC.MANA>+-15)
IF (<SRC.MAGERY><=600
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate! Low skill.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.MANA=(<SRC.MANA>+-25)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_mandrake_root
SRC.CONSUME=1 i_reag_sulfur_ash
ENDIF
SRC.ANIM=17
SRC.SOUND=535 // or 526 or 524
src.newitem i_X_RBGATE
src.act.timer=20
src.act.morep=<EVAL <TAG.POS13_X>> <EVAL <TAG.POS13_Y>> <EVAL <TAG.POS13_Z>> <EVAL <TAG.POS13_M>>
src.act.p=<src.p>
src.newitem i_X_RBGATE
SRC.ACT.P=<EVAL <TAG.POS13_X>> <EVAL <TAG.POS13_Y>> <EVAL <TAG.POS13_Z>> <EVAL <TAG.POS13_M>>
src.act.timer=20
SRC.ACT.MOREP=<SRC.P>
SRC.SOUND=85
RETURN 1

ONBUTTON=38
IF <TAG.POS14_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
if !<src.isgm>
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_sulfur_ash> ) |! (<SRC.RESTEST 1 i_reag_black_pearl> )
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate!
SRC.SYSMESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
IF (<SRC.MANA><40)
SRC.SOUND=0108
SRC.SYSMESSAGE You dont have enough mana, to attempt to gate!
RETURN 1
ENDIF
SRC.SAY Vas Rel Por
SRC.MANA=(<SRC.MANA>+-15)
IF (<SRC.MAGERY><=600
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate! Low skill.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.MANA=(<SRC.MANA>+-25)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_mandrake_root
SRC.CONSUME=1 i_reag_sulfur_ash
ENDIF
SRC.ANIM=17
SRC.SOUND=535 // or 526 or 524
src.newitem i_X_RBGATE
src.act.timer=20
src.act.morep=<EVAL <TAG.POS14_X>> <EVAL <TAG.POS14_Y>> <EVAL <TAG.POS14_Z>> <EVAL <TAG.POS14_M>>
src.act.p=<src.p>
src.newitem i_X_RBGATE
SRC.ACT.P=<EVAL <TAG.POS14_X>> <EVAL <TAG.POS14_Y>> <EVAL <TAG.POS14_Z>> <EVAL <TAG.POS14_M>>
src.act.timer=20
SRC.ACT.MOREP=<SRC.P>
SRC.SOUND=85
RETURN 1

ONBUTTON=39
IF <TAG.POS15_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
if !<src.isgm>
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_sulfur_ash> ) |! (<SRC.RESTEST 1 i_reag_black_pearl> )
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate!
SRC.SYSMESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
IF (<SRC.MANA><40)
SRC.SOUND=0108
SRC.SYSMESSAGE You dont have enough mana, to attempt to gate!
RETURN 1
ENDIF
SRC.SAY Vas Rel Por
SRC.MANA=(<SRC.MANA>+-15)
IF (<SRC.MAGERY><=600
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate! Low skill.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.MANA=(<SRC.MANA>+-25)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_mandrake_root
SRC.CONSUME=1 i_reag_sulfur_ash
ENDIF
SRC.ANIM=17
SRC.SOUND=535 // or 526 or 524
src.newitem i_X_RBGATE
src.act.timer=20
src.act.morep=<EVAL <TAG.POS15_X>> <EVAL <TAG.POS15_Y>> <EVAL <TAG.POS15_Z>> <EVAL <TAG.POS15_M>>
src.act.p=<src.p>
src.newitem i_X_RBGATE
SRC.ACT.P=<EVAL <TAG.POS15_X>> <EVAL <TAG.POS15_Y>> <EVAL <TAG.POS15_Z>> <EVAL <TAG.POS15_M>>
src.act.timer=20
SRC.ACT.MOREP=<SRC.P>
SRC.SOUND=85
RETURN 1

ONBUTTON=40
IF <TAG.POS16_X>=00
SRC.SYSMESSAGE That slot does not have a rune wrote to it!
RETURN 1
ENDIF
if !<src.isgm>
IF <SRC.REGION.FLAGS>&0E
SRC.SYSMESSAGE This area prevents you from using this book!
SRC.SOUND=85
RETURN 1
ENDIF
IF !(<SRC.RESTEST 1 i_reag_mandrake_root> ) |! (<SRC.RESTEST 1 i_reag_sulfur_ash> ) |! (<SRC.RESTEST 1 i_reag_black_pearl> )
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate!
SRC.SYSMESSAGE You dont have required reagents.
SRC.SOUND=85
RETURN 1
ENDIF
IF (<SRC.MANA><40)
SRC.SOUND=0108
SRC.SYSMESSAGE You dont have enough mana, to attempt to gate!
RETURN 1
ENDIF
SRC.SAY Vas Rel Por
SRC.MANA=(<SRC.MANA>+-15)
IF (<SRC.MAGERY><=600
SRC.SOUND=0108
SRC.SYSMESSAGE You failed to gate! Low skill.
SRC.SOUND=85
RETURN 1
ENDIF
SRC.MANA=(<SRC.MANA>+-25)
SRC.CONSUME=1 i_reag_black_pearl
SRC.CONSUME=1 i_reag_mandrake_root
SRC.CONSUME=1 i_reag_sulfur_ash
ENDIF
SRC.ANIM=17
SRC.SOUND=535 // or 526 or 524
src.newitem i_X_RBGATE
src.act.timer=20
src.act.morep=<EVAL <TAG.POS16_X>> <EVAL <TAG.POS16_Y>> <EVAL <TAG.POS16_Z>> <EVAL <TAG.POS16_M>>
src.act.p=<src.p>
src.newitem i_X_RBGATE
SRC.ACT.P=<EVAL <TAG.POS16_X>> <EVAL <TAG.POS16_Y>> <EVAL <TAG.POS16_Z>> <EVAL <TAG.POS16_M>>
src.act.timer=20
SRC.ACT.MOREP=<SRC.P>
SRC.SOUND=85
RETURN 1

ONBUTTON=41
SRC.SOUND=43
SRC.SYSMESSAGE Reseting location!
TAG.POS9_X=00
TAG.LOCAL9=

ONBUTTON=42
SRC.SOUND=43
SRC.SYSMESSAGE Reseting location!
TAG.POS10_X=00
TAG.LOCAL10=

ONBUTTON=43
SRC.SOUND=43
SRC.SYSMESSAGE Reseting location!
TAG.POS11_X=00
TAG.LOCAL11=

ONBUTTON=44
SRC.SOUND=43
SRC.SYSMESSAGE Reseting location!
TAG.POS12_X=00
TAG.LOCAL12=

ONBUTTON=45
SRC.SOUND=43
SRC.SYSMESSAGE Reseting location!
TAG.POS13_X=00
TAG.LOCAL13=

ONBUTTON=46
SRC.SOUND=43
SRC.SYSMESSAGE Reseting location!
TAG.POS14_X=00
TAG.LOCAL14=

ONBUTTON=47
SRC.SOUND=43
SRC.SYSMESSAGE Reseting location!
TAG.POS15_X=00
TAG.LOCAL15=

ONBUTTON=48
SRC.SOUND=43
SRC.SYSMESSAGE Reseting location!
TAG.POS16_X=00
TAG.LOCAL16=

ONBUTTON=49
//add rune!
SRC.SOUND=85
SRC.SYSMESSAGE Please target the rune you wish to scribe in your book.
TARGET
//------END RUNE BOOK----------















































[ITEMDEF i_spell_delay]
NAME=Spell Delay Memory
ID=i_memory

ON=@Create
TIMER=1

ON=@Timer
MORE=<MORE>-1
IF <MORE>==0
IF (0<LINK.TAG.FIZZLED>==1)
LINK.EFFECT 3,03735,1,2,1
LINK.SYSMESSAGE The spell fizzles.
LINK.TAG.FIZZLED=0
LINK.TAG.SCASTING=0
REMOVE
RETURN 1
ENDIF
IF <LINK.REGION.GUARDED>
LINK.SYSMESSAGE You have wandered into a guarded
region while casting. Your spell may not work.
ENDIF
LINK.TAG.SCASTING=0
REMOVE
ELSE
LINK.ANIM 010
TIMER=1
ENDIF
RETURN 1


//Spell Words:

//AAlaLifeBBauDeathCCylGreat
//DDelRemoveEEamFireFFieIce
//GGravFieldHHaumEarthIIlnAir
//KKurSpiritMMuliStopPPulPower
//RRelMovementTTymLightningUUlmStone
//VVexWaterXXyrObjectYYaeBestow
//Q QuanControlNNorAnger

[ITEMDEF ispell_16]
// Blood Lust
ID=i_memory
NAME=Quan Nor
TYPE=t_eq_script

ON=@Create
MORE=3

ON=@Dclick
TARGET Select the creature.
RETURN 1

ON=@Targon_char
IF
<SRC.TARG.REGION.GUARDED>||<SRC.REGION.GUARDED>||!<SRC.REGION.MAGIC>
SRC.SYSMESSAGE Sorry you cannot cast this in a
guarded area.
REMOVE
RETURN 1
ENDIF

IF <SRC.TARG.BRAIN>>0
SRC.TARG.ATTACK
ENDIF
REMOVE
RETURN 1

[ITEMDEF ispell_15]
// Prismatic Sphere
ID=i_memory
NAME=Rel Grav
TYPE=t_eq_script

ON=@Create
MORE=7

ON=@Dclick
TIMER=7
LINK=<SRC.UID>
RETURN 1

ON=@Timer
LINK.NEWITEM=ispell_7_rock
LINK.ACT.P=<LINK.P>
LINK.ACT.LINK=<LINK>
LINK.ACT.MOVE -1 -1
LINK.NEWITEM=ispell_7_rock
LINK.ACT.P=<LINK.P>
LINK.ACT.LINK=<LINK>
LINK.ACT.MOVE -1 0
LINK.NEWITEM=ispell_7_rock
LINK.ACT.P=<LINK.P>
LINK.ACT.LINK=<LINK>
LINK.ACT.MOVE -1 1
LINK.NEWITEM=ispell_7_rock
LINK.ACT.P=<LINK.P>
LINK.ACT.LINK=<LINK>
LINK.ACT.MOVE 0 -1
LINK.NEWITEM=ispell_7_rock
LINK.ACT.P=<LINK.P>
LINK.ACT.LINK=<LINK>
LINK.ACT.MOVE 0 1
LINK.NEWITEM=ispell_7_rock
LINK.ACT.P=<LINK.P>
LINK.ACT.LINK=<LINK>
LINK.ACT.MOVE 1 -1
LINK.NEWITEM=ispell_7_rock
LINK.ACT.P=<LINK.P>
LINK.ACT.LINK=<LINK>
LINK.ACT.MOVE 1 0
LINK.NEWITEM=ispell_7_rock
LINK.ACT.P=<LINK.P>
LINK.ACT.LINK=<LINK>
LINK.ACT.MOVE 1 1
REMOVE
RETURN 1

[EVENTS e_prism]
ON=@GetHit
RETURN 1

ON=@SpellEffect
RETURN 1

[ITEMDEF ispell_7_rock]
ID={ 01771 1 01772 1 }
NAME=prismatic stone
TYPE=t_eq_script

ON=@Create
COLOR={ 0789 1 07a8 1 }
TIMER=3
ATTR=010|attr_decay
MORE=12

ON=@DClick
SRC.EFFECT 1,0,0,0,0
SRC.DAMAGE { 10 15 }
RETURN 1

ON=@Timer
IF !<MORE2>
MORE2=<LINK.DIR>
ENDIF
IF <LINK.DIR>!=<MORE2>
MORE=0
ENDIF
IF <MORE>==0
LINK.EVENTS -e_prism
REMOVE
ENDIF
MORE=<MORE>-1
COLOR={ 0789 1 07a8 1 0783 1 0775 1 0786 1 }
UPDATE
TIMER=3
RETURN 1


[ITEMDEF ispell_14]
// Brainwash
ID=i_memory
NAME=Quan Kur
TYPE=t_eq_script

ON=@Create
MORE=19

ON=@Dclick
TARGET Select Target
RETURN 1

ON=@Targon_char
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGET
RETURN 1
ENDIF
IF
<SRC.TARG.REGION.GUARDED>||<SRC.REGION.GUARDED>||!<SRC.REGION.MAGIC>
SRC.SYSMESSAGE Sorry you cannot cast this in a
guarded area.
REMOVE
RETURN 1
ENDIF


IF
(<SRC.TARG.BRAIN>==0)||(<SRC.TARG.FLAGS>&statf_conjured)||(<SRC.TARG.BRAIN>&statf_pet)|| (<SRC.TARG.BRAIN>==brain_vendor)||(<SRC.TARG.BRAIN>==brain_banker)
SRC.SYSMESSAGE You may not brainwash that.
REMOVE
RETURN 1
ENDIF

SRC.NEWITEM=i_memory
SRC.ACT.COLOR memory_ipet
SRC.ACT.LINK <SRC.UID>
SRC.ACT.MORE <SRC.UID>
SRC.ACT.MORE2 memory_ipet
SRC.ACT.CONT <SRC.TARG.UID>
SRC.ACT.TIMER=60*60

SRC.TARG.EMOTE enter the control of <SRC.NAME>
REMOVE
RETURN 1


[ITEMDEF ispell_13]
// Float
ID=i_memory
NAME=Xyr Iln
TYPE=t_eq_script

ON=@Create
MORE=4

ON=@Dclick
TARGET Select target.
RETURN 1

ON=@Targon_char
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGET
RETURN 1
ENDIF
IF
<SRC.TARG.REGION.GUARDED>||<SRC.REGION.GUARDED>||!<SRC.REGION.MAGIC>
SRC.SYSMESSAGE Sorry you cannot cast this in a
guarded area.
REMOVE
RETURN 1
ENDIF

SRC.TARG.Z=<SRC.TARG.Z>+25
REMOVE
RETURN 1


[ITEMDEF ispell_12]
// Fireproof
ID=i_memory
NAME=Muli Eam
TYPE=t_eq_script

ON=@Create
MORE=5

ON=@Dclick
TARGET Select target.
RETURN 1

ON=@Targon_char
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGET
RETURN 1
ENDIF
IF
<SRC.TARG.REGION.GUARDED>||<SRC.REGION.GUARDED>||!<SRC.REGION.MAGIC>
SRC.SYSMESSAGE Sorry you cannot cast this in a
guarded area.
REMOVE
RETURN 1
ENDIF

SRC.TARG.EFFECT 3,0376a,60,60,0
SRC.TARG.EVENTS +e_fire_immune
TIMER=40
MORE2=100
LINK=<SRC.TARG.UID>
RETURN 1

ON=@Timer
LINK.EVENTS -e_fire_immune
LINK.EFFECT 3,0376a,60,60,0
REMOVE
RETURN 1

[ITEMDEF ispell_11]
// Power Leak
ID=i_memory
NAME=Muli Ala
TYPE=t_eq_script

ON=@Create
MORE=12

ON=@Dclick
TARGET Select target.
RETURN 1

ON=@Targon_char
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGET
RETURN 1
ENDIF
IF
<SRC.TARG.REGION.GUARDED>||<SRC.REGION.GUARDED>||!<SRC.REGION.MAGIC>
SRC.SYSMESSAGE Sorry you cannot cast this in a
guarded area.
REMOVE
RETURN 1
ENDIF

SRC.NEWITEM=03779
SRC.ACT.COLOR=0790
SRC.ACT.ATTR=attr_decay
SRC.ACT.TIMER=2
SRC.ACT.P=<SRC.P>
SRC.NEWITEM=ispell_11_leaker
SRC.ACT.LINK=<SRC.TARG.UID>
SRC.ACT.P=<SRC.P>
REMOVE
RETURN 1

[ITEMDEF ispell_11_leaker]
ID=i_memory
TYPE=t_eq_script

ON=@Create
MORE=30
TIMER=2

ON=@Timer
MORE=<MORE>-1
IF <MORE><1
REMOVE
RETURN 1
ENDIF

LINK.NEWITEM=03779
LINK.ACT.COLOR=0790
LINK.ACT.ATTR=attr_decay
LINK.ACT.TIMER=2
LINK.ACT.P=<LINK.P>
IF <LINK.MANA>>10
LINK.MANA=<LINK.MANA>-10
ELSE
LINK.MANA=0
ENDIF
TIMER=2
RETURN 1


[ITEMDEF ispell_10]
// Encrust
ID=i_memory
NAME=Muli Xyr
TYPE=t_eq_script

ON=@Create
MORE=8

ON=@Dclick
TARGET Select target armor.
RETURN 1

ON=@Targon_item
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGET
RETURN 1
ENDIF
IF
<SRC.TARG.REGION.GUARDED>||<SRC.REGION.GUARDED>||!<SRC.REGION.MAGIC>
SRC.SYSMESSAGE Sorry you cannot cast this in a
guarded area.
REMOVE
RETURN 1
ENDIF

IF <SRC.TARG.TYPE>!=t_armor
SRC.SYSMESSAGE That is not armor!
REMOVE
RETURN 1
ENDIF
SRC.TARG.HITPOINTS=1
SRC.TARG.COLOR=0794
SRC.TARG.NAME=encrusted <SRC.TARG.NAME>
IF <SRC.TARG.CONT.DEX>
SRC.TARG.CONT.SYSMESSAGE Your armor has been severely
weakened by <SRC.NAME>.
SRC.NEWITEM=i_fx_sparkle
SRC.ACT.ATTR=attr_decay|010
SRC.ACT.TIMER=2
SRC.ACT.COLOR=0794
SRC.ACT.P=<SRC.TARG.CONT.P>
ENDIF
SRC.TARG.UPDATE
REMOVE
RETURN 1

[ITEMDEF ispell_9]
// Water Breathing
ID=i_memory
NAME=Del Vex
TYPE=t_eq_script

ON=@Create
MORE=10

ON=@Dclick
TIMER=10
LINK=<SRC.UID>
RETURN 1

ON=@Timer
IF <LINK.TAG.WATERBOMBED>
LINK.MOVE 1 1 10
LINK.FLAGS=<LINK.FLAGS>&~04
ENDIF
REMOVE
RETURN 1

[ITEMDEF ispell_8]
// Firebreath
ID=i_memory
NAME=Haum Eam
TYPE=t_eq_script

ON=@Create
MORE=8

ON=@Dclick
LINK=<SRC.UID>
TIMER=8
MORE2=0
RETURN 1

ON=@Timer
IF (<MORE2>==1)
LINK.TAG.FIREBREATHING=0
REMOVE
ELSE
LINK.EFFECT 3,0375a,1,16,0
LINK.TAG.FIREBREATHING=1
TIMER=30
MORE2=1
RETURN 1
ENDIF
RETURN 1

[ITEMDEF ispell_7]
// Water Bomb
ID=i_memory
NAME=Yae Vex
TYPE=t_eq_script

ON=@Create
MORE=5

ON=@Dclick
TARGET Select target.
RETURN 1

ON=@Targon_char
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGET
RETURN 1
ENDIF
IF
<SRC.TARG.REGION.GUARDED>||<SRC.REGION.GUARDED>||!<SRC.REGION.MAGIC>
SRC.SYSMESSAGE Sorry you cannot cast this in a
guarded area.
REMOVE
RETURN 1
ENDIF

SRC.NEWITEM=ispell_7_water_sparkle
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.MORE=017a6
SRC.ACT.MOVE -1 -1
SRC.NEWITEM=ispell_7_water_sparkle
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.MORE=017a3
SRC.ACT.MOVE -1 0
SRC.NEWITEM=ispell_7_water_sparkle
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.MORE=017a8
SRC.ACT.MOVE -1 1
SRC.NEWITEM=ispell_7_water_sparkle
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.MORE=0179f
SRC.ACT.MOVE 0 -1
SRC.NEWITEM=ispell_7_water_sparkle
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.MORE=0179b
SRC.ACT.MOVE 0 0
SRC.NEWITEM=ispell_7_water_sparkle
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.MORE=017a1
SRC.ACT.MOVE 0 1
SRC.NEWITEM=ispell_7_water_sparkle
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.MORE=017a5
SRC.ACT.MOVE 1 -1
SRC.NEWITEM=ispell_7_water_sparkle
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.MORE=0179d
SRC.ACT.MOVE 1 0
SRC.NEWITEM=ispell_7_water_sparkle
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.MORE=017a7
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.MOVE 1 1
REMOVE
RETURN 1

[ITEMDEF ispell_7_water_sparkle]
ID=i_fx_sparkle
NAME=water sparkle

ON=@Create
ATTR=attr_decay|010
COLOR=079B
TIMER=2
MORE2=0

ON=@Timer
LINK.NEWITEM=<MORE>
LINK.ACT.P=<P>
LINK.ACT.ATTR=attr_decay|010
LINK.ACT.TIMER=70
LINK.ACT.TYPE=t_7_water
LINK.ACT.MORE2=<MORE2>
REMOVE
RETURN 1

ON=@Step
IF !<MORE2>
SRC.Z=<SRC.Z>-10
SRC.TAG.WATERBOMBED=1
SRC.FLAGS=<SRC.FLAGS>|04
MORE2=<SRC.UID>
ENDIF

[TYPEDEF t_7_water]
ON=@Timer
IF <MORE2>
LINK=<MORE2>
LINK.TAG.WATERBOMBED=0
LINK.FLAGS=<LINK.FLAGS>&~04
LINK.Z=<LINK.Z>+10
ENDIF
REMOVE
RETURN 1


[ITEMDEF ispell_6]
// Reverse Polarity
ID=i_memory
NAME=Muli Ala Rel
TYPE=t_eq_script

ON=@Create
MORE=5

ON=@Dclick
LINK=<SRC.UID>
TIMER=5
RETURN 1

ON=@Timer
LINK.EFFECT 3,03778,1,15,0
LINK.EVENTS +e_ispell_6
LINK.NEWITEM=ispell_6_delay
LINK.ACT.P=<LINK.P>
LINK.ACT.TIMER=<LINK.NECROMANCY>/10
LINK.ACT.LINK=<LINK>
REMOVE
RETURN 1

[ITEMDEF ispell_6_delay]
ID=i_memory
TYPE=t_eq_script

ON=@Create
ATTR=attr_decay

ON=@Timer
LINK.EVENTS -e_ispell_6
LINK.EFFECT 3,03778,1,15,0
REMOVE
RETURN 1

[EVENTS e_ispell_6]
ON=@GetHit
IF <SRC.BRAIN>
RETURN 0
ENDIF

IF <SRC.STR>><STR>
VAR.RDAMAGE=<EVAL <SRC.STR>-<STR>>
ELSE
VAR.RDAMAGE=<EVAL <STR>-<SRC.STR>>
ENDIF

SRC.DAMAGE <VAR.RDAMAGE>
SRC.EFFECT 3,03778,1,15,0
RETURN 1

[ITEMDEF ispell_5]
// Roulette Spell
ID=i_memory
NAME=Del Kur
TYPE=t_eq_script

ON=@Create
MORE=2

ON=@Dclick
TARGET Select target.
RETURN 1

ON=@Targon_char
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting before
selecting a target!
TARGET
RETURN 1
ENDIF
IF
<SRC.TARG.REGION.GUARDED>||<SRC.REGION.GUARDED>||!<SRC.REGION.MAGIC>
SRC.SYSMESSAGE Sorry you cannot cast this in a
guarded area.
REMOVE
RETURN 1
ENDIF

SRC.NEWITEM=ispell_5_death
SRC.ACT.P=<SRC.P>
SRC.ACT.LINK=<SRC.TARG.UID>
SRC.TARG.SYSMESSAGE You have been cursed! Get to a
safe area because you will DIE in 30 seconds!
REMOVE
RETURN 1

[ITEMDEF ispell_5_death]
ID=i_memory
NAME=Spell 5 Delay

ON=@Create
TIMER=1
MORE=30

ON=@Timer
LINK.EFFECT 3,037c4,1,9,0
TIMER=1
LINK.SAY <MORE>
MORE=<MORE>-1
IF <MORE>==0
LINK.HITPOINTS=0
REMOVE
ENDIF
RETURN 1


[ITEMDEF ispell_4]
// Ragnarok Spell
NAME=Cyl Eam Bau
ID=i_memory
TYPE=t_eq_script

ON=@Create
MORE=15

ON=@Dclick
TARGET Select victim.
MORE2=1
RETURN 1

ON=@Targon_char
IF
<SRC.TARG.REGION.GUARDED>||<SRC.REGION.GUARDED>||!<SRC.REGION.MAGIC>
SRC.SYSMESSAGE Sorry you cannot cast this in a
guarded area.
REMOVE
RETURN 1
ENDIF

IF <MORE2>==1// Initial condition, fire burst
SRC.NEWITEM=ispell_4_fire1
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.ATTR=attr_decay|010
SRC.ACT.TIMER=30
SRC.ACT.COLOR={ 0 4 077a 1 }
SRC.ACT.MOVE -3 -2
SRC.NEWITEM=ispell_4_fire1
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.ATTR=attr_decay|010
SRC.ACT.TIMER=30
SRC.ACT.COLOR={ 0 4 077a 1 }
SRC.ACT.MOVE -2 -3
SRC.NEWITEM=ispell_4_fire1
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.ATTR=attr_decay|010
SRC.ACT.TIMER=30
SRC.ACT.COLOR={ 0 4 077a 1 }
SRC.ACT.MOVE -1 -2
SRC.NEWITEM=ispell_4_fire1
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.ATTR=attr_decay|010
SRC.ACT.TIMER=30
SRC.ACT.COLOR={ 0 4 077a 1 }
SRC.ACT.MOVE 0 -3
SRC.NEWITEM=ispell_4_fire1
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.ATTR=attr_decay|010
SRC.ACT.TIMER=30
SRC.ACT.COLOR={ 0 4 077a 1 }
SRC.ACT.MOVE 1 -2
SRC.NEWITEM=ispell_4_fire1
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.ATTR=attr_decay|010
SRC.ACT.TIMER=30
SRC.ACT.COLOR={ 0 4 077a 1 }
SRC.ACT.MOVE 2 -3
SRC.NEWITEM=ispell_4_fire1
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.ATTR=attr_decay|010
SRC.ACT.TIMER=30
SRC.ACT.COLOR={ 0 4 077a 1 }
SRC.ACT.MOVE 3 -2
SRC.NEWITEM=ispell_4_fire1
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.ATTR=attr_decay|010
SRC.ACT.TIMER=30
SRC.ACT.COLOR={ 0 4 077a 1 }
SRC.ACT.MOVE 0 1

MORE2=2
TIMER=2
LINK=<SRC.TARG.UID>
RETURN 1
ENDIF


ON=@Timer
IF <MORE2>==2
LINK.FLAGS=<LINK.FLAGS>|04

LINK.NEWITEM=ispell_4_lava
LINK.ACT.LINK=<LINK>
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -1 -1
LINK.NEWITEM=ispell_4_lava
LINK.ACT.LINK=<LINK>
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 0 -1
LINK.NEWITEM=ispell_4_lava
LINK.ACT.LINK=<LINK>
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 1 -1
LINK.NEWITEM=ispell_4_lava
LINK.ACT.LINK=<LINK>
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 1 0
LINK.NEWITEM=ispell_4_lava
LINK.ACT.LINK=<LINK>
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -1 0
LINK.NEWITEM=ispell_4_lava
LINK.ACT.LINK=<LINK>
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -1 1
LINK.NEWITEM=ispell_4_lava
LINK.ACT.LINK=<LINK>
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 0 1
LINK.NEWITEM=ispell_4_lava
LINK.ACT.LINK=<LINK>
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 1 1


LINK.NEWITEM=0131e//
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 -1
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010
LINK.NEWITEM=01321
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 0
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010
LINK.NEWITEM=0131e//
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 1
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010

LINK.NEWITEM=01326
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 2
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010

LINK.NEWITEM=01333
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -1 2
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010
LINK.NEWITEM=01333
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 0 2
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010
LINK.NEWITEM=01333
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 1 2
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010

LINK.NEWITEM=01345
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 2
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010

LINK.NEWITEM=01339
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -1 -2
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010
LINK.NEWITEM=01339
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 0 -2
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010
LINK.NEWITEM=01339
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 1 -2
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010

LINK.NEWITEM=0132c
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 -2
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010

LINK.NEWITEM=01348
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 -2
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010

LINK.NEWITEM=01342
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 -1
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010
LINK.NEWITEM=01342
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 0
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010
LINK.NEWITEM=01342
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 1
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010

LINK.NEWITEM=ispell_4_sparkle1
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 -2
LINK.ACT.LINK=<LINK.UID>
LINK.NEWITEM=ispell_4_sparkle1
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 0 -2
LINK.ACT.LINK=<LINK.UID>
LINK.NEWITEM=ispell_4_sparkle1
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 -2
LINK.ACT.LINK=<LINK.UID>


ENDIF

REMOVE
RETURN 1

[ITEMDEF ispell_4_sparkle1]
ID=037c4
TYPE=t_normal

ON=@Create
attr=attr_decay|010
TIMER=20

ON=@Timer
LINK.EFFECT 1,0,0,0,0
EFFECT 1,0,0,0,0
LINK.DAMAGE {15 20}
LINK.NEWITEM=ispell_4_fire1
LINK.ACT.LINK=<LINK>
LINK.ACT.P=<P>
REMOVE
RETURN 1

[ITEMDEF ispell_4_fire1]
ID=03709
TYPE=t_fire

ON=@Create
TIMER=1
MORE2=0
ATTR=attr_decay|010

ON=@Step
SRC.DAMAGE {40 50}
RETURN 1

ON=@Timer
IF (<MORE>==8)&&(!<MORE2> )
MORE2=1
TIMER=4
RETURN 1
ENDIF
IF <MORE2>==0
LINK.NEWITEM=ispell_4_fire1
LINK.ACT.P=<P>
LINK.ACT.MOVE 0 1
LINK.ACT.LINK=<LINK>
LINK.ACT.MORE=<MORE>+1
MORE2=1
TIMER=4
ELSE
REMOVE
ENDIF
RETURN 1

[ITEMDEF ispell_4_lava]
ID=012ee
TYPE=t_fire

ON=@Create
TIMER=2

ON=@Step
SRC.EFFECT 3,03709,1,12,0
SRC.DAMAGE {10 20}
RETURN 1

ON=@Timer
IF <COLOR>==0
COLOR=077a
ELSE
COLOR=0
ENDIF
UPDATE
MORE2=<MORE2>+1
IF <MORE2>==16
//LINK.NEWITEM=ispell_4_fire1
//LINK.ACT.LINK=<LINK>
//LINK.ACT.P=<P>
//LINK.ACT.MORE=4
REMOVE
ENDIF
TIMER=2
RETURN 1

[ITEMDEF ispell_1]
// Scald Spell
NAME=Eam Rel
ID=i_memory
TYPE=t_eq_script

ON=@Create
MORE=4// 2 second delay

ON=@Dclick
TARGET Select Target.
RETURN 1

ON=@Targon_Char
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the spell
before selecting a target.
TARGET
RETURN 1
ENDIF
IF
<SRC.TARG.REGION.GUARDED>||<SRC.REGION.GUARDED>||!<SRC.REGION.MAGIC>
SRC.SYSMESSAGE Sorry you cannot cast this in a
guarded area.
REMOVE
RETURN 1
ENDIF
VAR.DAMAGE1=10
VAR.DAMAGE2=20
SRC.TARG.DAMAGE <EVAL {<VAR.DAMAGE1> <VAR.DAMAGE2>}>
SRC.NEWITEM=03709
SRC.ACT.TIMER=2
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.MOVE -1 -1
SRC.ACT.ATTR=attr_decay|010
SRC.NEWITEM=03709
SRC.ACT.TIMER=2
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.MOVE 1 1
SRC.ACT.ATTR=attr_decay|010
SRC.NEWITEM=03709
SRC.ACT.TIMER=2
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.ATTR=attr_decay|010
SRC.ACT.COLOR=077a
REMOVE
RETURN 1


[ITEMDEF ispell_2]
// Whither Spell
NAME=Cyl Kur Eam
ID=i_memory
TYPE=t_eq_script

ON=@Create
MORE=4// 4 second delay

ON=@Dclick
TARGET Select Target.
RETURN 1

ON=@Targon_Char
IF (!<SRC.TARGET.CANSEELOS> )
SRC.SYSMESSAGE Too bad!
ENDIF
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the spell
before selecting a target.
TARGET
RETURN 1
ENDIF
IF
<SRC.TARG.REGION.GUARDED>||<SRC.REGION.GUARDED>||!<SRC.REGION.MAGIC>
SRC.SYSMESSAGE Sorry you cannot cast this in a
guarded area.
REMOVE
RETURN 1
ENDIF

VAR.DAMAGE1=25
VAR.DAMAGE2=35
SRC.TARG.DAMAGE <EVAL {<VAR.DAMAGE1> <VAR.DAMAGE2>}>
SRC.TARG.NEWITEM=03709
SRC.TARG.ACT.TIMER=2
SRC.TARG.ACT.P=<SRC.TARG.P>
SRC.TARG.ACT.ATTR=attr_decay|010
SRC.TARG.ACT.MOVE -1 -1
SRC.TARG.NEWITEM=03709
SRC.TARG.ACT.TIMER=2
SRC.TARG.ACT.P=<SRC.TARG.P>
SRC.TARG.ACT.ATTR=attr_decay|010
SRC.TARG.ACT.MOVE -1 0
SRC.TARG.NEWITEM=03709
SRC.TARG.ACT.TIMER=2
SRC.TARG.ACT.P=<SRC.TARG.P>
SRC.TARG.ACT.ATTR=attr_decay|010
SRC.TARG.ACT.MOVE -1 1
SRC.TARG.NEWITEM=03709
SRC.TARG.ACT.TIMER=2
SRC.TARG.ACT.P=<SRC.TARG.P>
SRC.TARG.ACT.ATTR=attr_decay|010
SRC.TARG.ACT.MOVE 0 -1
SRC.TARG.NEWITEM=03709
SRC.TARG.ACT.TIMER=2
SRC.TARG.ACT.P=<SRC.TARG.P>
SRC.TARG.ACT.ATTR=attr_decay|010
SRC.TARG.ACT.MOVE 0 1
SRC.TARG.NEWITEM=03709
SRC.TARG.ACT.TIMER=2
SRC.TARG.ACT.P=<SRC.TARG.P>
SRC.TARG.ACT.ATTR=attr_decay|010
SRC.TARG.ACT.MOVE 1 -1
SRC.TARG.NEWITEM=03709
SRC.TARG.ACT.TIMER=2
SRC.TARG.ACT.P=<SRC.TARG.P>
SRC.TARG.ACT.ATTR=attr_decay|010
SRC.TARG.ACT.MOVE 1 0
SRC.TARG.NEWITEM=03709
SRC.TARG.ACT.TIMER=2
SRC.TARG.ACT.P=<SRC.TARG.P>
SRC.TARG.ACT.ATTR=attr_decay|010
SRC.TARG.ACT.MOVE 1 1
REMOVE

RETURN 1



[ITEMDEF ispell_3]
// Frostbite Spell
NAME=Yae Fie Bau
ID=i_memory
TYPE=t_eq_script

ON=@Create
MORE=2

ON=@Dclick
TARGET Select Target.
RETURN 1

ON=@Targon_Char
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the spell
before selecting a target.
TARGET
RETURN 1
ENDIF
IF
<SRC.TARG.REGION.GUARDED>||<SRC.REGION.GUARDED>||!<SRC.REGION.MAGIC>
SRC.SYSMESSAGE Sorry you cannot cast this in a
guarded area.
REMOVE
RETURN 1
ENDIF

VAR.DAMAGE1=<EVAL <SRC.NECROMANCY>/15>
VAR.DAMAGE2=<EVAL <VAR.DAMAGE1>+10>
SRC.TARG.DAMAGE <EVAL {<VAR.DAMAGE1> <VAR.DAMAGE2>}>
SRC.TARG.EFFECT 0,03818,12,1,0
SRC.TARG.NEWITEM=03709
SRC.TARG.ACT.TIMER=2
SRC.TARG.ACT.ATTR=attr_decay|010
SRC.TARG.ACT.P=<SRC.TARG.P>
SRC.TARG.ACT.COLOR=0480
REMOVE
RETURN 1















[FUNCTION spell]
IF (<ARGN>>54)||(<ARGN><0)
SRC.SYSMESSAGE That is not a valid spell number
RETURN 1
ENDIF
IF (<ARGN>==21)
SRC.SYSMESSAGE Spell 21 doesn't exist, sorry.
RETURN 1
ENDIF
IF (<SRC.REGION.GUARDED> )&&(!<SRC.ISGM> )
SRC.MESSAGE I cannot cast a necromantic spell in a
guarded area!
RETURN 1
ENDIF
IF <SRC.TAG.SCASTING>
SRC.MESSAGE You may only cast one spell at a time!
RETURN 1
ENDIF
VAR.FACINGX=<SRC.DIR>
SRC.NEWITEM=ispell_<argn>
SRC.ACT.P=<SRC.P>
SRC.ACT.MOVE <EVAL RAND(7)-3> <EVAL RAND(7)-3>
SRC.FONT 8
SRC.SAY <SRC.ACT.NAME>
SRC.FONT 3
VAR.SPELLITEM=<SRC.ACT.UID>
VAR.FIZZLED=<EVAL {0 1}>
SRC.SPELL_DELAY <SRC.ACT.MORE>
IF <VAR.FIZZLED>// Fizzle or not
SRC.SPELL_FIZZLE <SRC.ACT.MORE>
SRC.TAG.FIZZLED=1
SRC.TAG.SCASTING=1
UID.SPELLITEM.REMOVE
SRC.DIR=<VAR.FACINGX>
SRC.UPDATE
RETURN 1
ENDIF
UID.SPELLITEM.USE
SRC.DIR=<VAR.FACINGX>
SRC.UPDATE
RETURN 1

[FUNCTION spell_fizzle]
SRC.NEWITEM=i_spell_delay
SRC.ACT.P=<SRC.P>
SRC.ACT.MORE=<EVAL <ARGN>>
SRC.ACT.LINK=<SRC.UID>

[FUNCTION spell_delay]
SRC.NEWITEM=i_spell_delay
SRC.ACT.P=<SRC.P>
SRC.ACT.MOVE <EVAL RAND(7)-3> <EVAL RAND(7)-3>
SRC.ACT.MORE=<EVAL <ARGN>>
SRC.ACT.LINK=<SRC.UID>
VAR.SPELLITEM2=<SRC.ACT.UID>
SRC.TAG.SCASTING=1
SRC.NEWITEM=i_spell_decay
SRC.ACT.LINK=<EVAL <VAR.SPELLITEM>>
SRC.ACT.P=<SRC.P>
SRC.ACT.MOVE <EVAL RAND(7)-3> <EVAL RAND(7)-3>

[ITEMDEF i_spell_decay]
ID=i_memory
TYPE=t_script

ON=@Create
TIMER=300

ON=@Timer
LINK.REMOVE
REMOVE
RETURN 1

// Spells 16 through 32


//A Ala Life B Bau Death
C Cyl Great
//D Del Remove E Eam Fire
F Fie Ice
//G Grav Field H Haum Earth
I Iln Air
//K Kur Spirit M Muli Stop
P Pul Power
//R Rel Movement T Tym
Lightning U Ulm Stone
//V Vex Water X Xyr Object
Y Yae Bestow
//Q Quan Control N Nor Anger
OOckOpposite of
//Z ZoamPoisonLLamsChange


[ITEMDEF ispell_29]
// Flood
ID=i_memory
NAME=Cyl Vex Rel
TYPE=t_eq_script

ON=@Create
MORE=7

ON=@Dclick
TIMER=7
LINK=<SRC.UID>
RETURN 1

ON=@Timer
LINK.NEWITEM=ispell_29_wave1// 01fa3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 -2
LINK.NEWITEM=ispell_29_wave1// 01fa3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 -1
LINK.NEWITEM=ispell_29_wave1// 01fa3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 -2
LINK.NEWITEM=ispell_29_wave1// 01fa3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -1 -1
LINK.NEWITEM=ispell_29_wave1// 01fa3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 1 -1
LINK.NEWITEM=ispell_29_wave1// 01fa3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 -1
LINK.NEWITEM=ispell_29_wave1// 01fa3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 0 -1
LINK.NEWITEM=ispell_29_wave1// 01fa3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 0 -2
LINK.NEWITEM=ispell_29_wave1// 01fa3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 -1

LINK.NEWITEM=ispell_29_wave2// 01fa8
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 -3
LINK.NEWITEM=ispell_29_wave2// 01fa8
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -1 1
LINK.NEWITEM=ispell_29_wave2// 01fa8
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -1 -2
LINK.NEWITEM=ispell_29_wave2// 01fa8
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -1 0
LINK.NEWITEM=ispell_29_wave2// 01fa8
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 -2
LINK.NEWITEM=ispell_29_wave2// 01fa8
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 -1
LINK.NEWITEM=ispell_29_wave2// 01fa8
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 0
LINK.NEWITEM=ispell_29_wave2// 01fa8
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 2
LINK.NEWITEM=ispell_29_wave2// 01fa8
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 1

LINK.NEWITEM=ispell_29_wave3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 -2
LINK.NEWITEM=ispell_29_wave3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 -1
LINK.NEWITEM=ispell_29_wave3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 0
LINK.NEWITEM=ispell_29_wave3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 1
LINK.NEWITEM=ispell_29_wave3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 2
LINK.NEWITEM=ispell_29_wave3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 1 1
LINK.NEWITEM=ispell_29_wave3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 1 0
LINK.NEWITEM=ispell_29_wave3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 1 -2
LINK.NEWITEM=ispell_29_wave3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 1 -1

LINK.NEWITEM=ispell_29_wave4
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 1
LINK.NEWITEM=ispell_29_wave4
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 1
LINK.NEWITEM=ispell_29_wave4
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 2
LINK.NEWITEM=ispell_29_wave4
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -1 2
LINK.NEWITEM=ispell_29_wave4
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -1 1
LINK.NEWITEM=ispell_29_wave4
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 0 2
LINK.NEWITEM=ispell_29_wave4
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 0 1
LINK.NEWITEM=ispell_29_wave4
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 1 2
LINK.NEWITEM=ispell_29_wave4
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 2


REMOVE
RETURN 1

[ITEMDEF ispell_29_wave1]
ID=01fb7

ON=@Create
TIMER=1
MORE2=6

ON=@Timer
MOVE 0 -1
MORE2=<MORE2>-1
IF <MORE2>==0
REMOVE
ENDIF
TIMER=1
RETURN 1

ON=@Step
SRC.DAMAGE {10 28}
RETURN 0

[ITEMDEF ispell_29_wave2]
ID=01fbc

ON=@Create
TIMER=1
MORE2=6

ON=@Timer
MOVE -1 0
MORE2=<MORE2>-1
IF <MORE2>==0
REMOVE
ENDIF
TIMER=1
RETURN 1

ON=@Step
SRC.DAMAGE {10 28}
RETURN 0

[ITEMDEF ispell_29_wave3]
ID=01fc1

ON=@Create
TIMER=1
MORE2=6

ON=@Timer
MOVE 1 0
MORE2=<MORE2>-1
IF <MORE2>==0
REMOVE
ENDIF
TIMER=1
RETURN 1

ON=@Step
SRC.DAMAGE {10 28}
RETURN 0


[ITEMDEF ispell_29_wave4]
ID=01fc6

ON=@Create
TIMER=1
MORE2=6

ON=@Timer
MOVE 0 1
MORE2=<MORE2>-1
IF <MORE2>==0
REMOVE
ENDIF
TIMER=1
RETURN 1

ON=@Step
SRC.DAMAGE {10 28}
RETURN 0



[ITEMDEF ispell_28]
// Flashfire
ID=i_memory
NAME=Rel Pul Eam
TYPE=t_eq_script

ON=@Create
MORE=2

ON=@Dclick
TIMER=2
LINK=<SRC.UID>
RETURN 1

ON=@Timer
IF <LINK.DIR>==0
VAR.XMOVE=0
VAR.YMOVE=-2
ELIF <LINK.DIR>==4
VAR.XMOVE=0
VAR.YMOVE=2
ELIF <LINK.DIR>==6
VAR.XMOVE=-2
VAR.YMOVE=0
ELIF <LINK.DIR>==2
VAR.XMOVE=2
VAR.YMOVE=0
ELSE
LINK.SYSMESSAGE Try turning north, east, south or west
when casting this spell!
REMOVE
RETURN 1
ENDIF

IF <VAR.YMOVE>
LINK.NEWITEM=ispell_28_fire1
LINK.ACT.P=<LINK.P>
LINK.ACT.TAG.MORE=<VAR.YMOVE>
LINK.ACT.LINK=<LINK>
LINK.ACT.MOVE -2 <VAR.YMOVE>
LINK.NEWITEM=ispell_28_fire1
LINK.ACT.P=<LINK.P>
LINK.ACT.TAG.MORE=<VAR.YMOVE>
LINK.ACT.LINK=<LINK>
LINK.ACT.MOVE -1 <VAR.YMOVE>
LINK.NEWITEM=ispell_28_fire1
LINK.ACT.P=<LINK.P>
LINK.ACT.TAG.MORE=<VAR.YMOVE>
LINK.ACT.LINK=<LINK>
LINK.ACT.MOVE 0 <VAR.YMOVE>
LINK.NEWITEM=ispell_28_fire1
LINK.ACT.P=<LINK.P>
LINK.ACT.LINK=<LINK>
LINK.ACT.TAG.MORE=<VAR.YMOVE>
LINK.ACT.MOVE 1 <VAR.YMOVE>
LINK.NEWITEM=ispell_28_fire1
LINK.ACT.P=<LINK.P>
LINK.ACT.TAG.MORE=<VAR.YMOVE>
LINK.ACT.LINK=<LINK>
LINK.ACT.MOVE 2 <VAR.YMOVE>
REMOVE
RETURN 1
ENDIF

IF <VAR.XMOVE>
LINK.NEWITEM=ispell_28_fire2
LINK.ACT.LINK=<LINK>
LINK.ACT.TAG.MORE=<VAR.XMOVE>
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE <VAR.XMOVE> -2
LINK.NEWITEM=ispell_28_fire2
LINK.ACT.P=<LINK.P>
LINK.ACT.LINK=<LINK>
LINK.ACT.TAG.MORE=<VAR.XMOVE>
LINK.ACT.MOVE <VAR.XMOVE> -1
LINK.NEWITEM=ispell_28_fire2
LINK.ACT.P=<LINK.P>
LINK.ACT.LINK=<LINK>
LINK.ACT.TAG.MORE=<VAR.XMOVE>
LINK.ACT.MOVE <VAR.XMOVE> 0
LINK.NEWITEM=ispell_28_fire2
LINK.ACT.P=<LINK.P>
LINK.ACT.LINK=<LINK>
LINK.ACT.TAG.MORE=<VAR.XMOVE>
LINK.ACT.MOVE <VAR.XMOVE> 1
LINK.NEWITEM=ispell_28_fire2
LINK.ACT.P=<LINK.P>
LINK.ACT.LINK=<LINK>
LINK.ACT.TAG.MORE=<VAR.XMOVE>
LINK.ACT.MOVE <VAR.XMOVE> 2
REMOVE
RETURN 1
ENDIF

REMOVE
RETURN 1

[ITEMDEF ispell_28_fire1]
ID=0398c
NAME=flashfire
TYPE=t_script

ON=@Create
TIMER=3
COLOR=0799
MORE2=0

ON=@Timer
MOVE 0 <EVAL <TAG.MORE>/2>
IF <REGION.GUARDED>
REMOVE
ENDIF
MORE2=<MORE2>+1
LINK.NEWITEM=ispell_28_lava
LINK.ACT.P=<P>
IF <MORE2>==10
REMOVE
ELSE
TIMER=1
ENDIF
RETURN 1

ON=@Step
SRC.DAMAGE {25 50}
RETURN 0


[ITEMDEF ispell_28_fire2]
ID=03996
NAME=flashfire
TYPE=t_script

ON=@Create
TIMER=3
COLOR=0799
MORE2=0

ON=@Timer
MOVE <EVAL <TAG.MORE>/2> 0
IF <REGION.GUARDED>
REMOVE
ENDIF
MORE2=<MORE2>+1
LINK.NEWITEM=ispell_28_lava
LINK.ACT.P=<P>
IF <MORE2>==10
REMOVE
ELSE
TIMER=1
ENDIF
RETURN 1

ON=@Step
SRC.DAMAGE {25 50}
RETURN 0

[ITEMDEF ispell_28_lava]
ID=012ee
TYPE=t_normal
NAME=molten landscape

ON=@Create
ATTR=attr_decay|010
TIMER=9

ON=@Step
SRC.DAMAGE={10 20}
RETURN 1


[ITEMDEF ispell_27]
// Fission
ID=i_memory
NAME=Pul Rel Xyr
TYPE=t_eq_script

ON=@Create
MORE=13

ON=@Dclick
TARGET Select target item.
RETURN 1

ON=@Targon_item
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGET
RETURN 1
ENDIF
VAR.VALUE=<SRC.TARG.TYPEDEF.VALUE>
IF <VAR.VALUE><9
SRC.SYSMESSAGE This item cannot be combusted.
REMOVE
RETURN 1
ENDIF
SRC.TARG.REMOVE
SRC.HITPOINTS=<SRC.HITPOINTS>+<VAR.VALUE>
IF <SRC.HITPOINTS>><SRC.STR>
SRC.HITPOINTS=<SRC.STR>
ENDIF
REMOVE
RETURN 1


[ITEMDEF ispell_26]
// Unstable Mutation
ID=i_memory
NAME=Cyl Lams Xyr
TYPE=t_eq_script

ON=@Create
MORE=11

ON=@Dclick
TARGET Select target.
RETURN 1

ON=@Targon_Char
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGET
RETURN 1
ENDIF
SRC.TARG.EFFECT 3,i_fx_curse,16,16,0
SRC.TARG.TAG.OSTR=<SRC.TARG.STR>
SRC.TARG.TAG.OKARMA=<SRC.TARG.KARMA>
SRC.NEWITEM=ispell_26_delay
SRC.ACT.LINK=<SRC.TARG.UID>
SRC.ACT.P=<SRC.TARG.P>

REMOVE
RETURN 1

[ITEMDEF ispell_26_delay]
ID=i_memory
TYPE=t_script

ON=@Create
TIMER=10
MORE2=15

ON=@Timer
MORE2=<MORE2>-1
IF <MORE2>==0
LINK.BODY=<LINK.OBODY>
LINK.COLOR=<LINK.OCOLOR>
LINK.STR=<LINK.TAG.OSTR>
LINK.KARMA=<LINK.TAG.OKARMA>
REMOVE
RETURN 1
ELSE
VAR.NEWBODY={ c_rabbit 1 c_bird 1 0c 1 c_ettin 1
c_ogre 1 c_troll 1 c_horse_gray 1 c_skeleton 1
c_zombie 1 c_dog 1 c_cat 1 }
VAR.NEWCOLOR={ 0775 07b0 }
LINK.BODY=<EVAL <VAR.NEWBODY>>
LINK.COLOR=<EVAL <VAR.NEWCOLOR>>
ENDIF
TIMER=10
RETURN 1


[ITEMDEF ispell_25]
// Winds of Change
ID=i_memory
NAME=Lams Xyr
TYPE=t_eq_script

ON=@Create
MORE=12

ON=@Dclick
TARGET Select Target.
RETURN 1

ON=@Targon_char
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGET
RETURN 1
ENDIF
VAR.NEWBODY={ c_rabbit 1 c_bird 1 c_dragon 1 c_ettin 1
c_ogre 1 c_troll 1 c_horse_grey 1 c_skeleton 1
c_zombie 1 c_dog 1 c_cat 1 }
VAR.NEWCOLOR={ 0775 07b0 }
VAR.RANDOMVAL=<EVAL RAND(3)>

IF <VAR.RANDOMVAL>!=1
SRC.SYSMESSAGE Your spell fails and you anger the
creature.
SRC.TARG.ATTACK
REMOVE
RETURN 1
ENDIF

SRC.TARG.BODY=<EVAL <VAR.NEWBODY>>
SRC.TARG.NEWCOLOR=<EVAL <VAR.NEWCOLOR>>

REMOVE
RETURN 1


[ITEMDEF ispell_24]
// Manabarb
ID=i_memory
NAME=Bau Pul
TYPE=t_eq_script

ON=@Create
MORE=9

ON=@Dclick
TARGET Select target.
RETURN 1

ON=@Targon_char
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGET
RETURN 1
ENDIF
SRC.TARG.EFFECT 3,i_fx_curse,16,16,0
SRC.TARG.EFFECT 3,i_fx_curse,16,16,0
SRC.TARG.EFFECT 3,i_fx_curse,16,16,0
SRC.NEWITEM=i_fx_sparkle
SRC.ACT.ATTR=attr_decay
SRC.ACT.TIMER=2
SRC.ACT.COLOR=0785
SRC.ACT.P=<SRC.TARG.P>
SRC.TARG.EVENTS +e_manabarb
SRC.NEWITEM=ispell_24_delay
SRC.ACT.LINK=<SRC.TARG.UID>
SRC.ACT.P=<SRC.TARG.P>
REMOVE
RETURN 1

[ITEMDEF ispell_24_delay]
ID=i_memory
TYPE=t_script

ON=@Create
ATTR=attr_decay|010
TIMER=150

ON=@Timer
LINK.EFFECT 3,i_fx_sparkle,16,16,0
LINK.EVENTS -e_manabarb
REMOVE
RETURN 1

[EVENTS e_manabarb]
ON=@SpellCast
VAR.TEMP=<EVAL <argn>/8>+1
DAMAGE <EVAL <VAR.TEMP>*5>
EFFECT 3,i_fx_curse,16,16,0
RETURN 0


[ITEMDEF ispell_23]
// Holy
ID=i_memory
NAME=Del Ock Ala
TYPE=t_eq_script

ON=@Create
MORE=15

ON=@Dclick
TARGET Select undead.
RETURN 1

ON=@Targon_char
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGET
RETURN 1
ENDIF
IF (<SRC.TARG.NPC>!=brain_undead)
SRC.SYSMESSAGE That is not undead!
REMOVE
RETURN 1
ENDIF
SRC.TARG.EFFECT 1,0,0,0,0
SRC.TARG.EFFECT 1,0,0,0,0
SRC.TARG.EFFECT 1,0,0,0,0
SRC.TARG.EFFECT 1,0,0,0,0
SRC.TARG.EFFECT 1,0,0,0,0
SRC.TARG.FLAGS=statf_conjured
SRC.TARG.KILL
REMOVE
RETURN 1

[ITEMDEF ispell_22]
// Particle Form
ID=i_memory
NAME=Iln Xyr
TYPE=t_eq_script

ON=@Create
MORE=3

ON=@Dclick
TIMER=3
LINK=<SRC.UID>
RETURN 1

ON=@Timer
IF <MORE2>==0
LINK.COLOR=01
LINK.TAG.PFORM=1
LINK.FLAGS=<LINK.FLAGS>|04
TIMER=20
LINK.EVENTS +e_particle
MORE2=1
RETURN 1
ELSE
LINK.TAG.PFORM=0
LINK.COLOR=<LINK.OCOLOR>
LINK.EVENTS -e_particle
LINK.FLAGS=<LINK.FLAGS>&~04
REMOVE
RETURN 1
ENDIF

[EVENTS e_particle]
ON=@itemDClick
RETURN 1

ON=@Hit
RETURN 1

ON=@GetHit
RETURN 1

ON=@SpellEffect
RETURN 1

ON=@SpellCast
SYSMESSAGE You cannot do this in particle form!
RETURN 1



[ITEMDEF ispell_20]
// Smoke
ID=i_memory
NAME=Rel Kur
TYPE=t_eq_script

ON=@Create
MORE=10
MORE2=0

ON=@Dclick
TIMER=10
LINK=<SRC.UID>
RETURN 1

ON=@Timer
IF <MORE2>
LINK.INVIS=0
REMOVE
RETURN 1
ELSE
LINK.NEWITEM=ispell_20_smoke
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -1 -1
LINK.NEWITEM=ispell_20_smoke
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 1 -1
LINK.NEWITEM=ispell_20_smoke
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -1 1
LINK.NEWITEM=ispell_20_smoke
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 1 1
LINK.INVIS=1
MORE2=1
TIMER=20
ENDIF

[ITEMDEF ispell_20_smoke]
ID=i_fx_smoke
NAME=smoke screen

ON=@Create
TIMER=20
COLOR=079e
ATTR=attr_decay|010


[ITEMDEF ispell_19]
// Pestilence
ID=i_memory
NAME=Yae Zoam
TYPE=t_eq_script

ON=@Create
MORE=9

ON=@Dclick
TARGET Select Target.
RETURN 1

ON=@Targon_char

IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGET
RETURN 1
ENDIF
SRC.TARG.SPELLEFFECT s_poison 10000
REMOVE
RETURN 1



[ITEMDEF ispell_18]
// Energy Flux
ID=i_memory
NAME=Ala Ock Kur
TYPE=t_eq_script

ON=@Create
MORE=10

ON=@DClick
TARGET Select Target
RETURN 1

ON=@Targon_Char
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGET
RETURN 1
ENDIF
SRC.NEWITEM=ispell_18_decay
SRC.ACT.LINK=<SRC.TARG.UID>
SRC.ACT.P=<SRC.TARG.P>
REMOVE
RETURN 1

[ITEMDEF ispell_18_decay]
ID=i_memory
TYPE=t_eq_script

ON=@Create
TIMER=1
MORE=130

ON=@Timer
MORE=<MORE>-1
IF <LINK.MANA>>5
LINK.MANA=<LINK.MANA>-5
ELSE
LINK.HITS=<LINK.HITS>-5
ENDIF
IF <MORE>==0
REMOVE
ELSE
TIMER=1
ENDIF
RETURN 1


[ITEMDEF ispell_17]
// Disintegrate
ID=i_memory
NAME=Ock Xyr
TYPE=t_eq_script

ON=@Create
MORE=12

ON=@Dclick
TARGET Select Target.
RETURN 1

ON=@Targon_char
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGET
RETURN 1
ENDIF
IF <SRC.TARG.STR>>200
SRC.SYSMESSAGE You cannot cast this on large
creatures.
RETURN 1
ENDIF
SRC.TARG.EVENTS +e_disintegrate_hit
SRC.NEWITEM=ispell_17_sparkle
SRC.ACT.LINK=<SRC.TARG.UID>
SRC.ACT.P=<SRC.TARG.P>
REMOVE
RETURN 1

[ITEMDEF ispell_17_sparkle]
ID=i_memory
TYPE=t_eq_script

ON=@Create
TIMER=1
MORE2=45

ON=@Timer
MORE2=<MORE2>-1
IF <MORE2>==0
LINK.EVENTS -e_disintegrate_hit
REMOVE
RETURN 1
ENDIF
LINK.EFFECT 3,i_fx_heal_effect,26,26,0
TIMER=1
RETURN 1

[EVENTS e_disintegrate_hit]
ON=@GetHit
SRC.KILL
EVENTS -e_disintegrate_hit
RETURN 0

// Spells 30 through 56

//A Ala Life B Bau Death
C Cyl Great
//D Del Remove E Eam Fire
F Fie Ice
//G Grav Field H Haum Earth
I Iln Air
//K Kur Spirit M Muli Stop
P Pul Power
//R Rel Movement T Tym
Lightning U Ulm Stone
//V Vex Water X Xyr Object
Y Yae Bestow
//Q Quan Control N Nor Anger
OOckOpposite of
//Z ZoamPoisonLLamsChange


[ITEMDEF ispell_30]
// Passwall
ID=i_memory
NAME=Del Rel Xyr
TYPE=t_eq_script

ON=@Create
MORE=6

ON=@Dclick
TARGET Select a door.
RETURN 1

ON=@Targon_item
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGET
RETURN 1
ENDIF
IF
(<SRC.TARGET.LINK.TYPE>!=t_multi)&&(<SRC.TARGET.TYPE>==t_door)
SRC.TARGET.REMOVEFROMVIEW
ENDIF
RETURN 1

ON=@Targon_char
SRC.SYSMESSAGE You cannot pass through a person!
RETURN 1


[ITEMDEF ispell_31]
// Archheal
ID=i_memory
NAME=Yae Cyl Ala
TYPE=t_eq_script

ON=@Create
MORE=6

ON=@Dclick
TARGET Select target.
RETURN 1

ON=@Targon_Char
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGET
RETURN 1
ENDIF
SERV.ALLCLIENTS ISPELL_31_DFUNC <SRC.TARGET.UID>
REMOVE
RETURN 1

[FUNCTION ispell_31_dfunc]
ACT=<ARGS>
IF <ACT.DISTANCE>>3
RETURN 1
ELSE
EFFECT 3,0376a,1,15,1
SPELLEFFECT s_greater_heal 750
ENDIF

[ITEMDEF ispell_32]
// Archpoison
ID=i_memory
NAME=Yae Cyl Zoam
TYPE=t_eq_script

ON=@Create
MORE=6

ON=@Dclick
TARGET Select target.
RETURN 1

ON=@Targon_Char
SERV.ALLCLIENTS ISPELL_32_DFUNC <SRC.TARGET.UID>
REMOVE
RETURN 1

[FUNCTION ispell_32_dfunc]
ACT=<ARGS>
IF <ACT.DISTANCE>>3
RETURN 1
ELSE
EFFECT 3,0374a,1,15,1
SPELLEFFECT s_poison 750
EMOTE moaning in pain
ENDIF

[ITEMDEF ispell_33]
// Firestorm
ID=i_memory
NAME=Eam Haum
TYPE=t_eq_script

ON=@Create
MORE=6

ON=@DCLick
SRC.NEWITEM=ispell_33_timer
SRC.ACT.P=<SRC.P>
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.TIMER=6
REMOVE
RETURN 1


[ITEMDEF ispell_33_timer]
ID=i_memory
NAME=Spell 33 Timer
TYPE=t_script

ON=@Create
ATTR=attr_decay

ON=@Timer
LINK.ISPELL_33_FIRE
LINK.ISPELL_33_FIRE
LINK.ISPELL_33_FIRE
LINK.ISPELL_33_FIRE
LINK.ISPELL_33_FIRE
LINK.ISPELL_33_FIRE
LINK.ISPELL_33_FIRE
LINK.ISPELL_33_FIRE
LINK.ISPELL_33_FIRE
LINK.ISPELL_33_FIRE
LINK.ISPELL_33_FIRE
LINK.ISPELL_33_FIRE
LINK.ISPELL_33_FIRE
REMOVE

[FUNCTION ISPELL_33_FIRE]
NEWITEM=03709
ACT.P=<P>
ACT.MOVE <EVAL RAND(9)-5> <EVAL RAND(9)-5>
ACT.ATTR=attr_decay
ACT.UPDATE
ACT.TIMER=2
NEWITEM=03709
ACT.P=<P>
ACT.MOVE <EVAL RAND(9)-5> <EVAL RAND(9)-5>
ACT.UPDATE
ACT.ATTR=attr_decay
ACT.TIMER=2

[ITEMDEF ispell_34]
// Flamestrike
ID=i_memory
NAME=Kal Vas Flam
TYPE=t_eq_script

ON=@Create
MORE=4

ON=@DClick
TARGET Select target.
RETURN 1

ON=@Targon_char
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGET
RETURN 1
ENDIF
IF <SRC.UID>==<SRC.TARG.UID>
RETURN 1
ENDIF
SRC.TARGET.EFFECT 3,03709,1,16,1
SRC.TARGET.DAMAGE 20-36
REMOVE
RETURN 1

[ITEMDEF ispell_35]
// Flamewave
ID=i_memory
NAME=Rel Flam
TYPE=t_eq_script

ON=@Create
MORE=4

ON=@DClick
TARGET Select target.
RETURN 1

ON=@Targon_char
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGET
RETURN 1
ENDIF
IF <SRC.UID>==<SRC.TARG.UID>
RETURN 1
ENDIF
SRC.TARGET.EFFECT 0,03709,5,16,1
SRC.TARGET.DAMAGE 45-58
REMOVE
RETURN 1

[ITEMDEF ispell_36]
// Comet
ID=i_memory
NAME=COMET
TYPE=t_eq_script

ON=@Create
MORE=10

ON=@DClick
TARGETG Select ground.
RETURN 1

ON=@Targon_char
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGETG
RETURN 1
ENDIF
SRC.NEWITEM=ispell_36_init
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.LINK=<SRC.UID>
REMOVE
RETURN 1

ON=@Targon_ground
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGETG
RETURN 1
ENDIF
SRC.NEWITEM=ispell_36_init
SRC.ACT.P=<SRC.TARGP>
SRC.ACT.LINK=<SRC.UID>
REMOVE
RETURN 1

[ITEMDEF ispell_36_init]
ID=i_memory
NAME=Spell 36 Init

ON=@Create
TIMER=2
ATTR=attr_decay

ON=@Timer
LINK.NEWITEM=ispell_36_aux
LINK.ACT.P=<P>
LINK.ACT.MOVE <EVAL RAND(7)-3> <EVAL RAND(7)-3>
LINK.ACT.EFFECT 2,03709,1,16,1
LINK.ACT.LINK=<LINK>
LINK.NEWITEM=ispell_36_aux
LINK.ACT.P=<P>
LINK.ACT.MOVE <EVAL RAND(7)-3> <EVAL RAND(7)-3>
LINK.ACT.EFFECT 2,03709,1,16,1
LINK.ACT.LINK=<LINK>
LINK.NEWITEM=ispell_36_aux
LINK.ACT.P=<P>
LINK.ACT.MOVE <EVAL RAND(7)-3> <EVAL RAND(7)-3>
LINK.ACT.EFFECT 2,03709,1,16,1
LINK.ACT.LINK=<LINK>
LINK.NEWITEM=ispell_36_aux
LINK.ACT.P=<P>
LINK.ACT.MOVE <EVAL RAND(7)-3> <EVAL RAND(7)-3>
LINK.ACT.EFFECT 2,03709,1,16,1
LINK.ACT.LINK=<LINK>
LINK.NEWITEM=ispell_36_aux
LINK.ACT.P=<P>
LINK.ACT.MOVE <EVAL RAND(7)-3> <EVAL RAND(7)-3>
LINK.ACT.EFFECT 2,03709,1,16,1
LINK.ACT.LINK=<LINK>
LINK.NEWITEM=ispell_36_aux
LINK.ACT.P=<P>
LINK.ACT.MOVE <EVAL RAND(7)-3> <EVAL RAND(7)-3>
LINK.ACT.EFFECT 2,03709,1,16,1
LINK.ACT.LINK=<LINK>
LINK.NEWITEM=ispell_36_aux
LINK.ACT.P=<P>
LINK.ACT.MOVE <EVAL RAND(7)-3> <EVAL RAND(7)-3>
LINK.ACT.EFFECT 2,03709,1,16,1
LINK.ACT.LINK=<LINK>
LINK.NEWITEM=ispell_36_aux
LINK.ACT.P=<P>
LINK.ACT.MOVE <EVAL RAND(7)-3> <EVAL RAND(7)-3>
LINK.ACT.EFFECT 2,03709,1,16,1
LINK.ACT.LINK=<LINK>
REMOVE
RETURN 1

[ITEMDEF ispell_36_aux]
ID=i_memory
NAME=Spell 36 Aux

ON=@Create
TIMER=1
ATTR=attr_decay

ON=@Step
SRC.EFFECT 3,037c4,1,8,1
SRC.DAMAGE { 50 90 }

ON=@Timer
LINK.NEWITEM=ispell_36_sparker
LINK.ACT.P=<P>
LINK.ACT.MOVE <EVAL RAND(5)-3> <EVAL RAND(5)-3>
LINK.ACT.EFFECT 2,037c4,1,8,1
LINK.ACT.TIMER=3
LINK.NEWITEM=ispell_36_sparker
LINK.ACT.P=<P>
LINK.ACT.MOVE <EVAL RAND(3)-1> <EVAL RAND(3)-1>
LINK.ACT.EFFECT 2,037c4,1,8,1
LINK.ACT.TIMER=3
LINK.NEWITEM=ispell_36_sparker
LINK.ACT.P=<P>
LINK.ACT.MOVE <EVAL RAND(5)-3> <EVAL RAND(5)-3>
LINK.ACT.EFFECT 2,037c4,1,8,1
LINK.ACT.TIMER=3
LINK.NEWITEM=ispell_36_sparker
LINK.ACT.P=<P>
LINK.ACT.MOVE <EVAL RAND(5)-3> <EVAL RAND(5)-3>
LINK.ACT.EFFECT 2,037c4,1,8,1
LINK.ACT.TIMER=3
LINK.NEWITEM=ispell_36_sparker
LINK.ACT.P=<P>
LINK.ACT.MOVE <EVAL RAND(3)-1> <EVAL RAND(3)-1>
LINK.ACT.EFFECT 2,037c4,1,8,1
LINK.ACT.TIMER=3
LINK.NEWITEM=ispell_36_sparker
LINK.ACT.P=<P>
LINK.ACT.EFFECT 2,037c4,1,8,1
LINK.ACT.TIMER=3
REMOVE
RETURN 1

[ITEMDEF ispell_36_sparker]
ID=i_memory
NAME=spark
TYPE=t_script

ON=@Create
ATTR=attr_decay

ON=@Timer
EFFECT 2,037c4,1,8,1
REMOVE
RETURN 1

ON=@Step
SRC.DAMAGE={40 90}
RETURN 0

[ITEMDEF ispell_37]
ID=i_memory
TYPE=t_script
NAME=Wall Of Brambles

ON=@Create
MORE=5

ON=@DClick
TARGETG Select Target.
RETURN 1

ON=@Targon_ground
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGETG
RETURN 1
ENDIF
// Determine the direction of the wall
IF
(<SRC.DIR>==0)||(<SRC.DIR>==1)||(<SRC.DIR>==4)||(<SRC.DIR>==5)
VAR.MOVEX=1
VAR.MOVEY=0
ELSE
VAR.MOVEX=0
VAR.MOVEY=1
ENDIF
IF (<VAR.MOREX>==1)
VAR.XINIT=0
VAR.YINIT=-3
ELSE
VAR.XINIT=0
VAR.YINIT=-3
ENDIF

SRC.NEWITEM=ispell_37_bramble
SRC.ACT.P=<SRC.TARGP>
SRC.ACT.MOVE <EVAL <VAR.XINIT>> <EVAL <VAR.YINIT>>
SRC.ACT.MORE=<VAR.MOVEX>
SRC.ACT.MORE2=<VAR.MOVEY>
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.ISPELL_37_MOVEIT 7
RETURN 1

[FUNCTION ISPELL_37_MOVEIT]
IF (0<ARGS>==0)
RETURN 1
ENDIF
LINK.NEWITEM=ispell_37_bramble
LINK.ACT.P=<P>
LINK.ACT.MOVE <EVAL <MORE>> <EVAL <MORE2>>
LINK.ACT.EFFECT 2,0376a,1,15,1
IF <MORE>
MORE=<MORE>+1
ELSEIF <MORE2>
MORE2=<MORE2>+1
ENDIF
ISPELL_37_MOVEIT <EVAL <ARGS>-1>
RETURN 0


[ITEMDEF ispell_37_bramble]
ID=i_plant_bramble
TYPE=t_script

ON=@Create
COLOR=077a
ATTR=attr_decay
TIMER=20

ON=@DClick
SRC.EFFECT 3,03709,1,15,1
SRC.DAMAGE {10 15}
RETURN 1

ON=@Timer
REMOVE
RETURN 1

[ITEMDEF ispell_38]
ID=i_memory
TYPE=t_script
NAME=ERRANT MINION

ON=@Create
MORE=3

ON=@DClick
TARGET Select creature.
RETURN 1

ON=@Targon_Char
IF <SRC.TAG.SCASTING>
TARGET You must wait until you have finished casting
before choosing a target!
RETURN 1
ENDIF
IF (0<SRC.TARG.MEMORYFINDTYPE.MEMORY_IPET.UID>==0)
SRC.SYSMESSAGE This creature is not a pet!
RETURN 1
ENDIF
VAR.OWNER=<SRC.TARG.MEMORYFINDTYPE.MEMORY_IPET.LINK>
SRC.TARG.MEMORYFINDTYPE.MEMORY_IPET.COLOR=02095
SRC.TARG.FLAGS=<SRC.TARG.FLAGS>|statf_war
SRC.NEWITEM=ispell_38_attacker
SRC.ACT.LINK=<SRC.TARG.UID>
SRC.ACT.CONT=<VAR.OWNER>
SRC.TARG.EMOTE attack <SRC.UID.OWNER.NAME>.
RETURN 1

[ITEMDEF ispell_38_attacker]
ID=i_memory
TYPE=t_eq_script
NAME=Spell 38 Attacker

ON=@Create
TIMER=1

ON=@Equip
LINK.ATTACK
RETURN 1

ON=@Timer
LINK.ATTACK
RETURN 1

[ITEMDEF ispell_39]
ID=i_memory
TYPE=t_script
NAME=Strength of Earth

ON=@Create
MORE=4
ATTR=attr_decay

ON=@DClick
TARGET Select Target.
RETURN 1

ON=@Targon_Char
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGET
RETURN 1
ENDIF
IF <SRC.TAG.ISPELL_39_STR>
SRC.SYSMESSAGE That target cannot be affected by this
spell.
REMOVE
RETURN 1
ENDIF
SRC.TAG.ISPELL_39_STR=<SRC.STR>
SRC.EFFECT 3,03779,1,16,1
SRC.STR=<EVAL <SRC.STR>+15>
LINK=<SRC.UID>
TIMER=60
RETURN 1

ON=@Timer
LINK.EFFECT 3,03779,1,16,1
LINK.STR=<EVAL <LINK.TAG.ISPELL_39_STR>>
LINK.TAG.ISPELL_39_STR=
REMOVE
RETURN 1

[ITEMDEF ispell_40]
ID=i_memory
TYPE=t_script
NAME=Speed of God

ON=@Create
MORE=3

[ITEMDEF ispell_39]
ID=i_memory
TYPE=t_script
NAME=Strength of Earth

ON=@Create
MORE=4
ATTR=attr_decay

ON=@DClick
TARGET Select Target.
RETURN 1

ON=@Targon_Char
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGET
RETURN 1
ENDIF
IF <SRC.TAG.ISPELL_40_DEX>
SRC.SYSMESSAGE That target cannot be affected by this
spell.
REMOVE
RETURN 1
ENDIF
SRC.TARG.TAG.ISPELL_40_DEX=<SRC.TARG.DEX>
SRC.TARG.EFFECT 3,03779,1,16,1
SRC.TARG.DEX=<EVAL <SRC.TARG.DEX>+15>
LINK=<SRC.TARG.UID>
TIMER=60
RETURN 1

ON=@Timer
LINK.EFFECT 3,03779,1,16,1
LINK.DEX=<EVAL <LINK.TAG.ISPELL_40_DEX>>
REMOVE
RETURN 1

[ITEMDEF ispell_41]
ID=i_memory
TYPE=t_script
NAME=Holy Protection

ON=@Create
MORE=4
ATTR=attr_decay

ON=@DClick
TARGET Select Target.
RETURN 1

ON=@Targon_Char
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGET
RETURN 1
ENDIF
SRC.TARG.EVENTS +e_ispell_41
SRC.TARG.EFFECT 3,03789,1,20,1
LINK=<SRC.TARG.UID>
TIMER=120
RETURN 1

ON=@Timer
LINK.EVENTS -e_ispell_41
LINK.EFFECT 3,03789,1,20,1
REMOVE
RETURN 1

[EVENTS e_ispell_41]
ON=@Hit
IF <ACT.KARMA><0
RETURN 1
ELSE
RETURN 0
ENDIF

ON=@GetHit
IF <SRC.KARMA><0
RETURN 1
ELSE
RETURN 0
ENDIF

[ITEMDEF ispell_42]
ID=i_memory
TYPE=t_script
NAME=Raise Dead

ON=@Dclick
TARGET Select Target.
RETURN 1

ON=@Targon_Char
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the spell
before selecting a target.
TARGET
RETURN 1
ENDIF
IF (<SRC.TARG.FLAGS>&02)
SRC.TARG.RESURRECT
ELSE
SRC.SYSMESSAGE That is not dead!
TARGET
RETURN 1
ENDIF
REMOVE
RETURN 1

[ITEMDEF ispell_43]
// Tempest
ID=i_memory
TYPE=t_script
NAME=TEMPEST

ON=@Create
MORE=3

ON=@Dclick
TARGETG Select target!
RETURN 1

ON=@Targon_Ground
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGETG
RETURN 1
ENDIF
SRC.SYSMESSAGE The storm has been seeded.
SRC.NEWITEM=ispell_43_storm
SRC.ACT.P=<SRC.TARGP>
SRC.ACT.LINK=<SRC.UID>
REMOVE
RETURN 1

[ITEMDEF ispell_43_storm]
ID=i_memory
TYPE=t_script
NAME=Spell 43 Executer

ON=@Create
TIMER=0
ATTR=attr_decay

ON=@Timer
ISPELL_43_LIGHTNING
ISPELL_43_LIGHTNING
ISPELL_43_LIGHTNING
ISPELL_43_LIGHTNING
ISPELL_43_LIGHTNING
ISPELL_43_LIGHTNING
ISPELL_43_LIGHTNING
ISPELL_43_LIGHTNING
ISPELL_43_LIGHTNING
ISPELL_43_LIGHTNING
ISPELL_43_LIGHTNING
ISPELL_43_LIGHTNING
REMOVE
RETURN 1

[FUNCTION ispell_43_lightning]
LINK.NEWNPC=c_storm_man
LINK.ACT.P=<P>
LINK.ACT.MOVE <EVAL RAND(7)-4> <EVAL RAND(7)-4>
LINK.ACT.WALK W
LINK.ACT.WALK E
LINK.NEWITEM=ispell_43_mem
LINK.ACT.P=<P>
LINK.ACT.MOVE <EVAL RAND(7)-4> <EVAL RAND(7)-4>
LINK.NEWITEM=ispell_43_mem
LINK.ACT.P=<P>
LINK.ACT.MOVE <EVAL RAND(7)-4> <EVAL RAND(7)-4>
LINK.NEWITEM=ispell_43_mem
LINK.ACT.P=<P>
LINK.ACT.MOVE <EVAL RAND(7)-4> <EVAL RAND(7)-4>


[EVENTS ispell_e_43]
ON=@ItemStep
SRC.ACT.EFFECT 2,03709,1,15,1
RETURN 0

ON=@Click
RETURN 1

[CHARDEF c_storm_man]
ID=01a8
CAN=mt_equip|mt_walk
TEVENTS=ispell_e_43


ON=@NPCRestock
ITEMNEWBIE=ispell_43_mem


[ITEMDEF ispell_43_mem]
ID=i_memory
TYPE=t_eq_script

ON=@Create
TIMER=0
ATTR=attr_decay

ON=@Step
SRC.EFFECT 3,03709,1,15,1
SRC.DAMAGE {10 20}

ON=@Timer
IF (<CONT> )
CONT.EFFECT 1,0,0,0,0
CONT.REMOVE
ELSE
IF (<MORE> )
REMOVE
ELSE
MORE=1
TIMER=3
ENDIF
ENDIF
RETURN 1

[ITEMDEF ispell_44]
ID=i_memory
TYPE=t_script

ON=@Create
MORE=3

ON=@DClick
TARGET Select Target!
RETURN 1

ON=@Targon_Char
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGET
RETURN 1
ENDIF
SRC.TARG.FLEE
SRC.TARG.TAG.OLDDEX=<SRC.TARG.DEX>
SRC.TARG.DEX=10000
SRC.NEWITEM=ispell_44_mem
SRC.ACT.CONT=<SRC.TARG.UID>
REMOVE
RETURN 1

[ITEMDEF ispell_44_mem]
ID=i_memory
TYPE=t_eq_script

ON=@Create
TIMER=20
ATTR=attr_decay

ON=@Timer
CONT.DEX=<CONT.TAG.OLDDEX>
REMOVE
RETURN 1

[ITEMDEF ispell_45]
// Sandstorm
ID=i_memory
TYPE=t_script
NAME=SANDSTORM

ON=@Create
MORE=3

ON=@Dclick
TIMER=3
LINK=<SRC.UID>
MOREP=<SRC.P>
RETURN 1

ON=@Timer
SERV.ALLCLIENTS ispell_45_checker <LINK>

[FUNCTION ispell_45_checker]
ACT=<ARGS>
IF <ACT.DISTANCE><6
ispell_45_sand
ispell_45_sand
ispell_45_sand
ispell_45_sand
ispell_45_sand
ispell_45_sand
ispell_45_sand
ENDIF

[FUNCTION ispell_45_sand]
NEWITEM=0376a
ACT.TIMER=2
ACT.COLOR=02e4
ACT.ATTR=attr_decay
ACT.P=<P>
ACT.MOVE <EVAL RAND(7)-3> <EVAL RAND(7)-3>
ACT.TYPE ispell_t_sand
NEWITEM=0376a
ACT.TIMER=2
ACT.COLOR=02e4
ACT.ATTR=attr_decay
ACT.P=<P>
ACT.MOVE <EVAL RAND(7)-3> <EVAL RAND(7)-3>
ACT.TYPE ispell_t_sand

[TYPEDEF ispell_t_sand]
ON=@Step
SRC.DAMAGE {10 20}
SRC.ispell_45_sand
SRC.ispell_45_sand
SRC.ispell_45_sand
SRC.ispell_45_sand
REMOVE
RETURN 1

[ITEMDEF ispell_46]
ID=i_memory
TYPE=t_script
NAME=PHANtasmal TERRAIN

ON=@Create
MORE=3
MORE2=0
ATTR=attr_decay

ON=@DClick
TIMER=3
RETURN 1

ON=@Timer
IF (<MORE2>==1)
REGION.SECTORS SEASON 1
REMOVE
ELSE
REGION.SECTORS SEASON 4
TIMER=60
MORE2=1
ENDIF
RETURN 1

[ITEMDEF ispell_47]
ID=i_memory
TYPE=t_script
NAME=FISSURE

ON=@Create
MORE=4

ON=@DCLick
TARGETG Select ground.
RETURN 1

ON=@Targon_ground
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGETG
RETURN 1
ENDIF
SRC.ISPELL_47_HOLE <SRC.TARGP>
P=<SRC.TARGP>
MOVE -1 0
SRC.ISPELL_47_HOLE <P>
P=<SRC.TARGP>
MOVE 1 0
SRC.ISPELL_47_HOLE <P>
P=<SRC.TARGP>
MOVE 3 0
SRC.ISPELL_47_HOLE <P>
P=<SRC.TARGP>
MOVE -3 0
SRC.ISPELL_47_HOLE <P>
REMOVE
RETURN 1

[FUNCTION ispell_47_hole]
NEWITEM=01b28// Top
ACT.ATTR=attr_decay
ACT.NAME=a hole
ACT.TIMER=60
ACT.P=<ARGS>
ACT.MOVE 1 0
ACT.COLOR=1
ACT.TYPE ispell_t_47
NEWITEM=01b29// Left
ACT.ATTR=attr_decay
ACT.NAME=a hole
ACT.TIMER=60
ACT.P=<ARGS>
ACT.COLOR=1
ACT.MOVE -1 0// Right
ACT.TYPE ispell_t_47
NEWITEM=01b2a
ACT.ATTR=attr_decay
ACT.NAME=a hole
ACT.TIMER=60
ACT.P=<ARGS>
ACT.MOVE 0 -1
ACT.COLOR=1
ACT.TYPE ispell_t_47
NEWITEM=01b27// Bottom
ACT.ATTR=attr_decay
ACT.NAME=a hole
ACT.TIMER=60
ACT.P=<ARGS>
ACT.MOVE 0 1
ACT.COLOR=1
ACT.TYPE ispell_t_47

NEWITEM=01b2f
ACT.ATTR=attr_decay
ACT.NAME=a hole
ACT.TIMER=60
ACT.P=<ARGS>
ACT.MOVE 1 1
ACT.COLOR=1
ACT.TYPE ispell_t_47
NEWITEM=01b30
ACT.ATTR=attr_decay
ACT.NAME=a hole
ACT.TIMER=60
ACT.P=<ARGS>
ACT.MOVE -1 -1
ACT.COLOR=1
ACT.TYPE ispell_t_47
NEWITEM=01b31
ACT.ATTR=attr_decay
ACT.NAME=a hole
ACT.TIMER=60
ACT.P=<ARGS>
ACT.MOVE -1 1
ACT.COLOR=1
ACT.TYPE ispell_t_47
NEWITEM=01b32
ACT.ATTR=attr_decay
ACT.NAME=a hole
ACT.TIMER=60
ACT.P=<ARGS>
ACT.MOVE 1 -1
ACT.COLOR=1
ACT.TYPE ispell_t_47

NEWITEM=031f4
ACT.ATTR=attr_decay
ACT.NAME=a hole
ACT.TIMER=60
ACT.P=<ARGS>
ACT.COLOR=1
ACT.TYPE ispell_t_47

RETURN 1

[TYPEDEF ispell_t_47]
// Type for damage
ON=@Step
IF !(<SRC.FLAGS>&02)
SRC.SYSMESSAGE You nearly fall into the precipice.
SRC.DAMAGE {10 20}
ENDIF
IF RAND(2)
SRC.NUDGEDOWN 9
ENDIF
RETURN 1

[ITEMDEF ispell_48]
// Harden (turns target to stone)
ID=i_memory
TYPE=t_script
NAME=HARDEN

ON=@Create
MORE=3

ON=@Dclick
TARGET Select creature.
RETURN 1

ON=@Targon_char
IF <SRC.TAG.SCASTING>
SRC.SYSMESSAGE You must finish casting the
spell before selecting a target.
TARGET
RETURN 1
ENDIF
SRC.TARG.EFFECT 2,037be,1,5,1
SRC.TARG.STONE
SRC.TARG.NEWITEM=ispell_48_mem
SRC.TARG.ACT.CONT=<SRC.TARG.UID>
REMOVE
RETURN 1

[ITEMDEF ispell_48_mem]
ID=i_memory
TYPE=t_eq_script
NAME=Spell 48 Undo'er

ON=@Create
TIMER=45
ATTR=attr_decay

ON=@Timer
CONT.STONE
REMOVE
RETURN 1

[ITEMDEF ispell_49] // Replace n with the spell #
ID=i_memory
TYPE=t_script // Always t_script
NAME=FORTIFY// Spell words

ON=@Create
MORE=3// Difficulty level (used for cast time, mana
use, fizzling, etc)

ON=@DClick// Happens immediately
TARGET Select Target.
RETURN 1

ON=@Targon_Char// Or whatever
IF <SRC.TAG.SCASTING>
TARGET You must finish casting before selecting a
target.
RETURN 1
ENDIF
SRC.ISPELL_49_WALL -1 -1
SRC.ISPELL_49_WALL -1 0
SRC.ISPELL_49_WALL -1 1
SRC.ISPELL_49_WALL 0 -1
SRC.ISPELL_49_WALL 0 1
SRC.ISPELL_49_WALL 1 -1
SRC.ISPELL_49_WALL 1 0
SRC.ISPELL_49_WALL 1 1
REMOVE
RETURN 1

[FUNCTION ispell_49_wall]
SRC.NEWITEM=02c9
SRC.ACT.ATTR=attr_decay|010
SRC.ACT.TIMER=15
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.MOVE <ARGS>
SRC.ACT.EFFECT 2,0376a,1,15,1


[ITEMDEF ispell_50] // Replace n with the spell #
ID=i_memory
TYPE=t_script // Always t_script
NAME=ENERGY TAP// Spell words

ON=@Create
MORE=3// Difficulty level (used for cast time, mana
use, fizzling, etc)

ON=@DClick// Happens immediately
TARGET Select Target.
RETURN 1

ON=@Targon_Char// Or whatever
IF <SRC.TAG.SCASTING>
TARGET You must finish casting before selecting a
target.
RETURN 1
ENDIF
IF !<SRC.TARG.ISMYPET>
SRC.SYSMESSAGE The target must be your pet!
ELSE
SRC.EFFECT 3,0376a,1,15,1
SRC.TARG.EFFECT 2,0376a,1,15,1
SRC.SPELLEFFECT s_greater_heal <SRC.TARG.STR>
SRC.TARG.REMOVE
ENDIF
REMOVE
RETURN 1

[ITEMDEF ispell_51] // Replace n with the spell #
ID=i_memory
TYPE=t_script // Always t_script
NAME=SPHERE OF LIGHT// Spell words

ON=@Create
MORE=3// Difficulty level (used for cast time, mana
use, fizzling, etc)

ON=@DClick// Happens immediately
TARGET Select Target.
RETURN 1

ON=@Targon_Char// Or whatever
IF <SRC.TAG.SCASTING>
TARGET You must finish casting before selecting a
target.
RETURN 1
ENDIF
SRC.NEWITEM=i_light_source
SRC.ACT.CONT=<SRC.TARG.UID>
SRC.ACT.TIMER=60
SRC.ACT.ATTR=attr_decay
REMOVE
RETURN 1

[ITEMDEF ispell_52] // Replace n with the spell #
ID=i_memory
TYPE=t_script // Always t_script
NAME=ICESTRIKE// Spell words

ON=@Create
MORE=3// Difficulty level (used for cast time, mana
use, fizzling, etc)

ON=@DClick// Happens immediately
TARGETG Select Target.
RETURN 1

ON=@Targon_Char// Or whatever
TARGETG Target the ground, not a character!
RETURN 1

ON=@Targon_ground
SRC.NEWITEM=ispell_52_ice
SRC.ACT.P=<SRC.TARGP>
SRC.ACT.LINK=<SRC.UID>
SECTOR.SNOW
REMOVE
RETURN 1

[ITEMDEF ispell_52_ice]
ID=0374A
NAME=ice

ON=@Create
COLOR=0480
TIMER=1
ATTR=attr_decay
MORE=2

ON=@Timer
IF <MORE>==2
ispell_52_makenew -2 -2
ispell_52_makenew -2 0
ispell_52_makenew -2 2
ispell_52_makenew 0 -2
ispell_52_makenew 0 2
ispell_52_makenew 2 -2
ispell_52_makenew 2 0
ispell_52_makenew 2 2
MORE=1
ELIF <MORE>==1
ispell_52_makenew -1 -1
ispell_52_makenew -1 0
ispell_52_makenew -1 1
ispell_52_makenew 0 -1
ispell_52_makenew 0 1
ispell_52_makenew 1 -1
ispell_52_makenew 1 0
ispell_52_makenew 1 1
MORE=0
ELSE
REMOVE
ENDIF
TIMER={2 6}
RETURN 1

[FUNCTION ispell_52_makenew]
LINK.NEWITEM=ispell_52_ice
LINK.ACT.P=<P>
LINK.ACT.MORE=<EVAL <MORE>-1>
LINK.ACT.LINK=<LINK>
LINK.ACT.MOVE <ARGS>
LINK.ACT.TIMER={2 6}

[ITEMDEF ispell_53]
ID=i_memory
TYPE=t_script
NAME=ROOT

ON=@Create
MORE=3

ON=@DClick
TARGET Select mobile.
RETURN 1

ON=@Targon_char
IF <SRC.TAG.SCASTING>
TARGET You must finish casting before selecting a
target.
RETURN 1
ENDIF
SRC.TARG.EFFECT 3,i_fx_sparkle,1,15,0
SRC.TARG.EMOTE freeze.
SRC.TARG.FLAGS=04
SRC.NEWITEM=ispell_53_unfreezer
SRC.ACT.CONT=<SRC.TARG.UID>
REMOVE
RETURN 1

[ITEMDEF ispell_53_unfreezer]
ID=i_memory
TYPE=t_eq_script
NAME=Spell 53 Thaw

ON=@Create
MORE=0
TIMER=10
ATTR=attr_decay

ON=@Timer
CONT.FLAGS=<CONT.FLAGS>|04
DOSWITCH <MORE>
CONT.EMOTE twitch <CONT.SEX his/her> fingers
CONT.EMOTE spasm in <CONT.SEX his/her> muscles
CONT.EMOTE take a step falteringly
CONT.EMOTE raise <CONT.SEX his/her> arm above
<CONT.SEX his/her> head
CONT.EMOTE break into freedom
ENDDO
IF <MORE>==4
IF <CONT.FLAGS>&04
CONT.FLAGS=<CONT.FLAGS>-04
ENDIF
REMOVE
RETURN 1
ENDIF
MORE=<MORE>+1
TIMER=10
RETURN 1

[ITEMDEF ispell_54]
ID=i_memory
TYPE=t_eq_script
NAME=OPEN BANK

ON=@Create
MORE=3

ON=@Dclick
TIMER=3
CONT=<SRC.UID>
RETURN 1

ON=@Timer
CONT.BANKSELF
REMOVE
RETURN 1

[ITEMDEF ispell_55]
ID=i_memory
TYPE=t_script
NAME=WILD GROWTH

ON=@Create
MORE=3

ON=@DClick
TIMER=3
LINK=<SRC.UID>
RETURN 1

ON=@Timer














































[ITEMDEF i_SPELL_timer]
ID=i_memory
Name=SPELL Timer
LAYER=30
TYPE=t_eq_script

ON=@Create
ATTR=022
TIMER=120

ON=@TIMER
REMOVE
RETURN 1

[PLEVEL 1]
spell

[FUNCTION spell]
IF <SRC.RESTEST i_SPELL_timer>
SRC.SYSMESSAGE You cant use this ability yet!
return 1
ELSEIF (<SRC.MANA><=15)
SRC.SYSMESSAGE You do not have the mana to cast this spell right now!
RETURN 1
ELSEIF <ARGN>>26
SRC.SYSMESSAGE THERE IS NO SPELL NUMBER <ARGN>!
RETURN 1
ELSE
SRC.NEWITEM=i_SPELL_timer
SRC.ACT.EQUIP
SRC.MANA=<SRC.MANA>+(-15)
SRC.ANIM 011
VAR.FACINGX=<SRC.DIR>
SRC.NEWITEM=ispell_<argn>
SRC.ACT.P=<SRC.P>
SRC.ACT.MOVE <EVAL RAND(7)-3> <EVAL RAND(7)-3>
SRC.FONT 8
SRC.SAY <SRC.ACT.NAME>
SRC.FONT 3
VAR.SPELLITEM=<SRC.ACT.UID>
UID.SPELLITEM.USE
SRC.DIR=<VAR.FACINGX>
SRC.UPDATE
RETURN 1
ENDIF

[ITEMDEF ispell_1]
// Blood Lust
ID=i_memory
NAME=Quan Nor
TYPE=t_eq_script

ON=@Create
MORE=3

ON=@Dclick
TARGET Select the creature.
RETURN 1

ON=@Targon_char
IF <SRC.TARG.BRAIN>>0
SRC.TARG.ATTACK
ENDIF
REMOVE
RETURN 1

[ITEMDEF ispell_2]
// Prismatic Sphere
ID=i_memory
NAME=Rel Grav
TYPE=t_eq_script

ON=@Create
MORE=7

ON=@Dclick
TIMER=7
LINK=<SRC.UID>
RETURN 1

ON=@Timer
LINK.NEWITEM=ispell_2_rock
LINK.ACT.P=<LINK.P>
LINK.ACT.LINK=<LINK>
LINK.ACT.MOVE -1 -1
LINK.NEWITEM=ispell_2_rock
LINK.ACT.P=<LINK.P>
LINK.ACT.LINK=<LINK>
LINK.ACT.MOVE -1 0
LINK.NEWITEM=ispell_2_rock
LINK.ACT.P=<LINK.P>
LINK.ACT.LINK=<LINK>
LINK.ACT.MOVE -1 1
LINK.NEWITEM=ispell_2_rock
LINK.ACT.P=<LINK.P>
LINK.ACT.LINK=<LINK>
LINK.ACT.MOVE 0 -1
LINK.NEWITEM=ispell_2_rock
LINK.ACT.P=<LINK.P>
LINK.ACT.LINK=<LINK>
LINK.ACT.MOVE 0 1
LINK.NEWITEM=ispell_2_rock
LINK.ACT.P=<LINK.P>
LINK.ACT.LINK=<LINK>
LINK.ACT.MOVE 1 -1
LINK.NEWITEM=ispell_2_rock
LINK.ACT.P=<LINK.P>
LINK.ACT.LINK=<LINK>
LINK.ACT.MOVE 1 0
LINK.NEWITEM=ispell_2_rock
LINK.ACT.P=<LINK.P>
LINK.ACT.LINK=<LINK>
LINK.ACT.MOVE 1 1
REMOVE
RETURN 1

[EVENTS e_prism]
ON=@GetHit
RETURN 1

ON=@SpellEffect
RETURN 1

[ITEMDEF ispell_2_rock]
ID={ 01771 1 01772 1 }
NAME=prismatic stone
TYPE=t_eq_script

ON=@Create
COLOR={ 0789 1 07a8 1 }
TIMER=3
ATTR=010|attr_decay
MORE=12

ON=@DClick
SRC.EFFECT 1,0,0,0,0
SRC.DAMAGE { 30 60 }
RETURN 1

ON=@Timer
IF !<MORE2>
MORE2=<LINK.DIR>
ENDIF
IF <LINK.DIR>!=<MORE2>
MORE=0
ENDIF
IF <MORE>==0
LINK.EVENTS -e_prism
REMOVE
ENDIF
MORE=<MORE>-1
COLOR={ 0789 1 07a8 1 0783 1 0775 1 0786 1 }
UPDATE
TIMER=3
RETURN 1
ENDIF

[ITEMDEF ispell_3]
// Fireproof
ID=i_memory
NAME=Muli Eam
TYPE=t_eq_script

ON=@Create
MORE=5

ON=@Dclick
TARGET Select target.
RETURN 1

ON=@Targon_char
SRC.TARG.EFFECT 3,0376a,60,60,0
SRC.TARG.EVENTS +e_fire_immune
TIMER=40
MORE2=100
LINK=<SRC.TARG.UID>
RETURN 1

ON=@Timer
LINK.EVENTS -e_fire_immune
LINK.EFFECT 3,0376a,60,60,0
REMOVE
RETURN 1

[ITEMDEF ispell_4]
// Ragnarok
NAME=Cyl Eam Bau
ID=i_memory
TYPE=t_eq_script

ON=@Create
MORE=15

ON=@Dclick
TARGET Select victim.
MORE2=1
RETURN 1

ON=@Targon_char
IF <MORE2>==1
SRC.NEWITEM=ispell_4_fire1
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.ATTR=attr_decay|010
SRC.ACT.TIMER=30
SRC.ACT.COLOR={ 0 4 077a 1 }
SRC.ACT.MOVE -3 -2
SRC.NEWITEM=ispell_4_fire1
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.ATTR=attr_decay|010
SRC.ACT.TIMER=30
SRC.ACT.COLOR={ 0 4 077a 1 }
SRC.ACT.MOVE -2 -3
SRC.NEWITEM=ispell_4_fire1
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.ATTR=attr_decay|010
SRC.ACT.TIMER=30
SRC.ACT.COLOR={ 0 4 077a 1 }
SRC.ACT.MOVE -1 -2
SRC.NEWITEM=ispell_4_fire1
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.ATTR=attr_decay|010
SRC.ACT.TIMER=30
SRC.ACT.COLOR={ 0 4 077a 1 }
SRC.ACT.MOVE 0 -3
SRC.NEWITEM=ispell_4_fire1
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.ATTR=attr_decay|010
SRC.ACT.TIMER=30
SRC.ACT.COLOR={ 0 4 077a 1 }
SRC.ACT.MOVE 1 -2
SRC.NEWITEM=ispell_4_fire1
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.ATTR=attr_decay|010
SRC.ACT.TIMER=30
SRC.ACT.COLOR={ 0 4 077a 1 }
SRC.ACT.MOVE 2 -3
SRC.NEWITEM=ispell_4_fire1
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.ATTR=attr_decay|010
SRC.ACT.TIMER=30
SRC.ACT.COLOR={ 0 4 077a 1 }
SRC.ACT.MOVE 3 -2
SRC.NEWITEM=ispell_4_fire1
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.ATTR=attr_decay|010
SRC.ACT.TIMER=30
SRC.ACT.COLOR={ 0 4 077a 1 }
SRC.ACT.MOVE 0 1
MORE2=2
TIMER=2
LINK=<SRC.TARG.UID>
RETURN 1
ENDIF

ON=@Timer
IF <MORE2>==2
LINK.FLAGS=<LINK.FLAGS>|04
LINK.NEWITEM=ispell_4_lava
LINK.ACT.LINK=<LINK>
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -1 -1
LINK.NEWITEM=ispell_4_lava
LINK.ACT.LINK=<LINK>
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 0 -1
LINK.NEWITEM=ispell_4_lava
LINK.ACT.LINK=<LINK>
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 1 -1
LINK.NEWITEM=ispell_4_lava
LINK.ACT.LINK=<LINK>
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 1 0
LINK.NEWITEM=ispell_4_lava
LINK.ACT.LINK=<LINK>
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -1 0
LINK.NEWITEM=ispell_4_lava
LINK.ACT.LINK=<LINK>
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -1 1
LINK.NEWITEM=ispell_4_lava
LINK.ACT.LINK=<LINK>
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 0 1
LINK.NEWITEM=ispell_4_lava
LINK.ACT.LINK=<LINK>
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 1 1
LINK.NEWITEM=0131e
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 -1
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010
LINK.NEWITEM=01321
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 0
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010
LINK.NEWITEM=0131e
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 1
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010
LINK.NEWITEM=01326
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 2
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010
LINK.NEWITEM=01333
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -1 2
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010
LINK.NEWITEM=01333
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 0 2
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010
LINK.NEWITEM=01333
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 1 2
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010
LINK.NEWITEM=01345
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 2
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010
LINK.NEWITEM=01339
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -1 -2
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010
LINK.NEWITEM=01339
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 0 -2
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010
LINK.NEWITEM=01339
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 1 -2
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010
LINK.NEWITEM=0132c
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 -2
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010
LINK.NEWITEM=01348
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 -2
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010
LINK.NEWITEM=01342
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 -1
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010
LINK.NEWITEM=01342
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 0
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010
LINK.NEWITEM=01342
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 1
LINK.ACT.TIMER=32
LINK.ACT.ATTR=attr_decay|010
LINK.NEWITEM=ispell_4_sparkle1
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 -2
LINK.ACT.LINK=<LINK.UID>
LINK.NEWITEM=ispell_4_sparkle1
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 0 -2
LINK.ACT.LINK=<LINK.UID>
LINK.NEWITEM=ispell_4_sparkle1
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 -2
LINK.ACT.LINK=<LINK.UID>
ENDIF
REMOVE
RETURN 1

[ITEMDEF ispell_4_sparkle1]
ID=037c4
TYPE=t_normal

ON=@Create
attr=attr_decay|010
TIMER=20

ON=@Timer
LINK.EFFECT 1,0,0,0,0
EFFECT 1,0,0,0,0
LINK.DAMAGE {30 60}
LINK.NEWITEM=ispell_4_fire1
LINK.ACT.LINK=<LINK>
LINK.ACT.P=<P>
REMOVE
RETURN 1

[ITEMDEF ispell_4_fire1]
ID=03709
TYPE=t_fire

ON=@Create
TIMER=1
MORE2=0
ATTR=attr_decay|010

ON=@Step
SRC.DAMAGE {50 70}
RETURN 1

ON=@Timer
IF (<MORE>==8)&&(!<MORE2> )
MORE2=1
TIMER=4
RETURN 1
ENDIF
IF <MORE2>==0
LINK.NEWITEM=ispell_4_fire1
LINK.ACT.P=<P>
LINK.ACT.MOVE 0 1
LINK.ACT.LINK=<LINK>
LINK.ACT.MORE=<MORE>+1
MORE2=1
TIMER=4
ELSE
REMOVE
ENDIF
RETURN 1

[ITEMDEF ispell_4_lava]
ID=012ee
TYPE=t_fire

ON=@Create
TIMER=2

ON=@Step
SRC.EFFECT 3,03709,1,12,0
SRC.DAMAGE {30 40}
RETURN 1

ON=@Timer
IF <COLOR>==0
COLOR=077a
ELSE
COLOR=0
ENDIF
UPDATE
MORE2=<MORE2>+1
IF <MORE2>==16
//LINK.NEWITEM=ispell_4_fire1
//LINK.ACT.LINK=<LINK>
//LINK.ACT.P=<P>
//LINK.ACT.MORE=4
REMOVE
ENDIF
TIMER=2
RETURN 1

[ITEMDEF ispell_5]
// Scald
NAME=Eam Rel
ID=i_memory
TYPE=t_eq_script

ON=@Create
MORE=4 // 2 second delay

ON=@Dclick
TARGET Select Target.
RETURN 1

ON=@Targon_Char
VAR.DAMAGE1=40
VAR.DAMAGE2=60
SRC.TARG.DAMAGE <EVAL {<VAR.DAMAGE1> <VAR.DAMAGE2>}>
SRC.NEWITEM=03709
SRC.ACT.TIMER=2
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.MOVE -1 -1
SRC.ACT.ATTR=attr_decay|010
SRC.NEWITEM=03709
SRC.ACT.TIMER=2
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.MOVE 1 1
SRC.ACT.ATTR=attr_decay|010
SRC.NEWITEM=03709
SRC.ACT.TIMER=2
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.ATTR=attr_decay|010
SRC.ACT.COLOR=077a
REMOVE
RETURN 1


[ITEMDEF ispell_6]
// Whither Spell
NAME=Cyl Kur Eam
ID=i_memory
TYPE=t_eq_script

ON=@Create
MORE=4 // 4 second delay

ON=@Dclick
TARGET Select Target.
RETURN 1

ON=@Targon_Char
VAR.DAMAGE1=45
VAR.DAMAGE2=65
SRC.TARG.DAMAGE <EVAL {<VAR.DAMAGE1> <VAR.DAMAGE2>}>
SRC.TARG.NEWITEM=03709
SRC.TARG.ACT.TIMER=2
SRC.TARG.ACT.P=<SRC.TARG.P>
SRC.TARG.ACT.ATTR=attr_decay|010
SRC.TARG.ACT.MOVE -1 -1
SRC.TARG.NEWITEM=03709
SRC.TARG.ACT.TIMER=2
SRC.TARG.ACT.P=<SRC.TARG.P>
SRC.TARG.ACT.ATTR=attr_decay|010
SRC.TARG.ACT.MOVE -1 0
SRC.TARG.NEWITEM=03709
SRC.TARG.ACT.TIMER=2
SRC.TARG.ACT.P=<SRC.TARG.P>
SRC.TARG.ACT.ATTR=attr_decay|010
SRC.TARG.ACT.MOVE -1 1
SRC.TARG.NEWITEM=03709
SRC.TARG.ACT.TIMER=2
SRC.TARG.ACT.P=<SRC.TARG.P>
SRC.TARG.ACT.ATTR=attr_decay|010
SRC.TARG.ACT.MOVE 0 -1
SRC.TARG.NEWITEM=03709
SRC.TARG.ACT.TIMER=2
SRC.TARG.ACT.P=<SRC.TARG.P>
SRC.TARG.ACT.ATTR=attr_decay|010
SRC.TARG.ACT.MOVE 0 1
SRC.TARG.NEWITEM=03709
SRC.TARG.ACT.TIMER=2
SRC.TARG.ACT.P=<SRC.TARG.P>
SRC.TARG.ACT.ATTR=attr_decay|010
SRC.TARG.ACT.MOVE 1 -1
SRC.TARG.NEWITEM=03709
SRC.TARG.ACT.TIMER=2
SRC.TARG.ACT.P=<SRC.TARG.P>
SRC.TARG.ACT.ATTR=attr_decay|010
SRC.TARG.ACT.MOVE 1 0
SRC.TARG.NEWITEM=03709
SRC.TARG.ACT.TIMER=2
SRC.TARG.ACT.P=<SRC.TARG.P>
SRC.TARG.ACT.ATTR=attr_decay|010
SRC.TARG.ACT.MOVE 1 1
REMOVE
RETURN 1


[ITEMDEF ispell_7]
// Frostbite Spell
NAME=Yae Fie Bau
ID=i_memory
TYPE=t_eq_script

ON=@Create
MORE=2

ON=@Dclick
TARGET Select Target.
RETURN 1

ON=@Targon_Char
VAR.DAMAGE1=<EVAL <SRC.NECROMANCY>/15>
VAR.DAMAGE2=<EVAL <VAR.DAMAGE1>+10>
SRC.TARG.DAMAGE <EVAL {<VAR.DAMAGE1> <VAR.DAMAGE2>}>
SRC.TARG.EFFECT 0,03818,12,1,0
SRC.TARG.NEWITEM=03709
SRC.TARG.ACT.TIMER=2
SRC.TARG.ACT.ATTR=attr_decay|010
SRC.TARG.ACT.P=<SRC.TARG.P>
SRC.TARG.ACT.COLOR=0480
REMOVE
RETURN 1

[ITEMDEF ispell_8]
// Flood
ID=i_memory
NAME=Cyl Vex Rel
TYPE=t_eq_script

ON=@Create
MORE=7

ON=@Dclick
TIMER=7
LINK=<SRC.UID>
RETURN 1

ON=@Timer
LINK.NEWITEM=ispell_8_wave1 // 01fa3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 -2
LINK.NEWITEM=ispell_8_wave1 // 01fa3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 -1
LINK.NEWITEM=ispell_8_wave1 // 01fa3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 -2
LINK.NEWITEM=ispell_8_wave1 // 01fa3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -1 -1
LINK.NEWITEM=ispell_8_wave1 // 01fa3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 1 -1
LINK.NEWITEM=ispell_8_wave1 // 01fa3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 -1
LINK.NEWITEM=ispell_8_wave1 // 01fa3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 0 -1
LINK.NEWITEM=ispell_8_wave1 // 01fa3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 0 -2
LINK.NEWITEM=ispell_8_wave1 // 01fa3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 -1

LINK.NEWITEM=ispell_8_wave2 // 01fa8
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 -3
LINK.NEWITEM=ispell_8_wave2 // 01fa8
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -1 1
LINK.NEWITEM=ispell_8_wave2 // 01fa8
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -1 -2
LINK.NEWITEM=ispell_8_wave2 // 01fa8
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -1 0
LINK.NEWITEM=ispell_8_wave2 // 01fa8
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 -2
LINK.NEWITEM=ispell_8_wave2 // 01fa8
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 -1
LINK.NEWITEM=ispell_8_wave2 // 01fa8
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 0
LINK.NEWITEM=ispell_8_wave2 // 01fa8
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 2
LINK.NEWITEM=ispell_8_wave2 // 01fa8
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 1

LINK.NEWITEM=ispell_8_wave3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 -2
LINK.NEWITEM=ispell_8_wave3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 -1
LINK.NEWITEM=ispell_8_wave3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 0
LINK.NEWITEM=ispell_8_wave3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 1
LINK.NEWITEM=ispell_8_wave3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 2
LINK.NEWITEM=ispell_8_wave3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 1 1
LINK.NEWITEM=ispell_8_wave3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 1 0
LINK.NEWITEM=ispell_8_wave3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 1 -2
LINK.NEWITEM=ispell_8_wave3
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 1 -1

LINK.NEWITEM=ispell_8_wave4
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 1
LINK.NEWITEM=ispell_8_wave4
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 1
LINK.NEWITEM=ispell_8_wave4
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -2 2
LINK.NEWITEM=ispell_8_wave4
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -1 2
LINK.NEWITEM=ispell_8_wave4
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -1 1
LINK.NEWITEM=ispell_8_wave4
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 0 2
LINK.NEWITEM=ispell_8_wave4
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 0 1
LINK.NEWITEM=ispell_8_wave4
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 1 2
LINK.NEWITEM=ispell_8_wave4
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 2 2


REMOVE
RETURN 1

[ITEMDEF ispell_8_wave1]
ID=01fb7

ON=@Create
TIMER=1
MORE2=6

ON=@Timer
MOVE 0 -1
MORE2=<MORE2>-1
IF <MORE2>==0
REMOVE
ENDIF
TIMER=1
RETURN 1

ON=@Step
SRC.DAMAGE {30 50}
RETURN 0

[ITEMDEF ispell_8_wave2]
ID=01fbc

ON=@Create
TIMER=1
MORE2=6

ON=@Timer
MOVE -1 0
MORE2=<MORE2>-1
IF <MORE2>==0
REMOVE
ENDIF
TIMER=1
RETURN 1

ON=@Step
SRC.DAMAGE {30 50}
RETURN 0

[ITEMDEF ispell_8_wave3]
ID=01fc1

ON=@Create
TIMER=1
MORE2=6

ON=@Timer
MOVE 1 0
MORE2=<MORE2>-1
IF <MORE2>==0
REMOVE
ENDIF
TIMER=1
RETURN 1

ON=@Step
SRC.DAMAGE {30 50}
RETURN 0


[ITEMDEF ispell_8_wave4]
ID=01fc6

ON=@Create
TIMER=1
MORE2=6

ON=@Timer
MOVE 0 1
MORE2=<MORE2>-1
IF <MORE2>==0
REMOVE
ENDIF
TIMER=1
RETURN 1

ON=@Step
SRC.DAMAGE {30 50}
RETURN 0



[ITEMDEF ispell_9]
// Flashfire
ID=i_memory
NAME=Rel Pul Eam
TYPE=t_eq_script

ON=@Create
MORE=2

ON=@Dclick
TIMER=2
LINK=<SRC.UID>
RETURN 1

ON=@Timer
IF <LINK.DIR>==0
VAR.XMOVE=0
VAR.YMOVE=-2
ELIF <LINK.DIR>==4
VAR.XMOVE=0
VAR.YMOVE=2
ELIF <LINK.DIR>==6
VAR.XMOVE=-2
VAR.YMOVE=0
ELIF <LINK.DIR>==2
VAR.XMOVE=2
VAR.YMOVE=0
ELSE
LINK.SYSMESSAGE Try turning north, east, south or west when casting this spell!
REMOVE
RETURN 1
ENDIF

IF <VAR.YMOVE>
LINK.NEWITEM=ispell_9_fire1
LINK.ACT.P=<LINK.P>
LINK.ACT.TAG.MORE=<VAR.YMOVE>
LINK.ACT.LINK=<LINK>
LINK.ACT.MOVE -2 <VAR.YMOVE>
LINK.NEWITEM=ispell_9_fire1
LINK.ACT.P=<LINK.P>
LINK.ACT.TAG.MORE=<VAR.YMOVE>
LINK.ACT.LINK=<LINK>
LINK.ACT.MOVE -1 <VAR.YMOVE>
LINK.NEWITEM=ispell_9_fire1
LINK.ACT.P=<LINK.P>
LINK.ACT.TAG.MORE=<VAR.YMOVE>
LINK.ACT.LINK=<LINK>
LINK.ACT.MOVE 0 <VAR.YMOVE>
LINK.NEWITEM=ispell_9_fire1
LINK.ACT.P=<LINK.P>
LINK.ACT.LINK=<LINK>
LINK.ACT.TAG.MORE=<VAR.YMOVE>
LINK.ACT.MOVE 1 <VAR.YMOVE>
LINK.NEWITEM=ispell_9_fire1
LINK.ACT.P=<LINK.P>
LINK.ACT.TAG.MORE=<VAR.YMOVE>
LINK.ACT.LINK=<LINK>
LINK.ACT.MOVE 2 <VAR.YMOVE>
REMOVE
RETURN 1
ENDIF

IF <VAR.XMOVE>
LINK.NEWITEM=ispell_9_fire2
LINK.ACT.LINK=<LINK>
LINK.ACT.TAG.MORE=<VAR.XMOVE>
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE <VAR.XMOVE> -2
LINK.NEWITEM=ispell_9_fire2
LINK.ACT.P=<LINK.P>
LINK.ACT.LINK=<LINK>
LINK.ACT.TAG.MORE=<VAR.XMOVE>
LINK.ACT.MOVE <VAR.XMOVE> -1
LINK.NEWITEM=ispell_9_fire2
LINK.ACT.P=<LINK.P>
LINK.ACT.LINK=<LINK>
LINK.ACT.TAG.MORE=<VAR.XMOVE>
LINK.ACT.MOVE <VAR.XMOVE> 0
LINK.NEWITEM=ispell_9_fire2
LINK.ACT.P=<LINK.P>
LINK.ACT.LINK=<LINK>
LINK.ACT.TAG.MORE=<VAR.XMOVE>
LINK.ACT.MOVE <VAR.XMOVE> 1
LINK.NEWITEM=ispell_9_fire2
LINK.ACT.P=<LINK.P>
LINK.ACT.LINK=<LINK>
LINK.ACT.TAG.MORE=<VAR.XMOVE>
LINK.ACT.MOVE <VAR.XMOVE> 2
REMOVE
RETURN 1
ENDIF

REMOVE
RETURN 1

[ITEMDEF ispell_9_fire1]
ID=0398c
NAME=flashfire
TYPE=t_script

ON=@Create
TIMER=3
COLOR=0799
MORE2=0

ON=@Timer
MOVE 0 <EVAL <TAG.MORE>/2>
IF <REGION.GUARDED>
REMOVE
ENDIF
MORE2=<MORE2>+1
LINK.NEWITEM=ispell_9_lava
LINK.ACT.P=<P>
IF <MORE2>==10
REMOVE
ELSE
TIMER=1
ENDIF
RETURN 1

ON=@Step
SRC.DAMAGE {50 75}
RETURN 0


[ITEMDEF ispell_9_fire2]
ID=03996
NAME=flashfire
TYPE=t_script

ON=@Create
TIMER=3
COLOR=0799
MORE2=0

ON=@Timer
MOVE <EVAL <TAG.MORE>/2> 0
IF <REGION.GUARDED>
REMOVE
ENDIF
MORE2=<MORE2>+1
LINK.NEWITEM=ispell_9_lava
LINK.ACT.P=<P>
IF <MORE2>==10
REMOVE
ELSE
TIMER=1
ENDIF
RETURN 1

ON=@Step
SRC.DAMAGE {50 75}
RETURN 0

[ITEMDEF ispell_9_lava]
ID=012ee
TYPE=t_normal
NAME=molten landscape

ON=@Create
ATTR=attr_decay|010
TIMER=9

ON=@Step
SRC.DAMAGE={30 50}
RETURN 1

[ITEMDEF ispell_10]
// Manabarb
ID=i_memory
NAME=Bau Pul
TYPE=t_eq_script

ON=@Create
MORE=9

ON=@Dclick
TARGET Select target.
RETURN 1

ON=@Targon_char
SRC.TARG.EFFECT 3,i_fx_curse,16,16,0
SRC.TARG.EFFECT 3,i_fx_curse,16,16,0
SRC.TARG.EFFECT 3,i_fx_curse,16,16,0
SRC.NEWITEM=i_fx_sparkle
SRC.ACT.ATTR=attr_decay
SRC.ACT.TIMER=2
SRC.ACT.COLOR=0785
SRC.ACT.P=<SRC.TARG.P>
SRC.TARG.EVENTS +e_manabarb
SRC.NEWITEM=ispell_10_delay
SRC.ACT.LINK=<SRC.TARG.UID>
SRC.ACT.P=<SRC.TARG.P>
REMOVE
RETURN 1

[ITEMDEF ispell_10_delay]
ID=i_memory
TYPE=t_script

ON=@Create
ATTR=attr_decay|010
TIMER=150

ON=@Timer
LINK.EFFECT 3,i_fx_sparkle,16,16,0
LINK.EVENTS -e_manabarb
REMOVE
RETURN 1

[EVENTS e_manabarb]
ON=@SpellCast
VAR.TEMP=<EVAL <argn>/8>+1
DAMAGE <EVAL <VAR.TEMP>*20>
EFFECT 3,i_fx_curse,16,16,0
RETURN 0


[ITEMDEF ispell_11]
// Holy
ID=i_memory
NAME=Del Ock Ala
TYPE=t_eq_script

ON=@Create
MORE=15

ON=@Dclick
TARGET Select undead.
RETURN 1

ON=@Targon_char
IF (<SRC.TARG.NPC>!=brain_undead)
SRC.SYSMESSAGE That is not undead!
REMOVE
RETURN 1
ELSE
SRC.TARG.EFFECT 1,0,0,0,0
SRC.TARG.EFFECT 1,0,0,0,0
SRC.TARG.EFFECT 1,0,0,0,0
SRC.TARG.EFFECT 1,0,0,0,0
SRC.TARG.EFFECT 1,0,0,0,0
SRC.TARG.FLAGS=statf_conjured
SRC.TARG.KILL
REMOVE
RETURN 1
ENDIF

[ITEMDEF ispell_12]
// Particle Form
ID=i_memory
NAME=Iln Xyr
TYPE=t_eq_script

ON=@Create
MORE=3

ON=@Dclick
TIMER=3
LINK=<SRC.UID>
RETURN 1

ON=@Timer
IF <MORE2>==0
LINK.COLOR=01
LINK.TAG.PFORM=1
LINK.FLAGS=<LINK.FLAGS>|04
TIMER=20
LINK.EVENTS +e_particle
MORE2=1
RETURN 1
ELSE
LINK.TAG.PFORM=0
LINK.COLOR=<LINK.OCOLOR>
LINK.EVENTS -e_particle
LINK.FLAGS=<LINK.FLAGS>&~04
REMOVE
RETURN 1
ENDIF

[EVENTS e_particle]
ON=@itemDClick
RETURN 1

ON=@Hit
RETURN 1

ON=@GetHit
RETURN 1

ON=@SpellEffect
RETURN 1

ON=@SpellCast
SYSMESSAGE You cannot do this in particle form!
RETURN 1



[ITEMDEF ispell_13]
// Smoke
ID=i_memory
NAME=Rel Kur
TYPE=t_eq_script

ON=@Create
MORE=10
MORE2=0

ON=@Dclick
TIMER=2
LINK=<SRC.UID>
RETURN 1

ON=@Timer
IF <MORE2>
LINK.INVIS=0
REMOVE
RETURN 1
ELSE
LINK.NEWITEM=ispell_13_smoke
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -1 -1
LINK.NEWITEM=ispell_13_smoke
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 1 -1
LINK.NEWITEM=ispell_13_smoke
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE -1 1
LINK.NEWITEM=ispell_13_smoke
LINK.ACT.P=<LINK.P>
LINK.ACT.MOVE 1 1
LINK.INVIS=1
MORE2=1
TIMER=20
ENDIF

[ITEMDEF ispell_13_smoke]
ID=i_fx_smoke
NAME=smoke screen

ON=@Create
TIMER=20
COLOR=079e
ATTR=attr_decay|010

[ITEMDEF ispell_14]
// Firestorm
ID=i_memory
NAME=Eam Haum
TYPE=t_eq_script

ON=@Create
MORE=2

ON=@DCLick
SRC.NEWITEM=ispell_14_timer
SRC.ACT.P=<SRC.P>
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.TIMER=2
REMOVE
RETURN 1


[ITEMDEF ispell_14_timer]
ID=i_memory
NAME=Spell 14 Timer
TYPE=t_script

ON=@Create
ATTR=attr_decay

ON=@Timer
LINK.ISPELL_14_FIRE
LINK.ISPELL_14_FIRE
LINK.ISPELL_14_FIRE
LINK.ISPELL_14_FIRE
LINK.ISPELL_14_FIRE
LINK.ISPELL_14_FIRE
LINK.ISPELL_14_FIRE
LINK.ISPELL_14_FIRE
LINK.ISPELL_14_FIRE
LINK.ISPELL_14_FIRE
LINK.ISPELL_14_FIRE
LINK.ISPELL_14_FIRE
LINK.ISPELL_14_FIRE
REMOVE

[FUNCTION ISPELL_14_FIRE]
NEWITEM=03709
ACT.P=<P>
ACT.MOVE <EVAL RAND(9)-5> <EVAL RAND(9)-5>
ACT.ATTR=attr_decay
ACT.UPDATE
ACT.TIMER=8
NEWITEM=03709
ACT.P=<P>
ACT.MOVE <EVAL RAND(9)-5> <EVAL RAND(9)-5>
ACT.UPDATE
ACT.ATTR=attr_decay
ACT.TIMER=8

[ITEMDEF ispell_15]
// Flamewave
ID=i_memory
NAME=Rel Flam
TYPE=t_eq_script

ON=@Create
MORE=4

ON=@DClick
TARGET Select target.
RETURN 1

ON=@Targon_char
IF <SRC.UID>==<SRC.TARG.UID>
RETURN 1
ENDIF
SRC.TARGET.EFFECT 0,03709,5,16,1
SRC.TARGET.DAMAGE {58 89}
REMOVE
RETURN 1

[ITEMDEF ispell_16]
ID=i_memory
TYPE=t_script
NAME=Wall Of Brambles

ON=@Create
MORE=5

ON=@DClick
TARGETG Select Target.
RETURN 1

ON=@Targon_ground
IF (<SRC.DIR>==0)||(<SRC.DIR>==1)||(<SRC.DIR>==4)||(<SRC.DIR>==5)
VAR.MOVEX=1
VAR.MOVEY=0
ELSE
VAR.MOVEX=0
VAR.MOVEY=1
ENDIF
IF (<VAR.MOREX>==1)
VAR.XINIT=0
VAR.YINIT=-3
ELSE
VAR.XINIT=0
VAR.YINIT=-3
ENDIF

SRC.NEWITEM=ispell_16_bramble
SRC.ACT.P=<SRC.TARGP>
SRC.ACT.MOVE <EVAL <VAR.XINIT>> <EVAL <VAR.YINIT>>
SRC.ACT.MORE=<VAR.MOVEX>
SRC.ACT.MORE2=<VAR.MOVEY>
SRC.ACT.LINK=<SRC.UID>
SRC.ACT.ISPELL_16_MOVEIT 7
RETURN 1

[FUNCTION ISPELL_16_MOVEIT]
IF (0<ARGS>==0)
RETURN 1
ENDIF
LINK.NEWITEM=ispell_16_bramble
LINK.ACT.P=<P>
LINK.ACT.MOVE <EVAL <MORE>> <EVAL <MORE2>>
LINK.ACT.EFFECT 2,0376a,1,15,1
IF <MORE>
MORE=<MORE>+1
ELSEIF <MORE2>
MORE2=<MORE2>+1
ENDIF
ISPELL_16_MOVEIT <EVAL <ARGS>-1>
RETURN 0


[ITEMDEF ispell_16_bramble]
ID=i_plant_bramble
TYPE=t_script

ON=@Create
COLOR=077a
ATTR=attr_decay
TIMER=20

ON=@DClick
SRC.EFFECT 3,03709,1,15,1
SRC.DAMAGE {30 50}
RETURN 1

ON=@Timer
REMOVE
RETURN 1

[ITEMDEF ispell_17]
ID=i_memory
TYPE=t_script
NAME=ERRANT MINION

ON=@Create
MORE=3

ON=@DClick
TARGET Select creature.
RETURN 1

ON=@Targon_Char
IF (0<SRC.TARG.MEMORYFINDTYPE.MEMORY_IPET.UID>==0)
SRC.SYSMESSAGE This creature is not a pet!
RETURN 1
ENDIF
VAR.OWNER=<SRC.TARG.MEMORYFINDTYPE.MEMORY_IPET.LINK>
SRC.TARG.MEMORYFINDTYPE.MEMORY_IPET.COLOR=02095
SRC.TARG.FLAGS=<SRC.TARG.FLAGS>|statf_war
SRC.NEWITEM=ispell_17_attacker
SRC.ACT.LINK=<SRC.TARG.UID>
SRC.ACT.CONT=<VAR.OWNER>
SRC.TARG.EMOTE attack <SRC.UID.OWNER.NAME>.
RETURN 1

[ITEMDEF ispell_17_attacker]
ID=i_memory
TYPE=t_eq_script
NAME=Spell 17 Attacker

ON=@Create
TIMER=1

ON=@Equip
LINK.ATTACK
RETURN 1

ON=@Timer
LINK.ATTACK
RETURN 1

[ITEMDEF ispell_18]
// Tempest
ID=i_memory
TYPE=t_script
NAME=TEMPEST

ON=@Create
MORE=3

ON=@Dclick
TARGETG Select target!
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE The storm has been seeded.
SRC.NEWITEM=ispell_18_storm
SRC.ACT.P=<SRC.TARGP>
SRC.ACT.LINK=<SRC.UID>
REMOVE
RETURN 1

[ITEMDEF ispell_18_storm]
ID=i_memory
TYPE=t_script
NAME=Spell 18 Executer

ON=@Create
TIMER=0
ATTR=attr_decay

ON=@Timer
ISPELL_18_LIGHTNING
ISPELL_18_LIGHTNING
ISPELL_18_LIGHTNING
ISPELL_18_LIGHTNING
ISPELL_18_LIGHTNING
ISPELL_18_LIGHTNING
ISPELL_18_LIGHTNING
ISPELL_18_LIGHTNING
ISPELL_18_LIGHTNING
ISPELL_18_LIGHTNING
ISPELL_18_LIGHTNING
ISPELL_18_LIGHTNING
REMOVE
RETURN 1

[FUNCTION ispell_18_lightning]
LINK.NEWNPC=c_storm_man
LINK.ACT.P=<P>
LINK.ACT.MOVE <EVAL RAND(7)-4> <EVAL RAND(7)-4>
LINK.ACT.WALK W
LINK.ACT.WALK E
LINK.NEWITEM=ispell_18_mem
LINK.ACT.P=<P>
LINK.ACT.MOVE <EVAL RAND(7)-4> <EVAL RAND(7)-4>
LINK.NEWITEM=ispell_18_mem
LINK.ACT.P=<P>
LINK.ACT.MOVE <EVAL RAND(7)-4> <EVAL RAND(7)-4>
LINK.NEWITEM=ispell_18_mem
LINK.ACT.P=<P>
LINK.ACT.MOVE <EVAL RAND(7)-4> <EVAL RAND(7)-4>


[EVENTS ispell_e_18]
ON=@ItemStep
SRC.ACT.EFFECT 2,03709,1,15,1
RETURN 0

ON=@Click
RETURN 1

[CHARDEF c_storm_man]
ID=01a8
CAN=mt_equip|mt_walk
TEVENTS=ispell_e_18


ON=@NPCRestock
ITEMNEWBIE=ispell_18_mem


[ITEMDEF ispell_18_mem]
ID=i_memory
TYPE=t_eq_script

ON=@Create
TIMER=0
ATTR=attr_decay

ON=@Step
SRC.EFFECT 3,03709,1,15,1
SRC.DAMAGE {50 80}

ON=@Timer
IF (<CONT> )
CONT.EFFECT 1,0,0,0,0
CONT.REMOVE
ELSE
IF (<MORE> )
REMOVE
ELSE
MORE=1
TIMER=3
ENDIF
ENDIF
RETURN 1

[ITEMDEF ispell_19]
ID=i_memory
TYPE=t_script

ON=@Create
MORE=3

ON=@DClick
TARGET Select Target!
RETURN 1

ON=@Targon_Char
SRC.TARG.FLEE
SRC.TARG.TAG.OLDDEX=<SRC.TARG.DEX>
SRC.TARG.DEX=10000
SRC.NEWITEM=ispell_44_mem
SRC.ACT.CONT=<SRC.TARG.UID>
REMOVE
RETURN 1

[ITEMDEF ispell_44_mem]
ID=i_memory
TYPE=t_eq_script

ON=@Create
TIMER=20
ATTR=attr_decay

ON=@Timer
CONT.DEX=<CONT.TAG.OLDDEX>
REMOVE
RETURN 1

[ITEMDEF ispell_20]
// Sandstorm
ID=i_memory
TYPE=t_script
NAME=SANDSTORM

ON=@Create
MORE=3

ON=@Dclick
TIMER=3
LINK=<SRC.UID>
MOREP=<SRC.P>
RETURN 1

ON=@Timer
SERV.ALLCLIENTS ispell_45_checker <LINK>

[FUNCTION ispell_45_checker]
ACT=<ARGS>
IF <ACT.DISTANCE><6
ispell_45_sand
ispell_45_sand
ispell_45_sand
ispell_45_sand
ispell_45_sand
ispell_45_sand
ispell_45_sand
ENDIF

[FUNCTION ispell_45_sand]
NEWITEM=0376a
ACT.TIMER=2
ACT.COLOR=02e4
ACT.ATTR=attr_decay
ACT.P=<P>
ACT.MOVE <EVAL RAND(7)-3> <EVAL RAND(7)-3>
ACT.TYPE ispell_t_sand
NEWITEM=0376a
ACT.TIMER=2
ACT.COLOR=02e4
ACT.ATTR=attr_decay
ACT.P=<P>
ACT.MOVE <EVAL RAND(7)-3> <EVAL RAND(7)-3>
ACT.TYPE ispell_t_sand

[TYPEDEF ispell_t_sand]
ON=@Step
SRC.DAMAGE {40 60}
SRC.ispell_45_sand
SRC.ispell_45_sand
SRC.ispell_45_sand
SRC.ispell_45_sand
REMOVE
RETURN 1

[ITEMDEF ispell_21]
// Harden (turns target to stone)
ID=i_memory
TYPE=t_script
NAME=HARDEN

ON=@Create
MORE=3

ON=@Dclick
TARGET Select creature.
RETURN 1

ON=@Targon_char
SRC.TARG.EFFECT 2,037be,1,5,1
SRC.TARG.STONE
SRC.TARG.NEWITEM=ispell_48_mem
SRC.TARG.ACT.CONT=<SRC.TARG.UID>
REMOVE
RETURN 1

[ITEMDEF ispell_48_mem]
ID=i_memory
TYPE=t_eq_script
NAME=Spell 48 Undo'er

ON=@Create
TIMER=45
ATTR=attr_decay

ON=@Timer
CONT.STONE
REMOVE
RETURN 1

[ITEMDEF ispell_22]
ID=i_memory
TYPE=t_script
NAME=FORTIFY

ON=@Create
MORE=3 

ON=@DClick
TARGET Select Target.
RETURN 1

ON=@Targon_Char
SRC.ISPELL_49_WALL -1 -1
SRC.ISPELL_49_WALL -1 0
SRC.ISPELL_49_WALL -1 1
SRC.ISPELL_49_WALL 0 -1
SRC.ISPELL_49_WALL 0 1
SRC.ISPELL_49_WALL 1 -1
SRC.ISPELL_49_WALL 1 0
SRC.ISPELL_49_WALL 1 1
REMOVE
RETURN 1

[FUNCTION ispell_49_wall]
SRC.NEWITEM=02c9
SRC.ACT.ATTR=attr_decay|010
SRC.ACT.TIMER=15
SRC.ACT.P=<SRC.TARG.P>
SRC.ACT.MOVE <ARGS>
SRC.ACT.EFFECT 2,0376a,1,15,1


[ITEMDEF ispell_23]
ID=i_memory
TYPE=t_script
NAME=ENERGY TAP

ON=@Create
MORE=3

ON=@DClick
TARGET Select Target.
RETURN 1

ON=@Targon_Char
IF !<SRC.TARG.ISMYPET>
SRC.SYSMESSAGE The target must be your pet!
ELSE
SRC.EFFECT 3,0376a,1,15,1
SRC.TARG.EFFECT 2,0376a,1,15,1
SRC.SPELLEFFECT s_greater_heal <SRC.TARG.STR>
SRC.TARG.REMOVE
ENDIF
REMOVE
RETURN 1

[ITEMDEF ispell_24] // Replace n with the spell #
ID=i_memory
TYPE=t_script // Always t_script
NAME=ICESTRIKE // Spell words

ON=@Create
MORE=3 // Difficulty level (used for cast time, mana use, fizzling, etc)

ON=@DClick // Happens immediately
TARGETG Select Target.
RETURN 1

ON=@Targon_Char // Or whatever
TARGETG Target the ground, not a character!
RETURN 1

ON=@Targon_ground
SRC.NEWITEM=ispell_52_ice
SRC.ACT.P=<SRC.TARGP>
SRC.ACT.LINK=<SRC.UID>
SECTOR.SNOW
REMOVE
RETURN 1

[ITEMDEF ispell_52_ice]
ID=0374A
NAME=ice

ON=@Create
COLOR=0480
TIMER=1
ATTR=attr_decay
MORE=2

ON=@Timer
IF <MORE>==2
ispell_52_makenew -2 -2
ispell_52_makenew -2 0
ispell_52_makenew -2 2
ispell_52_makenew 0 -2
ispell_52_makenew 0 2
ispell_52_makenew 2 -2
ispell_52_makenew 2 0
ispell_52_makenew 2 2
MORE=1
ELIF <MORE>==1
ispell_52_makenew -1 -1
ispell_52_makenew -1 0
ispell_52_makenew -1 1
ispell_52_makenew 0 -1
ispell_52_makenew 0 1
ispell_52_makenew 1 -1
ispell_52_makenew 1 0
ispell_52_makenew 1 1
MORE=0
ELSE
REMOVE
ENDIF
TIMER={2 6}
RETURN 1

[FUNCTION ispell_52_makenew]
LINK.NEWITEM=ispell_52_ice
LINK.ACT.P=<P>
LINK.ACT.MORE=<EVAL <MORE>-1>
LINK.ACT.LINK=<LINK>
LINK.ACT.MOVE <ARGS>
LINK.ACT.TIMER={2 6}

[ITEMDEF ispell_25]
ID=i_memory
TYPE=t_script
NAME=ROOT

ON=@Create
MORE=3

ON=@DClick
TARGET Select mobile.
RETURN 1

ON=@Targon_char
SRC.TARG.EFFECT 3,i_fx_sparkle,1,15,0
SRC.TARG.EMOTE freeze.
SRC.TARG.FLAGS=04
SRC.NEWITEM=ispell_53_unfreezer
SRC.ACT.CONT=<SRC.TARG.UID>
REMOVE
RETURN 1

[ITEMDEF ispell_53_unfreezer]
ID=i_memory
TYPE=t_eq_script
NAME=Spell 53 Thaw

ON=@Create
MORE=0
TIMER=10
ATTR=attr_decay

ON=@Timer
CONT.FLAGS=<CONT.FLAGS>|04
DOSWITCH <MORE>
CONT.EMOTE twitch <CONT.SEX his/her> fingers
CONT.EMOTE spasm in <CONT.SEX his/her> muscles
CONT.EMOTE take a step falteringly
CONT.EMOTE raise <CONT.SEX his/her> arm above <CONT.SEX his/her> head
CONT.EMOTE break into freedom
ENDDO
IF <MORE>==4
IF <CONT.FLAGS>&04
CONT.FLAGS=<CONT.FLAGS>-04
ENDIF
REMOVE
RETURN 1
ENDIF
MORE=<MORE>+1
TIMER=10
RETURN 1

[ITEMDEF ispell_26]
ID=i_memory
TYPE=t_eq_script
NAME=OPEN BANK

ON=@Create
MORE=3

ON=@Dclick
TIMER=3
CONT=<SRC.UID>
RETURN 1

ON=@Timer
CONT.BANKSELF
REMOVE
RETURN 1

[EOF]

[EOF]
