// I don't know who is the original scripter but the script was made for sphere 0.51 and i took the liberty 
// to rewrite it for 0.55. I didn't have time , yet, to script the magic donuts and the magic cake for 
// the Secret Page. Feel free to do so if you want to...


////////////////////////////////////////////////////
// //
// Bibendus's CookBook // 
// scripted by: ???? //
// rescripted for 0.55 by Arislan from UOAcrohar //
// //
////////////////////////////////////////////////////

[itemdef i_cookbook2]
NAME=Bibendus' Cookbook 
//ID=00ff2 
ID=00efa 
VALUE=8-11

on=@create 
COLOR=02ea 
TYPE=107 
ATTR=0 
CATEGORY=Items by Professions 
SUBSECTION=Baker 
DESCRIPTION=Bibendus' Cookbook 


ON=@DCLICK 
DIALOG d_cookbook2
RETURN 1 

ON=@TIMER 
RETURN 1 


[DIALOG d_cookbook2] //Cook Book 
0, 0 
page 0 
gumppic 100 10 2200 //book 

button 130 187 2225 2225 0 2 0 //buttons for other pages 
button 165 187 2226 2226 0 2 0 
button 200 187 2227 2227 0 3 0 
button 235 187 2228 2228 0 3 0 
button 300 187 2229 2229 0 4 0 
button 335 187 2230 2230 0 4 0 
button 370 187 2231 2231 0 5 0 
button 400 187 2232 2232 0 5 0 
button 265 235 2094 2095 0 1 0 

//**********INDEX********** 
page 1 
text 170 15 0 2 //Index 
text 330 15 0 2 //Index 

gumppic -45 -120 2204 //book title & autor 
gumppic 175 90 2241 //cooking picture 
text 165 60 037 1 //CookBook 
text 168 150 037 0 //Bibendus 
gumppic 256 10 2221 

gumppic 130 187 2225 //fake buttons 
gumppic 165 187 2226 
gumppic 200 187 2227 
gumppic 235 187 2228 

gumppic 290 50 57 
gumppic 310 50 58 
gumppic 325 50 58 
gumppic 340 50 58 
gumppic 355 50 58 
gumppic 370 50 58 
gumppic 385 50 58 
gumppic 395 50 59 

button 393 14 2206 2206 0 2 0 //Next page 
button 435 14 95 95 0 6 0 //Secret Pages 

button 290 65 2103 2104 1 0 1 
button 290 80 2103 2104 1 0 2 
button 290 95 2103 2104 1 0 3 
button 290 110 2103 2104 1 0 4 
button 290 125 2103 2104 1 0 5 
button 290 140 2103 2104 1 0 6 
button 290 155 2103 2104 1 0 7 
button 290 170 2103 2104 1 0 8 
text 305 60 0 13 //Muffins 
text 305 75 0 14 //Bread Loaf 
text 305 90 0 15 //Cookies 
text 305 105 0 16 //French Bread 
text 305 120 0 17 //Cake 
text 305 135 0 18 //Pizza 
text 305 150 0 19 //Donuts 
text 305 165 0 20 //Apple Pie 


page 2 
gumppic 135 88 58 
gumppic 150 88 58 
gumppic 165 88 58 
gumppic 180 88 58 
gumppic 195 88 58 
gumppic 210 88 58 
gumppic 225 88 58 
gumppic 240 88 58 
gumppic 300 88 58 
gumppic 315 88 58 
gumppic 330 88 58 
gumppic 345 88 58 
gumppic 360 88 58 
gumppic 375 88 58 
gumppic 390 88 58 
gumppic 405 88 58 

button 125 14 2205 2205 0 1 0 //Prev page 
button 393 14 2206 2206 0 3 0 //Next page 
button 435 14 95 95 0 6 0 //Secret Pages 

text 170 15 0 3 //page 1 
text 155 40 1103 13 //Bread Loaf 
tilepic 175 70 4155 //Bread Loaf image 
button 130 70 2224 2224 1 0 1 //button 

text 130 100 1005 23 //Ingredients 
text 130 115 2100 24 //2 
text 145 115 0 33 //sack of flour 
text 130 130 2100 25 //1 
text 145 130 0 35 //pitcher of water 

text 330 15 0 4 //page 2 
text 325 40 1103 14 //Muffins 
tilepic 335 70 2539 //Muffins image 
button 405 70 2223 2223 1 0 2 //button 

text 290 100 1005 23 //Ingredients 
text 292 115 2100 24 //1 
text 305 115 0 33 //sack of flour 
text 290 130 2100 25 //2 
text 305 130 0 37 //eggs 


page 3 
gumppic 135 88 58 
gumppic 150 88 58 
gumppic 165 88 58 
gumppic 180 88 58 
gumppic 195 88 58 
gumppic 210 88 58 
gumppic 225 88 58 
gumppic 240 88 58 
gumppic 300 88 58 
gumppic 315 88 58 
gumppic 330 88 58 
gumppic 345 88 58 
gumppic 360 88 58 
gumppic 375 88 58 
gumppic 390 88 58 
gumppic 405 88 58 

button 125 14 2205 2205 0 2 0 //Prev page 
button 393 14 2206 2206 0 4 0 //Next page 
button 435 14 95 95 0 6 0 //Secret Pages 

text 170 15 0 5 //page 3 
text 170 40 1103 15 //Cookies 
tilepic 175 57 5643 //Cookies image 
button 130 70 2224 2224 1 0 3 //button 

text 130 100 1005 23 //Ingredients 
text 132 115 2100 24 //1 
text 145 115 0 33 //sack of flour 
text 132 130 2100 24 //1 
text 145 130 0 34 //sack of sugar 
text 130 145 2100 26 //3 
text 145 145 0 37 //eggs 

text 330 15 0 6 //page 4 
text 310 40 1103 16 //French Bread 
tilepic 335 65 2444 //French Bread image 
button 405 70 2223 2223 1 0 4 //button 

text 290 100 1005 23 //Ingredients 
text 290 115 2100 26 //3 
text 305 115 0 33 //sack of flour 
text 290 130 2100 26 //3 
text 305 130 0 35 //pitcher of water 


page 4 
gumppic 135 88 58 
gumppic 150 88 58 
gumppic 165 88 58 
gumppic 180 88 58 
gumppic 195 88 58 
gumppic 210 88 58 
gumppic 225 88 58 
gumppic 240 88 58 
gumppic 300 88 58 
gumppic 315 88 58 
gumppic 330 88 58 
gumppic 345 88 58 
gumppic 360 88 58 
gumppic 375 88 58 
gumppic 390 88 58 
gumppic 405 88 58 

button 125 14 2205 2205 0 3 0 //Prev page 
button 393 14 2206 2206 0 5 0 //Next page 
button 435 14 95 95 0 6 0 //Secret Pages 

text 170 15 0 7 //page 5 
text 175 40 1103 17 //Cake 
tilepic 175 65 2537 //Cake image 
button 130 70 2224 2224 1 0 5 //button 

text 130 100 1005 23 //Ingredients 
text 132 115 2100 24 //1 
text 145 115 0 33 //sack of flour 
text 132 130 2100 24 //1 
text 145 130 0 34 //sack of sugar 
text 130 145 2100 27 //4 
text 145 145 0 37 //eggs 
text 132 160 2100 24 //1 
text 145 160 0 36 //picher of milk 


text 330 15 0 8 //page 6 
text 335 40 1103 18 //Pizza 
tilepic 330 65 4160 //Pizza image 
button 405 70 2223 2223 1 0 6 //button 

text 290 100 1005 23 //Ingredients 
text 290 115 2100 27 //4 
text 305 115 0 33 //sack of flour 
text 290 130 2100 27 //4 
text 305 130 0 35 //pithcer of water 


page 5 
gumppic 135 88 58 
gumppic 150 88 58 
gumppic 165 88 58 
gumppic 180 88 58 
gumppic 195 88 58 
gumppic 210 88 58 
gumppic 225 88 58 
gumppic 240 88 58 
gumppic 300 88 58 
gumppic 315 88 58 
gumppic 330 88 58 
gumppic 345 88 58 
gumppic 360 88 58 
gumppic 375 88 58 
gumppic 390 88 58 
gumppic 405 88 58 

button 125 14 2205 2205 0 4 0 //Prev page 
button 435 14 95 95 0 6 0 //Secret Pages 

text 170 15 0 9 //page 7 
text 170 40 1103 19 //Donuts 
tilepic 175 70 6867 //Donuts image 
button 130 70 2224 2224 1 0 7 //button 

text 130 100 1005 23 //Ingredients 
text 130 115 2100 25 //2 
text 145 115 0 33 //sack of flour 
text 130 130 2100 27 //4 
text 145 130 0 34 //sack of sugar 
text 130 145 2100 27 //4 
text 145 145 0 37 //eggs 

text 330 15 0 10 //page 8 
text 323 40 1103 20 //Apple Pie 
tilepic 338 70 4161 //Apple Pie image 
button 405 70 2223 2223 1 0 8 //button 

text 290 100 1005 23 //Ingredients 
text 290 115 2100 25 //2 
text 305 115 0 33 //sack of flour 
text 290 130 2100 25 //2 
text 305 130 0 34 //sack of sugar 
text 290 145 2100 27 //4 
text 305 145 0 37 //eggs 
text 290 160 2100 27 //4 
text 305 160 0 38 //apples 


page 6 
gumppic 135 88 58 
gumppic 150 88 58 
gumppic 165 88 58 
gumppic 180 88 58 
gumppic 195 88 58 
gumppic 210 88 58 
gumppic 225 88 58 
gumppic 240 88 58 
gumppic 300 88 58 
gumppic 315 88 58 
gumppic 330 88 58 
gumppic 345 88 58 
gumppic 360 88 58 
gumppic 375 88 58 
gumppic 390 88 58 
gumppic 405 88 58 

button 125 14 2205 2205 0 5 0 //Prev page 

text 155 15 0 11 //Secret Page 1 
text 160 40 1103 21 //Magic Donuts 
tilepic 175 70 6867 //Donuts image 
button 130 70 2224 2224 1 0 9 //button 

text 130 100 1005 23 //Ingredients 
text 130 115 2100 26 //3 
text 145 115 0 33 //sack of flour 
text 130 130 2100 29 //6 
text 145 130 0 34 //sack of sugar 
text 130 145 2100 29 //6 
text 145 145 0 37 //eggs 
text 130 160 2100 29 //6 
text 145 160 0 39 //ginseng 

text 310 15 0 12 //Secret Page 2 
text 320 40 1103 22 //Magic Cake 
tilepic 335 65 2537 //Cake image 
button 405 70 2223 2223 1 0 10 //button 

text 290 100 1005 23 //Ingredients 
text 290 115 2100 27 //4 
text 305 115 0 33 //sack of flour 
text 290 130 2100 27 //4 
text 305 130 0 34 //sack of sugar 
text 290 145 2100 31 //8 
text 305 145 0 37 //eggs 
text 290 160 2100 31 //8 
text 305 160 0 39 //gingseng

Bibendus's CookBook (2) 
[DIALOG d_cookbook2 TEXT] 
of Bibendus // 00 
CookBoon 
Index 
Page 1 
Page 2 
Page 3 // 05 
Page 4 
Page 5 
Page 6 
Page 7 
Page 8 // 10 
Secret Page 1 
Secret Page 2 
Bread Loaf 
Muffins 
Cookies // 15 
French Bread 
Cake 
Pizza 
Donuts 
Apple Pie // 20 
Magic Donuts 
Magic Cake 
Ingredients: 
1 
2 // 25 
3 
4 
5 
6 
7 // 30 
8 
9 
sack of flour 
honey jar 
pitcher of water// 35 
pitcher of milk 
eggs 
apple 
ginseng 


[DIALOG d_cookbook2 BUTTON] 

ONBUTTON=0 
SRC.SOUND=85 
RETURN 1 

ONBUTTON=1 
IF (<SRC.COOKING> < 15.0) 
SRC.SYSMESSAGE You are not good enough to make this 
return 1 

ELSEIF !( (<SRC.RESTEST 1 i_flour_sack> ) && (<SRC.RESTEST 2 i_pitcher_water> ) ) 
SRC.SYSMESSAGE You have not enough ingredients. 
return 1 

ELSEIF !(<SRC.RESTEST 1 i_kindling> ) 
SRC.SYSMESSAGE You have not a kindling to ignite the fire. 

ELSE 
f_makeloaf 

end if 


ONBUTTON=2 

IF (<SRC.COOKING> < 20.0) 
SRC.SYSMESSAGE You are not good enough to make this. 

ELSEIF !( (<SRC.RESTEST 1 i_flour_sack> ) && (<SRC.RESTEST 2 i_eggs_fresh> ) ) 
SRC.SYSMESSAGE You have not enough ingredients. 

ELSEIF !(<SRC.RESTEST 1 i_kindling> ) 
SRC.SYSMESSAGE You have not a kindling to ignite the fire. 

ELSE 
f_makemuffin 

ENDIF 


ONBUTTON=3 

IF (<SRC.COOKING> < 25.0) 
SRC.SYSMESSAGE You are not good enough to make this. 

ELSEIF !( (<SRC.RESTEST 1 i_flour_sack> ) && (<SRC.RESTEST 1 i_jar_honey> ) ) && (<SRC.RESTEST 3 i_eggs_fresh> ) ) 
SRC.SYSMESSAGE You have not enough ingredients. 

ELSEIF !(<SRC.RESTEST 1 i_kindling> ) 
SRC.SYSMESSAGE You have not a kindling to ignite the fire. 

ELSE 
f_makecookies 

ENDIF 


ONBUTTON=4 
IF (<SRC.COOKING> < 30.0) 
SRC.SYSMESSAGE You are not good enough to make this. 

ELSEIF !( (<SRC.RESTEST 3 i_flour_sack> ) && (<SRC.RESTEST 3 i_pitcher_water> ) ) 
SRC.SYSMESSAGE You have not enough ingredients. 

ELSEIF !(<SRC.RESTEST 1 i_kindling> ) 
SRC.SYSMESSAGE You have not a kindling to ignite the fire. 

ELSE 
f_makefrenchbr 

ENDIF 


ONBUTTON=5 

IF (<SRC.COOKING> < 35.0) 
SRC.SYSMESSAGE You are not good enough to make this. 

ELSEIF !( (<SRC.RESTEST 1 i_flour_sack> ) && (<SRC.RESTEST 1 i_jar_honey> ) && (<SRC.RESTEST 4 i_eggs_fresh> ) && (<SRC.RESTEST 1 i_pitcher_milk> ) ) 
SRC.SYSMESSAGE You have not enough ingredients. 

ELSEIF !(<SRC.RESTEST 1 i_kindling> ) 
SRC.SYSMESSAGE You have not a kindling to ignite the fire. 

ELSE 
f_makecake 

ENDIF 


ONBUTTON=6 

IF (<SRC.COOKING> < 40.0) 
SRC.SYSMESSAGE You are not good enough to make this. 

ELSEIF !( (<SRC.RESTEST 4 i_flour_sack> ) && (<SRC.RESTEST 4 i_pitcher_water> ) ) 
SRC.SYSMESSAGE You have not enough ingredients. 

ELSEIF !(<SRC.RESTEST 1 i_kindling> ) 
SRC.SYSMESSAGE You have not a kindling to ignite the fire. 

ELSE 
f_makepizza 

ENDIF 


ONBUTTON=7 

IF (<SRC.COOKING> < 50.0) 
SRC.SYSMESSAGE You are not good enough to make this. 

ELSEIF !( (<SRC.RESTEST 2 i_flour_sack> ) && (<SRC.RESTEST 4 i_jar_honey> ) && (<SRC.RESTEST 4 i_eggs_fresh> ) ) 
SRC.SYSMESSAGE You have not enough ingredients. 

ELSEIF !(<SRC.RESTEST 1 i_kindling> ) 
SRC.SYSMESSAGE You have not a kindling to ignite the fire. 

ELSE 
f_makedonuts 

ENDIF 


ONBUTTON=8 

IF (<SRC.COOKING> < 75.0) 
SRC.SYSMESSAGE You are not good enough to make this. 

ELSEIF !( (<SRC.RESTEST 2 i_flour_sack> ) && (<SRC.RESTEST 2 i_jar_honey> ) && (<SRC.RESTEST 4 i_eggs_fresh> ) && (<SRC.RESTEST 4 i_fruit_apple> ) ) 
SRC.SYSMESSAGE You have not enough ingredients. 

ELSEIF !(<SRC.RESTEST 1 i_kindling> ) 
SRC.SYSMESSAGE You have not a kindling to ignite the fire. 

ELSE 
f_makeapple_pie 

ENDIF 


ONBUTTON=9 

IF (<SRC.COOKING> < 80.0) 
SRC.SYSMESSAGE You are not good enough to make this. 

ELSEIF !( (<SRC.RESTEST 3 i_flour_sack> ) && (<SRC.RESTEST 6 i_jar_honey> ) && (<SRC.RESTEST 6 i_eggs_fresh> ) && (<SRC.RESTEST 6 i_reag_ginseng> ) ) 
SRC.SYSMESSAGE You have not enough ingredients. 

ELSEIF !(<SRC.RESTEST 1 i_kindling> ) 
SRC.SYSMESSAGE You have not a kindling to ignite the fire. 

ELSE 

SRC.CONSUME=1 i_kindling //consume the kindling 
SRC.CONSUME=3 i_flour_sack //consume ingredients 
SRC.CONSUME=6 07e00 
SRC.CONSUME=6 i_eggs_fresh 
SRC.CONSUME=6 i_reag_ginseng 


ENDIF 


ONBUTTON=10 

IF (<SRC.COOKING> < 90.0) 
SRC.SYSMESSAGE You are not good enough to make this. 

ELSEIF !( (<SRC.RESTEST 4 i_flour_sack> ) && (<SRC.RESTEST 4 i_jar_honey> ) && (<SRC.RESTEST> 8 i_eggs_fresh> ) && (<SRC.RESTEST 8 i_reag_ginseng> ) ) 
SRC.SYSMESSAGE You have not enough ingredients. 

ELSEIF !(<SRC.RESTEST 1 i_kindling> ) 
SRC.SYSMESSAGE You have not a kindling to ignite the fire. 

ELSE 
SRC.CONSUME=1 i_kindling //consume the kindling 
SRC.CONSUME=4 i_flour_sack //consume ingredients 
SRC.CONSUME=4 07e00 
SRC.CONSUME=8 i_eggs_fresh 
SRC.CONSUME=8 i_reag_ginseng 

ENDIF 





[function f_makeloaf] 

f_make_fire 

if (<SRC.RESTEST icampfiremem>) 
SRC.CONSUME=1 i_kindling //consume the kindling 
SRC.CONSUME=1 i_flour_sack //consume ingredients 
SRC.CONSUME=2 i_pitcher_water 
SRC.CONSUME=icampfiremem 

IF ( ((<SRC.COOKING>/10) + RAND(40)) >= (50) ) 
SRC.SYSMESSAGE You cooked the food. 
SRC.SOUND 477 
SRC.NEWITEM=i_bread_loaf 
SRC.ACT.BOUNCE 
SRC.NEWITEM=i_bread_loaf 
SRC.ACT.BOUNCE 
SRC.NEWITEM=i_bread_loaf 
SRC.ACT.BOUNCE 
SRC.NEWITEM=i_bread_loaf 
SRC.ACT.BOUNCE 
f_cook_up 
return 0 

ELSE 
SRC.SYSMESSAGE You burned the food to a crisp. It's ruined. 
SRC.SFX 054 
f_cook_up2 
return 1 

end if 

return 0 

else 
return 1 
endif 



[function f_makemuffin] 

f_make_fire 

if (<SRC.RESTEST icampfiremem> ) 
SRC.CONSUME=1 i_kindling //consume the kindling 
SRC.CONSUME=1 i_flour_sack //consume ingredients 
SRC.CONSUME=2 i_eggs_fresh 
SRC.CONSUME=icampfiremem 

IF ( ((<SRC.COOKING>/10) + RAND(40)) >= (50) ) 
SRC.SYSMESSAGE You cooked the food. 
SRC.SOUND 477 
SRC.NEWITEM=i_muffin 
SRC.ACT.BOUNCE 
SRC.NEWITEM=i_muffin 
SRC.ACT.BOUNCE 
SRC.NEWITEM=i_muffin 
SRC.ACT.BOUNCE 
SRC.NEWITEM=i_muffin 
SRC.ACT.BOUNCE 
f_cook_up 
return 0 

ELSE 
SRC.SYSMESSAGE You burned the food to a crisp. It's ruined. 
SRC.SFX 054 
f_cook_up2 
return 1 

end if 

return 0 

else 
return 1 

endif 

[function f_makecookies] 

f_make_fire 

if (<SRC.RESTEST icampfiremem> ) 
SRC.CONSUME=1 i_kindling //consume the kindling 
SRC.CONSUME=1 i_flour_sack //consume ingredients 
SRC.CONSUME=1 i_jar_honey 
SRC.CONSUME=3 i_eggs_fresh 
SRC.CONSUME=icampfiremem 

IF ( ((<SRC.COOKING>/10) + RAND(40)) >= (60) ) 
SRC.SYSMESSAGE You cooked the food. 
SRC.SOUND 477 
SRC.NEWITEM=i_pan_cookies 
SRC.ACT.BOUNCE 
SRC.NEWITEM=i_pan_cookies 
SRC.ACT.BOUNCE 
f_cook_up 
return 0 

ELSE 
SRC.SYSMESSAGE You burned the food to a crisp. It's ruined. 
SRC.SFX 054 
f_cook_up2 
return 1 

end if 

return 0 

eles 
return 1 

endif 

[function f_makefrenchbr] 

f_make_fire 

if (<SRC.RESTEST icampfiremem> ) 
SRC.CONSUME=1 i_kindling //consume the kindling 
SRC.CONSUME=3 i_flour_sack //consume ingredients 
SRC.CONSUME=3 i_pitcher_water 
SRC.CONSUME=icampfiremem 

IF ( ((<SRC.COOKING>/10) + RAND(40)) >= (70) ) 
SRC.SYSMESSAGE You cooked the food. 
SRC.SOUND 477 
SRC.NEWITEM=i_bread_french 
SRC.ACT.BOUNCE 
SRC.NEWITEM=i_bread_french 
SRC.ACT.BOUNCE 
SRC.NEWITEM=i_bread_french 
SRC.ACT.BOUNCE 
f_cook_up 
return 0 

ELSE 
SRC.SYSMESSAGE You burned the food to a crisp. It's ruined. 
SRC.SFX 054 
f_cook_up2 
return 1 

end if 

return 0 

else 
return 1 

endif 

[function f_makecake] 

f_make_fire 

if (<SRC.RESTEST icampfiremem> ) 
SRC.CONSUME=1 i_kindling //consume the kindling 
SRC.CONSUME=1 i_flour_sack //consume ingredients 
SRC.CONSUME=1 i_jar_honey 
SRC.CONSUME=4 i_eggs_fresh 
SRC.CONSUME=1 i_pitcher_milk 
SRC.CONSUME=icampfiremem 

IF ( ((<SRC.COOKING>/10) + RAND(40)) >= (80) ) 
SRC.SYSMESSAGE You cooked the food. 
SRC.SOUND 477 
SRC.NEWITEM=i_cake 
SRC.ACT.BOUNCE 
SRC.NEWITEM=i_cake 
SRC.ACT.BOUNCE 
f_cook_up 
return 0 

ELSE 
SRC.SYSMESSAGE You burned the food to a crisp. It's ruined. 
SRC.SFX 054 
f_cook_up2 
return 1 

end if 

return 0 

else 
return 1 

endif 

[function f_makepizza] 

f_make_fire 

if (<SRC.RESTEST icampfiremem> ) 
SRC.CONSUME=1 i_kindling //consume the kindling 
SRC.CONSUME=4 i_flour_sack //consume ingredients 
SRC.CONSUME=4 i_pitcher_water 
SRC.CONSUME=icampfiremem 

IF ( ((<SRC.COOKING>/10) + RAND(40)) >= (90) ) 
SRC.SYSMESSAGE You cooked the food. 
SRC.SOUND 477 
SRC.NEWITEM=i_pizza 
SRC.ACT.BOUNCE 
SRC.NEWITEM=i_pizza 
SRC.ACT.BOUNCE 
f_cook_up 
return 0 

ELSE 
SRC.SYSMESSAGE You burned the food to a crisp. It's ruined. 
SRC.SFX 054 
f_cook_up2 
return 1 

end if 

return 0 

else 
return 1 

endif 

[function f_makedonuts] 

f_make_fire 

if (<SRC.RESTEST icampfiremem> ) 
SRC.CONSUME=1 i_kindling //consume the kindling 
SRC.CONSUME=2 i_flour_sack //consume ingredients 
SRC.CONSUME=4 i_jar_honey 
SRC.CONSUME=4 i_eggs_fresh 
SRC.CONSUME=icampfiremem 

IF ( ((<SRC.COOKING>/10) + RAND(40)) >= (100) ) 
SRC.SYSMESSAGE You cooked the food. 
SRC.SOUND 477 
SRC.NEWITEM=i_donuts 
SRC.ACT.BOUNCE 
SRC.NEWITEM=i_donuts 
SRC.ACT.BOUNCE 
SRC.NEWITEM=i_donuts 
SRC.ACT.BOUNCE 
f_cook_up 
return 0 

ELSE 
SRC.SYSMESSAGE You burned the food to a crisp. It's ruined. 
SRC.SFX 054 
f_cook_up2 
return 1 

end if 

return 0 

else 
return 1 

endif 

[function f_makeapple_pie] 

f_make_fire 

if (<SRC.RESTEST icampfiremem> ) 
SRC.CONSUME=1 i_kindling //consume the kindling 
SRC.CONSUME=2 i_flour_sack //consume ingredients 
SRC.CONSUME=2 i_jar_honey 
SRC.CONSUME=4 i_eggs_fresh 
SRC.CONSUME=4 i_fruit_apple 
SRC.CONSUME=icampfiremem 

IF ( ((<SRC.COOKING>/10) + RAND(40)) >= (100) ) 
SRC.SYSMESSAGE You cooked the food. 
SRC.SOUND 477 
SRC.NEWITEM=i_pie_baked 
SRC.ACT.BOUNCE 
SRC.NEWITEM=i_pie_baked 
SRC.ACT.BOUNCE 
f_cook_up 
return 0 

ELSE 
SRC.SYSMESSAGE You burned the food to a crisp. It's ruined. 
SRC.SFX 054 
f_cook_up2 
return 1 

end if 

return 0 

else 
return 1 

endif 


[function f_cook_up] 
IF (<SRC.COOKING> < (100.0)) 

IF (<SRC.COOKING> >= (66.6)) 
DORAND 30 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING>+0.1 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
ENDDO 
SRC.UPDATE 

ELSEIF (<SRC.COOKING> >= (33.3)) 
DORAND 20 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING>+0.1 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING>+0.1 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING>+0.1 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING>+0.2 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
ENDDO 
SRC.UPDATE 

ELSE 
DORAND 10 
SRC.COOKING=<SRC.COOKING>+0.1 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING>+0.1 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING>+0.1 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING>+0.1 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING>+0.2 
ENDDO 
SRC.UPDATE 

ENDIF 

ENDIF 


[function f_cook_up2] 
IF (<SRC.COOKING> < (100.0)) 

IF (<SRC.COOKING> >= (66.6)) 
DORAND 30 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING>+0.1 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
ENDDO 
SRC.UPDATE 

ELSEIF (<SRC.COOKING> >= (33.3)) 
DORAND 20 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING>+0.1 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING>+0.1 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
ENDDO 
SRC.UPDATE 

ELSE 
DORAND 10 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING>+0.1 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING>+0.1 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING> 
SRC.COOKING=<SRC.COOKING>+0.2 
ENDDO 
SRC.UPDATE 
endif 

endif 

[function f_make_fire] 
IF ( ((<SRC.CAMPING>/10) + RAND(30)) < (30) ) 
SRC.SYSMESSAGE You failed to ignite the fire. 
SRC.NEWITEM=i_kindling 
src.act.p=<src.p> 
IF <SRC.DIR>==0 
SRC.ACT.MOVE=0,-1 
ELSEIF <SRC.DIR>==1 
SRC.ACT.MOVE=1,-1 
ELSEIF <SRC.DIR>==2 
SRC.ACT.MOVE=1,0 
ELSEIF <SRC.DIR>==3 
SRC.ACT.MOVE=1,1 
ELSEIF <SRC.DIR>==4 
SRC.ACT.MOVE=0,1 
ELSEIF <SRC.DIR>==5 
SRC.ACT.MOVE=-1,1 
ELSEIF <SRC.DIR>==6 
SRC.ACT.MOVE=-1,0 
ELSEIF <SRC.DIR>==7 
SRC.ACT.MOVE=-1,-1 
return 1 

ENDIF 

ELSE 
SRC.SYSMESSAGE You ignited the fire and started to cook. 
SRC.SFX 0226 
src.newitem=icampfiremem //just to know if the fire is light 
src.act.bounce 
TIMER=20 
SRC.NEWITEM=i_campfire 
SRC.ACT.TIMER=20 
src.act.p=<src.p> 
IF <SRC.DIR>==0 
SRC.ACT.MOVE=0,-1 
ELSEIF <SRC.DIR>==1 
SRC.ACT.MOVE=1,-1 
ELSEIF <SRC.DIR>==2 
SRC.ACT.MOVE=1,0 
ELSEIF <SRC.DIR>==3 
SRC.ACT.MOVE=1,1 
ELSEIF <SRC.DIR>==4 
SRC.ACT.MOVE=0,1 
ELSEIF <SRC.DIR>==5 
SRC.ACT.MOVE=-1,1 
ELSEIF <SRC.DIR>==6 
SRC.ACT.MOVE=-1,0 
ELSEIF <SRC.DIR>==7 
SRC.ACT.MOVE=-1,-1 

return 0 
endif 

[itemdef icampfiremem] 
id=0de3 
name=memfire 

on=@create 
attr=08

[EOF]
